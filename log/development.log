  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (873.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (158.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20200221033118)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "price" float, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200221033118"]]
  [1m[35m (229.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-02-21 03:32:12.759479"], ["updated_at", "2020-02-21 03:32:12.759479"]]
  [1m[35m (139.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (82.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (80.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3452578068183699105)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20200221033118)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (66.7ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200221033118"]]
  [1m[35m (14.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-02-21 03:36:36.063105"], ["updated_at", "2020-02-21 03:36:36.063105"]]
  [1m[35m (9.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3452578068183699105)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3452578068183699105)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInventories (20200221033843)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (410.6ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" bigserial primary key, "product_id" integer, "quantity" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200221033843"]]
  [1m[35m (13.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(3452578068183699105)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2020-02-21 11:03:18 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/daycd/.rvm/gems/ruby-2.5.3/gems/railties-6.0.2.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/daycd/.rvm/gems/ruby-2.5.3/gems/railties-6.0.2.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 20.1ms | Allocations: 467)
Completed 200 OK in 62ms (Views: 52.1ms | ActiveRecord: 0.0ms | Allocations: 2633)


Started GET "/" for 127.0.0.1 at 2020-02-21 11:04:25 +0700
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 76ms (ActiveRecord: 0.0ms | Allocations: 4572)


  
NoMethodError (undefined method `accecpt_nested_attributes_for' for #<Class:0x00007f9ea0874ad8>
Did you mean?  accepts_nested_attributes_for):
  
app/models/product.rb:4:in `<class:Product>'
app/models/product.rb:1:in `<top (required)>'
app/controllers/products_controller.rb:3:in `index'
Started GET "/" for 127.0.0.1 at 2020-02-21 11:04:49 +0700
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.0ms | Allocations: 3975)


  
NoMethodError (undefined method `accecpts_nested_attributes_for' for #<Class:0x000055f452c5e6c0>
Did you mean?  accepts_nested_attributes_for):
  
app/models/product.rb:4:in `<class:Product>'
app/models/product.rb:1:in `<top (required)>'
app/controllers/products_controller.rb:3:in `index'
Started GET "/" for 127.0.0.1 at 2020-02-21 11:05:09 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1192)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/daycd/research ruby/seven-system/public/packs
[Webpacker] Hash: 32e57f147dbdcbbf0c82
Version: webpack 4.41.6
Time: 1670ms
Built at: 21/02/2020 11:05:12 am
                                     Asset       Size       Chunks                         Chunk Names
    js/application-bbe9c4a129ab949e0636.js    124 KiB  application  [emitted] [immutable]  application
js/application-bbe9c4a129ab949e0636.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-bbe9c4a129ab949e0636.js js/application-bbe9c4a129ab949e0636.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 2966ms (Views: 2962.1ms | ActiveRecord: 2.3ms | Allocations: 17206)


Started GET "/" for 127.0.0.1 at 2020-02-21 11:06:43 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 819)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.3ms | Allocations: 5461)


Started GET "/" for 127.0.0.1 at 2020-02-21 11:11:50 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  Rendered products/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1279)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.3ms | Allocations: 5913)


Started GET "/" for 127.0.0.1 at 2020-02-21 11:12:12 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  Rendered products/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 918)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.3ms | Allocations: 5543)


Started GET "/" for 127.0.0.1 at 2020-02-21 11:12:20 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  Rendered products/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 930)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.3ms | Allocations: 5556)


Started GET "/" for 127.0.0.1 at 2020-02-21 11:24:20 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  Rendered products/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2052)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 21.1ms | ActiveRecord: 1.8ms | Allocations: 10861)


Started GET "/products/new" for 127.0.0.1 at 2020-02-21 11:24:21 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 3834)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 2.8ms | Allocations: 7771)


Started GET "/products/new" for 127.0.0.1 at 2020-02-21 11:25:47 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 1038)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.3ms | Allocations: 6189)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Add New Product</h1>

<%= simple_form_for @product do |f| %>
	<p>
		<%= t.input 'Name: ' :name, require: true %>
	</p>

	<p>
		<%= f.input 'Price: ', :price, require: true %>
	</p>

	<%= f.submit "Create", class: "btn btn-primary" %>
<% end %>
):
1:    <h1>Add New Product</h1>
2:    
3:    <%= simple_form_for @product do |f| %>
4:    	<p>
5:    		<%= t.input 'Name: ' :name, require: true %>
6:    	</p>
7:    
8:    	<p>
9:    		<%= f.input 'Price: ', :price, require: true %>
10:    	</p>
11:    
12:    	<%= f.submit "Create", class: "btn btn-primary" %>
13:    <% end %>
  
app/views/products/new.html.erb:5: syntax error, unexpected ':', expecting ')'
app/views/products/new.html.erb:5: syntax error, unexpected ':', expecting ')'
app/views/products/new.html.erb:5: syntax error, unexpected ':', expecting ')'
app/views/products/new.html.erb:5: syntax error, unexpected ':', expecting ')'
app/views/products/new.html.erb:5: syntax error, unexpected ':', expecting ')'
app/views/products/new.html.erb:5: syntax error, unexpected ':', expecting ')'
Started GET "/products/new" for 127.0.0.1 at 2020-02-21 11:26:05 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 68.6ms | Allocations: 12625)
Completed 500 Internal Server Error in 73ms (ActiveRecord: 0.0ms | Allocations: 13894)


  
ActionView::Template::Error (wrong number of arguments (given 0, expected 1..2)):
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	<p>
    5: 		<%= t.input :name, require: true %>
    6: 	</p>
    7: 
    8: 	<p>
  
app/views/products/new.html.erb:5
app/views/products/new.html.erb:3
Started GET "/products/new" for 127.0.0.1 at 2020-02-21 11:26:20 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1162)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2405)


  
ActionView::Template::Error (wrong number of arguments (given 3, expected 1..2)):
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	<p>
    5: 		<%= f.input 'Name: ', :name, require: true %>
    6: 	</p>
    7: 
    8: 	<p>
  
app/views/products/new.html.erb:5
app/views/products/new.html.erb:3
Started GET "/products/new" for 127.0.0.1 at 2020-02-21 11:30:12 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 87.7ms | Allocations: 13970)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 97ms (Views: 96.1ms | ActiveRecord: 0.0ms | Allocations: 18557)


Started POST "/products" for 127.0.0.1 at 2020-02-21 11:35:24 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"y47q4GX7xR7wRrPXqfqXxJtXnWrZmG3PvSzsNZkVugLAJZUDTYpfOUXly9OFEZmX1fQpUy0K3Sgb0bcY1ZXZKQ==", "product"=>{"name"=>"a", "price"=>"123"}, "commit"=>"Create"}
No template found for ProductsController#create, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 1706)


Started GET "/" for 127.0.0.1 at 2020-02-21 11:48:18 +0700
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  Rendered products/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 12.8ms | ActiveRecord: 1.4ms | Allocations: 11074)


Started GET "/products/new" for 127.0.0.1 at 2020-02-21 11:48:20 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 39.7ms | Allocations: 19722)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 45.3ms | ActiveRecord: 2.4ms | Allocations: 26768)


Started POST "/products" for 127.0.0.1 at 2020-02-21 11:48:27 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"Vd56NQk8O+qOptK7p9/vPe+NFbh5pdXOhncj4uK0PxlqZbgm4NZLG9xJCG0M1trZvCTajRcdBMHobq0Ywe05DQ==", "product"=>{"name"=>"Sua", "price"=>"10000"}, "commit"=>"Create"}
[31mUnpermitted parameters: :authenticity_token, :product, :commit[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-02-21 04:48:27.678220"], ["updated_at", "2020-02-21 04:48:27.678220"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (17.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 1], ["quantity", 0], ["created_at", "2020-02-21 04:48:27.809249"], ["updated_at", "2020-02-21 04:48:27.809249"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (19.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 159ms (ActiveRecord: 41.0ms | Allocations: 12526)


Started GET "/" for 127.0.0.1 at 2020-02-21 11:48:27 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 11.5ms | Allocations: 3279)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 1.2ms | Allocations: 6974)


Started GET "/" for 127.0.0.1 at 2020-02-21 13:54:20 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 1948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 1.1ms | Allocations: 6578)


Started GET "/products/new" for 127.0.0.1 at 2020-02-21 13:54:21 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 5502)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms | Allocations: 9251)


Started POST "/products" for 127.0.0.1 at 2020-02-21 13:54:35 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"KQHQHPGZUYRkT0bklETB485vmttmUCB7oiqvyvrxx0kWuhIPGHMhdTagnDI/TfQHncZV7gjo8XTMMyEw2ajBXQ==", "product"=>{"name"=>"Banh Mi", "price"=>"12000"}, "commit"=>"Create"}
[31mUnpermitted parameters: :authenticity_token, :product, :commit[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-02-21 06:54:35.755984"], ["updated_at", "2020-02-21 06:54:35.755984"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (37.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 2], ["quantity", 0], ["created_at", "2020-02-21 06:54:35.797654"], ["updated_at", "2020-02-21 06:54:35.797654"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (52.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 100ms (ActiveRecord: 91.3ms | Allocations: 4853)


Started GET "/" for 127.0.0.1 at 2020-02-21 13:54:35 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2439)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.8ms | Allocations: 6130)


Started GET "/" for 127.0.0.1 at 2020-02-21 13:55:16 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 2575)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 13.3ms | ActiveRecord: 2.2ms | Allocations: 7204)


Started GET "/" for 127.0.0.1 at 2020-02-21 13:55:48 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 23.6ms | Allocations: 11213)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 22.1ms | ActiveRecord: 7.2ms | Allocations: 17743)


Started GET "/" for 127.0.0.1 at 2020-02-21 13:55:54 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 25.8ms | Allocations: 16330)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 29.0ms | ActiveRecord: 6.2ms | Allocations: 25271)


Started GET "/" for 127.0.0.1 at 2020-02-21 13:55:57 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2356)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.4ms | ActiveRecord: 1.0ms | Allocations: 6055)


Started GET "/products/new" for 127.0.0.1 at 2020-02-21 13:55:59 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 39.9ms | Allocations: 19711)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 46.0ms | ActiveRecord: 0.0ms | Allocations: 23476)


Started POST "/products" for 127.0.0.1 at 2020-02-21 13:56:08 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"NI4lisNo+vaGfsxDXcNsUhcr0rbECJtplOeM+tMnklgLNeeZKoKKB9SRFpX2ylm2RIIdg6qwSmb6/gIA8H6UTA==", "product"=>{"name"=>"Banh Bao", "price"=>"17000"}, "commit"=>"Create"}
[31mUnpermitted parameters: :authenticity_token, :product, :commit[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-02-21 06:56:08.749524"], ["updated_at", "2020-02-21 06:56:08.749524"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (51.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 3], ["quantity", 0], ["created_at", "2020-02-21 06:56:08.806862"], ["updated_at", "2020-02-21 06:56:08.806862"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (38.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 105ms (ActiveRecord: 91.7ms | Allocations: 5180)


Started GET "/" for 127.0.0.1 at 2020-02-21 13:56:08 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 3171)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.6ms | ActiveRecord: 1.6ms | Allocations: 6860)


Started GET "/" for 127.0.0.1 at 2020-02-21 13:56:42 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 27.0ms | Allocations: 17158)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 29.1ms | ActiveRecord: 6.7ms | Allocations: 26104)


Started GET "/products/new" for 127.0.0.1 at 2020-02-21 13:56:44 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 32.3ms | Allocations: 19711)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 36.6ms | ActiveRecord: 0.0ms | Allocations: 23479)


Started POST "/products" for 127.0.0.1 at 2020-02-21 13:56:52 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"E3R2ew87TbFdnUtHNuj3xvmbZUGDXMNqFsVYtsp6zCcsz7Ro5tE9QA9ykZGd4cIiqjKqdO3kEmV43NZM6SPKMw==", "product"=>{"name"=>"Coffee", "price"=>"10000"}, "commit"=>"Create"}
[31mUnpermitted parameters: :authenticity_token, :product, :commit[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 781)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/services/product_services/create_product_service.rb:9:in `create'
app/controllers/products_controller.rb:15:in `create'
Started GET "/products" for 127.0.0.1 at 2020-02-21 13:58:24 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 33.5ms | Allocations: 17162)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 35.6ms | ActiveRecord: 6.5ms | Allocations: 26113)


Started GET "/products/new" for 127.0.0.1 at 2020-02-21 13:58:25 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 58.1ms | Allocations: 19756)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 63.5ms | ActiveRecord: 0.0ms | Allocations: 23518)


Started POST "/products" for 127.0.0.1 at 2020-02-21 13:58:31 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"FYFrtCbw22G24tcQA2scIau776IrOg8jg4K9355TSggqOqmnzxqrkOQNDcaoYinF+BIgl0WC3iztmzMlvQpMHA==", "product"=>{"name"=>"Banh Bao", "price"=>"10000"}, "commit"=>"Create"}
[31mUnpermitted parameters: :authenticity_token, :product, :commit[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-02-21 06:58:59.303931"], ["updated_at", "2020-02-21 06:58:59.303931"]]
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (15.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[36mInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 4], ["quantity", 0], ["created_at", "2020-02-21 06:58:59.326413"], ["updated_at", "2020-02-21 06:58:59.326413"]]
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 27439ms (ActiveRecord: 27.3ms | Allocations: 23288)


Started GET "/" for 127.0.0.1 at 2020-02-21 13:58:59 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 4000)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 2.0ms | Allocations: 7699)


Started GET "/" for 127.0.0.1 at 2020-02-21 14:00:10 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 25.1ms | Allocations: 12994)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 25.1ms | ActiveRecord: 6.0ms | Allocations: 20368)


Started GET "/products/new" for 127.0.0.1 at 2020-02-21 14:00:11 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 19.4ms | Allocations: 5737)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 26.1ms | ActiveRecord: 0.0ms | Allocations: 9485)


Started POST "/products" for 127.0.0.1 at 2020-02-21 14:00:22 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"Y5D28/zIZwI9sfwZutNZJ/rs+hk0wFigRvITj26ZHAlcKzTgFSIX829eJs8R2mzDqUU1LFp4ia8o6511TcAaHQ==", "product"=>{"name"=>"Xa Xiu", "price"=>"20000"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Xa Xiu"], ["price", 20000.0], ["created_at", "2020-02-21 07:00:28.610745"], ["updated_at", "2020-02-21 07:00:28.610745"]]
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[36mInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 5], ["quantity", 0], ["created_at", "2020-02-21 07:00:28.648460"], ["updated_at", "2020-02-21 07:00:28.648460"]]
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 6530ms (ActiveRecord: 46.3ms | Allocations: 11774)


Started GET "/" for 127.0.0.1 at 2020-02-21 14:00:28 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 4832)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 1.6ms | Allocations: 8523)


Started GET "/" for 127.0.0.1 at 2020-02-23 14:46:55 +0700
  [1m[35m (30.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (31.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 162.6ms | Allocations: 18827)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 270ms (Views: 206.7ms | ActiveRecord: 52.4ms | Allocations: 27688)


Started GET "/products/new" for 127.0.0.1 at 2020-02-23 14:47:02 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 531.7ms | Allocations: 19756)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 541ms (Views: 540.2ms | ActiveRecord: 0.0ms | Allocations: 23529)


Started POST "/products" for 127.0.0.1 at 2020-02-23 14:47:08 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"qHhuOUWviDTdLxKYbynmaJIJi5qnzALWkOZv3Up6NeOthZiZ7zT21OtxeMIfXC1+a/dWXtjrCH01d2T1x0XuQQ==", "product"=>{"name"=>"cc", "price"=>"999999999999"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[36mProduct Create (172.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "cc"], ["price", 999999999999.0], ["created_at", "2020-02-23 07:52:06.355836"], ["updated_at", "2020-02-23 07:52:06.355836"]]
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (36.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[36mInventory Create (30.3ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 6], ["quantity", 0], ["created_at", "2020-02-23 07:52:06.572494"], ["updated_at", "2020-02-23 07:52:06.572494"]]
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[35m (37.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 297836ms (ActiveRecord: 276.8ms | Allocations: 19166)


Started GET "/" for 127.0.0.1 at 2020-02-23 14:52:31 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 5676)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 2.3ms | Allocations: 9372)


Started GET "/" for 127.0.0.1 at 2020-02-23 14:52:46 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 24.5ms | Allocations: 14415)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 23.1ms | ActiveRecord: 5.8ms | Allocations: 20997)


Started GET "/products/new" for 127.0.0.1 at 2020-02-23 14:52:48 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 24.0ms | Allocations: 5550)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 32.0ms | ActiveRecord: 0.0ms | Allocations: 9158)


Started POST "/products" for 127.0.0.1 at 2020-02-23 14:52:53 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"Yv9uTtEaPlOuDnhpvuvWpbh1vIh7eZV06mVXmeNce7VnApjue4FAs5hQEjPOnh2zQYthTARen99P9FyxbmOgFw==", "product"=>{"name"=>"wt", "price"=>"234"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "wt"], ["price", 234.0], ["created_at", "2020-02-23 07:52:56.626754"], ["updated_at", "2020-02-23 07:52:56.626754"]]
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (22.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[36mInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 7], ["quantity", 0], ["created_at", "2020-02-23 07:52:56.661259"], ["updated_at", "2020-02-23 07:52:56.661259"]]
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[35m (21.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 3582ms (ActiveRecord: 45.2ms | Allocations: 11308)


Started GET "/" for 127.0.0.1 at 2020-02-23 14:52:56 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 23.0ms | Allocations: 6495)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 25.7ms | ActiveRecord: 2.5ms | Allocations: 10187)


Started GET "/" for 127.0.0.1 at 2020-02-23 14:53:06 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 6505)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 19.7ms | ActiveRecord: 3.5ms | Allocations: 10198)


Started GET "/products/new" for 127.0.0.1 at 2020-02-23 14:53:08 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 5361)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.0ms | Allocations: 8965)


Started POST "/products" for 127.0.0.1 at 2020-02-23 14:53:12 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"PQp5QuX2ijxP5NtbwIAeJGV7iWCZIMQzCBNywiEOrHM494/iT2303Hm6sQGw9dUynIVUpOYHzpitgnnqrDF30Q==", "product"=>{"name"=>"nani", "price"=>"21"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "nani"], ["price", 21.0], ["created_at", "2020-02-23 07:53:14.795317"], ["updated_at", "2020-02-23 07:53:14.795317"]]
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (29.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[36mInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 8], ["quantity", 0], ["created_at", "2020-02-23 07:53:14.832439"], ["updated_at", "2020-02-23 07:53:14.832439"]]
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 2390ms (ActiveRecord: 48.2ms | Allocations: 11199)


Started GET "/" for 127.0.0.1 at 2020-02-23 14:53:14 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 7326)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 1.9ms | Allocations: 11009)


Started GET "/" for 127.0.0.1 at 2020-02-23 14:54:06 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 43.1ms | Allocations: 21351)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 46.0ms | ActiveRecord: 7.1ms | Allocations: 30299)


Started GET "/products/new" for 127.0.0.1 at 2020-02-23 14:54:07 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 67.5ms | Allocations: 19754)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 73.4ms | ActiveRecord: 0.0ms | Allocations: 23528)


Started POST "/products" for 127.0.0.1 at 2020-02-23 14:54:10 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"bkqhiQk8rSlrsJfQigB70oE4su4H8W5YWvdrZqAfK+lrt1cpo6fTyV3u/Yr6dbDEeMZvKnjWZPP/ZmBOLSDwSw==", "product"=>{"name"=>"qwe", "price"=>"123"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "qwe"], ["price", 123.0], ["created_at", "2020-02-23 07:54:10.671554"], ["updated_at", "2020-02-23 07:54:10.671554"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (50.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 9], ["quantity", 0], ["created_at", "2020-02-23 07:54:10.731193"], ["updated_at", "2020-02-23 07:54:10.731193"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (24.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 96ms (ActiveRecord: 77.2ms | Allocations: 5157)


Started GET "/" for 127.0.0.1 at 2020-02-23 14:54:10 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 37.6ms | Allocations: 8165)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 44.4ms | ActiveRecord: 4.3ms | Allocations: 11855)


Started GET "/" for 127.0.0.1 at 2020-02-23 14:58:32 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  Rendered products/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 695)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.6ms | Allocations: 4391)


Started GET "/products/new" for 127.0.0.1 at 2020-02-23 14:58:37 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 13.4ms | Allocations: 5340)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.0ms | Allocations: 8951)


Started GET "/products/new" for 127.0.0.1 at 2020-02-23 14:58:39 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 33.1ms | Allocations: 5340)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 41.3ms | ActiveRecord: 0.0ms | Allocations: 8948)


Started POST "/products" for 127.0.0.1 at 2020-02-23 14:58:44 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"n7RoiNZ1vHzBpv2cpX1WIuA5BkCSLoVCGb5yKDfEimmaSZ4ofO7CnPf4l8bVCJ00GcfbhO0Jj+m8L3kAuvtRyw==", "product"=>{"name"=>"Sua", "price"=>"10000"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Sua"], ["price", 10000.0], ["created_at", "2020-02-23 07:58:44.835187"], ["updated_at", "2020-02-23 07:58:44.835187"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (32.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 10], ["quantity", 0], ["created_at", "2020-02-23 07:58:44.873086"], ["updated_at", "2020-02-23 07:58:44.873086"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (29.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 74ms (ActiveRecord: 63.2ms | Allocations: 4858)


Started GET "/" for 127.0.0.1 at 2020-02-23 14:58:44 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1516)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.8ms | Allocations: 5207)


Started GET "/products/10/edit" for 127.0.0.1 at 2020-02-23 14:58:47 +0700
  
AbstractController::ActionNotFound (The action 'edit' could not be found for ProductsController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2020-02-23 15:33:41 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 10304)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 18.6ms | ActiveRecord: 0.9ms | Allocations: 17667)


Started GET "/products/10/edit" for 127.0.0.1 at 2020-02-23 15:33:44 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"10"}
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1149)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1762)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Edit Edtails</h1>

<%= simple_form_for @product, :url => {:action = > "update", :id => @product} do |f| %>

  <p>Name: <%= f.input :name %></p>
  <p>Price: <%= f.input :price %></p> 
  <%= f.simple_fields_for :inventory do |ff| %>
      <%= ff.input :quantity %>
  <%end%>
  <br>
	
	<%= f.add_nested_fields_link :inventory %>
	<%= f.submit "Save" %>
<%end%>


<%= link_to 'Back', {:action => 'index'} %>
):
1:    <h1>Edit Edtails</h1>
2:    
3:    <%= simple_form_for @product, :url => {:action = > "update", :id => @product} do |f| %>
4:    
5:      <p>Name: <%= f.input :name %></p>
6:      <p>Price: <%= f.input :price %></p> 
7:      <%= f.simple_fields_for :inventory do |ff| %>
8:          <%= ff.input :quantity %>
9:      <%end%>
10:      <br>
11:    	
12:    	<%= f.add_nested_fields_link :inventory %>
13:    	<%= f.submit "Save" %>
14:    <%end%>
15:    
16:    
17:    <%= link_to 'Back', {:action => 'index'} %>
  
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/products/10/edit" for 127.0.0.1 at 2020-02-23 15:34:07 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/products_controller.rb:28: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/products_controller.rb:28: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/products_controller.rb:28: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/products_controller.rb:28: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/products/10/edit" for 127.0.0.1 at 2020-02-23 15:35:00 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"10"}
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1081)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1709)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Edit Edtails</h1>

<%= simple_form_for @product, :url => {:action = > "update", :id => @product} do |f| %>

  <p>Name: <%= f.input :name %></p>
  <p>Price: <%= f.input :price %></p> 
  <%= f.simple_fields_for :inventory do |ff| %>
      <%= ff.input :quantity %>
  <%end%>
  <br>
	
	<%= f.add_nested_fields_link :inventory %>
	<%= f.submit "Save" %>
<%end%>


<%= link_to 'Back', {:action => 'index'} %>
):
1:    <h1>Edit Edtails</h1>
2:    
3:    <%= simple_form_for @product, :url => {:action = > "update", :id => @product} do |f| %>
4:    
5:      <p>Name: <%= f.input :name %></p>
6:      <p>Price: <%= f.input :price %></p> 
7:      <%= f.simple_fields_for :inventory do |ff| %>
8:          <%= ff.input :quantity %>
9:      <%end%>
10:      <br>
11:    	
12:    	<%= f.add_nested_fields_link :inventory %>
13:    	<%= f.submit "Save" %>
14:    <%end%>
15:    
16:    
17:    <%= link_to 'Back', {:action => 'index'} %>
  
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/products" for 127.0.0.1 at 2020-02-23 15:35:03 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 26.8ms | Allocations: 10330)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 22.3ms | ActiveRecord: 9.9ms | Allocations: 16764)


Started GET "/products/10/edit" for 127.0.0.1 at 2020-02-23 15:35:05 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"10"}
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1117)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 1585)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Edit Edtails</h1>

<%= simple_form_for @product, :url => {:action = > "update", :id => @product} do |f| %>

  <p>Name: <%= f.input :name %></p>
  <p>Price: <%= f.input :price %></p> 
  <%= f.simple_fields_for :inventory do |ff| %>
      <%= ff.input :quantity %>
  <%end%>
  <br>
	
	<%= f.add_nested_fields_link :inventory %>
	<%= f.submit "Save" %>
<%end%>


<%= link_to 'Back', {:action => 'index'} %>
):
1:    <h1>Edit Edtails</h1>
2:    
3:    <%= simple_form_for @product, :url => {:action = > "update", :id => @product} do |f| %>
4:    
5:      <p>Name: <%= f.input :name %></p>
6:      <p>Price: <%= f.input :price %></p> 
7:      <%= f.simple_fields_for :inventory do |ff| %>
8:          <%= ff.input :quantity %>
9:      <%end%>
10:      <br>
11:    	
12:    	<%= f.add_nested_fields_link :inventory %>
13:    	<%= f.submit "Save" %>
14:    <%end%>
15:    
16:    
17:    <%= link_to 'Back', {:action => 'index'} %>
  
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/products/10/edit" for 127.0.0.1 at 2020-02-23 15:39:26 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"10"}
Completed 404 Not Found in 6ms (ActiveRecord: 1.4ms | Allocations: 3489)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/products_controller.rb:24:in `edit'
Started GET "/products/10/edit" for 127.0.0.1 at 2020-02-23 15:42:31 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1096)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.7ms | Allocations: 8603)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Edit Edtails</h1>

<%= simple_form_for @product, :url => {:action = > "update", :id => @product} do |f| %>

  <p>Name: <%= f.input :name %></p>
  <p>Price: <%= f.input :price %></p> 
  <%= f.simple_fields_for :inventory do |ff| %>
      <%= ff.input :quantity %>
  <%end%>
  <br>
	
	<%= f.add_nested_fields_link :inventory %>
	<%= f.submit "Save" %>
<%end%>


<%= link_to 'Back', {:action => 'index'} %>
):
1:    <h1>Edit Edtails</h1>
2:    
3:    <%= simple_form_for @product, :url => {:action = > "update", :id => @product} do |f| %>
4:    
5:      <p>Name: <%= f.input :name %></p>
6:      <p>Price: <%= f.input :price %></p> 
7:      <%= f.simple_fields_for :inventory do |ff| %>
8:          <%= ff.input :quantity %>
9:      <%end%>
10:      <br>
11:    	
12:    	<%= f.add_nested_fields_link :inventory %>
13:    	<%= f.submit "Save" %>
14:    <%end%>
15:    
16:    
17:    <%= link_to 'Back', {:action => 'index'} %>
  
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
app/views/products/edit.html.erb:3: syntax error, unexpected '=', expecting =>
app/views/products/edit.html.erb:3: syntax error, unexpected ',', expecting keyword_end
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/products/10/edit" for 127.0.0.1 at 2020-02-23 15:45:56 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 278.1ms | Allocations: 134812)
Completed 500 Internal Server Error in 292ms (ActiveRecord: 3.2ms | Allocations: 136569)


  
ActionView::Template::Error (undefined method `add_nested_fields_link' for #<SimpleForm::FormBuilder:0x0000561353a485c8>):
     9:   <%end%>
    10:   <br>
    11: 	
    12: 	<%= f.add_nested_fields_link :inventory %>
    13: 	<%= f.submit "Save" %>
    14: <%end%>
    15: 
  
app/views/products/edit.html.erb:12
app/views/products/edit.html.erb:3
Started GET "/products/10/edit" for 127.0.0.1 at 2020-02-23 15:47:11 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 51.0ms | Allocations: 33291)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 344ms (Views: 324.8ms | ActiveRecord: 5.9ms | Allocations: 54630)


Started GET "/products/10/edit" for 127.0.0.1 at 2020-02-23 15:47:41 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 41.0ms | Allocations: 9453)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 51.2ms | ActiveRecord: 1.7ms | Allocations: 14571)


Started GET "/products/10/edit" for 127.0.0.1 at 2020-02-23 15:53:17 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24:in `edit'
Completed 404 Not Found in 7ms (ActiveRecord: 0.4ms | Allocations: 4453)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=10):
  
app/controllers/products_controller.rb:24:in `edit'
Started GET "/" for 127.0.0.1 at 2020-02-23 15:53:21 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  Rendered products/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1278)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 0.5ms | Allocations: 5927)


Started GET "/" for 127.0.0.1 at 2020-02-23 16:42:28 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/products_controller.rb:31: syntax error, unexpected keyword_else, expecting ')'
		else	
		^~~~
/home/daycd/research ruby/seven-system/app/controllers/products_controller.rb:33: syntax error, unexpected keyword_end, expecting ')'
		end
		^~~
/home/daycd/research ruby/seven-system/app/controllers/products_controller.rb:39: syntax error, unexpected keyword_end, expecting ')'):
  
app/controllers/products_controller.rb:31: syntax error, unexpected keyword_else, expecting ')'
app/controllers/products_controller.rb:33: syntax error, unexpected keyword_end, expecting ')'
app/controllers/products_controller.rb:39: syntax error, unexpected keyword_end, expecting ')'
app/controllers/products_controller.rb:31: syntax error, unexpected keyword_else, expecting ')'
app/controllers/products_controller.rb:33: syntax error, unexpected keyword_end, expecting ')'
app/controllers/products_controller.rb:39: syntax error, unexpected keyword_end, expecting ')'
app/controllers/products_controller.rb:31: syntax error, unexpected keyword_else, expecting ')'
app/controllers/products_controller.rb:33: syntax error, unexpected keyword_end, expecting ')'
app/controllers/products_controller.rb:39: syntax error, unexpected keyword_end, expecting ')'
Started GET "/" for 127.0.0.1 at 2020-02-23 16:42:50 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  Rendered products/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1549)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 8.1ms | ActiveRecord: 3.0ms | Allocations: 5986)


Started GET "/products/new" for 127.0.0.1 at 2020-02-23 16:42:52 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 25.5ms | Allocations: 5807)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 34.3ms | ActiveRecord: 7.0ms | Allocations: 12640)


Started POST "/products" for 127.0.0.1 at 2020-02-23 16:43:03 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"EtpHuofCyf8naclb7aWtHoBnMcHjddhPlBrXEeGTx8EXJ7EaLVm3HxE3owGd0GYIeZnsBZxS0uQxi9w5bKwcYw==", "product"=>{"name"=>"Sau", "price"=>"10000"}, "commit"=>"Create"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Sau"], ["price", 10000.0], ["created_at", "2020-02-23 09:43:03.357843"], ["updated_at", "2020-02-23 09:43:03.357843"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (327.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (1.2ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 1], ["quantity", 0], ["created_at", "2020-02-23 09:43:03.712558"], ["updated_at", "2020-02-23 09:43:03.712558"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (377.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 745ms (ActiveRecord: 713.4ms | Allocations: 9785)


Started GET "/" for 127.0.0.1 at 2020-02-23 16:43:04 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (3.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 1760)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 31.7ms | ActiveRecord: 5.1ms | Allocations: 5476)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 16:43:06 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 23.6ms | Allocations: 9576)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 28.6ms | ActiveRecord: 0.8ms | Allocations: 13990)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 16:43:37 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"6wfKqzoVqbgcOpBrJcMCmrBTDSqRxeq18kYXHy3JiuNnBdJYCkbz+3jTzeEvDVVM+KTK+vXRdC8rOiKKk2JAXw==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:12:in `update'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:12:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-02-23 09:43:37.333840"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:12:in `update'
  [1m[35m (15.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:12:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 17.2ms | Allocations: 4641)


Started GET "/" for 127.0.0.1 at 2020-02-23 16:43:37 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1514)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.5ms | Allocations: 5222)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 16:43:39 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 20.0ms | Allocations: 9197)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.3ms | ActiveRecord: 0.6ms | Allocations: 13359)


Started GET "/" for 127.0.0.1 at 2020-02-23 16:43:40 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1514)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.7ms | Allocations: 5229)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 16:43:42 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 32.5ms | Allocations: 9200)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 39.2ms | ActiveRecord: 0.8ms | Allocations: 13361)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 16:43:43 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 22.7ms | Allocations: 9210)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 29.4ms | ActiveRecord: 0.8ms | Allocations: 13378)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 16:43:45 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 26.5ms | Allocations: 9197)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 32.7ms | ActiveRecord: 0.9ms | Allocations: 13356)


Started GET "/" for 127.0.0.1 at 2020-02-23 16:43:45 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1514)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 0.7ms | Allocations: 5230)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 16:52:30 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 50.8ms | Allocations: 33308)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 79ms (Views: 59.3ms | ActiveRecord: 5.9ms | Allocations: 47371)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 16:52:32 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"NvYi3Ve06FDVUgHvNdzSPCR1sVLUltDgDIT6XQMYVKO69DouZ+eyE7G7XGU/EoXqbIJ2grCCTnrV+M/IvbOeHw==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"11"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-02-23 09:55:09.603450"], ["id", 11]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 157297ms (ActiveRecord: 18.2ms | Allocations: 26575)


Started GET "/" for 127.0.0.1 at 2020-02-23 16:55:23 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 27.8ms | Allocations: 14551)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 31.8ms | ActiveRecord: 6.7ms | Allocations: 23545)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 16:55:25 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 37.0ms | Allocations: 23999)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 42.1ms | ActiveRecord: 0.6ms | Allocations: 28436)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 16:55:28 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"zNftd9t3BcKPXaKlCvFoegRcvTa8Ajr0TAiB1+VTGy9A1fWE6yRfgeu0/y8APz+sTKt65tgWpG6VdLRCW/jRkw==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"0", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (1.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-02-23 09:55:28.318519"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (14.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 38ms (ActiveRecord: 17.4ms | Allocations: 7257)


Started GET "/" for 127.0.0.1 at 2020-02-23 16:55:28 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1508)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.6ms | Allocations: 5216)


Started GET "/" for 127.0.0.1 at 2020-02-23 16:55:33 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.6ms | Allocations: 5219)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:01:23 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 9547)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 21.6ms | ActiveRecord: 0.9ms | Allocations: 16254)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:01:25 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 29.3ms | Allocations: 9454)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 36.5ms | ActiveRecord: 0.9ms | Allocations: 13726)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:01:29 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"UGT6RaiMOI/tyaDqP+sFlzSXLk8D1hL0UXqAczQHJo7cZuK2mN9izIkg/WA1JVJBfGDpn2fCjG6IBrXmiqzsMg==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"199", "id"=>"11"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 199], ["updated_at", "2020-02-23 10:01:29.229096"], ["id", 11]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (18.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 36ms (ActiveRecord: 20.7ms | Allocations: 6633)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:01:29 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1509)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.6ms | Allocations: 5224)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:01:31 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1508)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.6ms | Allocations: 5218)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:01:33 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 42.9ms | Allocations: 9180)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 52.0ms | ActiveRecord: 1.3ms | Allocations: 13350)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:01:36 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"TH7GKjcAC8btpTE7DNfl39btE1JGtzX2hh1DX0t0lk/AfN7ZB1NRhYlMbLEGGbIJnhrUgiKjq2xfYXbK9d9c8w==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-02-23 10:01:36.119387"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 48ms (ActiveRecord: 20.9ms | Allocations: 5735)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:01:36 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.6ms | Allocations: 5218)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:02:06 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.7ms | Allocations: 5221)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:02:32 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 29.2ms | Allocations: 14222)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 32.2ms | ActiveRecord: 7.1ms | Allocations: 24977)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:02:37 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"h+GjYXogxorOculEG2U3iII0W7pIw+z1UBJQyun2D8kL47uSSnOcyaqbtM4Rq2BeysOcaizXcm+JbmVfV13FdQ==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"11"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (4.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-02-23 10:02:37.450733"], ["id", 11]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (26.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 51ms (ActiveRecord: 33.8ms | Allocations: 6604)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:02:37 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1509)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.6ms | Allocations: 5222)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:02:40 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 33.6ms | Allocations: 9182)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 40.6ms | ActiveRecord: 0.5ms | Allocations: 13338)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:02:42 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"26dNxDWX0ahv1oWXP+29sbekdZ3cKuiyx0VYsI88FmRXpVU3BcSL6ws/2B01I+pn/1OyTbg+digeOW0lMZfc2A==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"99", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (1.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 99], ["updated_at", "2020-02-23 10:02:42.468219"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (374.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 391ms (ActiveRecord: 376.4ms | Allocations: 5729)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:02:42 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.6ms | ActiveRecord: 1.0ms | Allocations: 5219)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:02:55 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 25.0ms | Allocations: 14551)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 34.3ms | ActiveRecord: 7.2ms | Allocations: 23544)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:02:56 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 40.7ms | Allocations: 24005)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 46.0ms | ActiveRecord: 0.7ms | Allocations: 28443)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:03:00 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"Ycu8iVM09gN5QpnmbxSFNCS3kXd6+dxBUfDD1P99+DntyaR6Y2esQB2rxGxl2tLibEBWpx7tQtuIjPZBQdYyhQ==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"999", "id"=>"11"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 999], ["updated_at", "2020-02-23 10:09:47.354147"], ["id", 11]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (17.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 406724ms (ActiveRecord: 19.6ms | Allocations: 140164)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:09:47 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 9732)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 19.1ms | ActiveRecord: 5.8ms | Allocations: 16445)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:09:49 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 1.1ms | Allocations: 5219)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:09:51 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 27.9ms | Allocations: 9473)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 38.0ms | ActiveRecord: 1.0ms | Allocations: 13747)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:09:53 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"RgujKnmmjKUW180I848laUkHOXslrcRDZBXdPk70nK/KCbvZSfXW5nI+kIL5QXK/AfD+q0G5Wtm9aeir8F9WEw==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"999", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.0ms | Allocations: 1713)


Started GET "/products" for 127.0.0.1 at 2020-02-23 17:10:07 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 24.7ms | Allocations: 14551)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 35.8ms | ActiveRecord: 6.1ms | Allocations: 23546)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:10:09 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 43.3ms | Allocations: 24005)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 49.7ms | ActiveRecord: 0.7ms | Allocations: 28440)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:10:10 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"90Fhl8tK//njezGUmtUWcz5k+uc9frCTjgmSDyBSY1J7Q3lk+xmluoeSbB6QG0GldpM9N1lqLglXdaeanvmp7g==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"999", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.0ms | Allocations: 1725)


Started GET "/products" for 127.0.0.1 at 2020-02-23 17:10:58 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 16.9ms | Allocations: 9730)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 18.1ms | ActiveRecord: 5.1ms | Allocations: 16441)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:11:00 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 27.6ms | Allocations: 9454)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 35.0ms | ActiveRecord: 1.5ms | Allocations: 13722)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:11:02 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"j/+OaQKHjF2PD+WqMQN8khqPyEuBkschncL9y20K/uoD/ZaaMtTWHuvmuCA7zStEUngPm+WGWbtEvshe06E0Vg==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"999", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 999], ["updated_at", "2020-02-23 10:11:05.809955"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (32.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 3660ms (ActiveRecord: 34.6ms | Allocations: 21329)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:11:16 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 24.8ms | Allocations: 14551)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 40.5ms | ActiveRecord: 6.4ms | Allocations: 23545)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:11:17 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 39.1ms | Allocations: 24005)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 44.5ms | ActiveRecord: 0.7ms | Allocations: 28446)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:11:20 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"/K8cW0OtIQfmtAvfupGx3TCDXo4mKNz8f8qcUKY4oQRwrQSoc/57RIJdVlWwX+YLeHSZXkI8QmamtqnFGJNruA==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"11"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-02-23 10:11:20.097516"], ["id", 11]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (17.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 39ms (ActiveRecord: 19.0ms | Allocations: 7256)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:11:20 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1508)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.5ms | Allocations: 5222)


Started GET "/products/index" for 127.0.0.1 at 2020-02-23 17:11:41 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for ProductsController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/index" for 127.0.0.1 at 2020-02-23 17:12:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"index"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29:in `show'
Completed 404 Not Found in 10ms (ActiveRecord: 2.8ms | Allocations: 4478)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=index):
  
app/controllers/products_controller.rb:29:in `show'
Started GET "/" for 127.0.0.1 at 2020-02-23 17:12:24 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 34.2ms | Allocations: 9406)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 37.1ms | ActiveRecord: 8.1ms | Allocations: 13183)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:12:26 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 26.4ms | Allocations: 9471)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 32.3ms | ActiveRecord: 0.7ms | Allocations: 13652)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:12:29 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"t4dyngmE70M+HDMa3zggW391osmnoN6ld2f/hI8TIO87hWptOde1AFr1bpDV9neNN4JlGcO0QD+uG8oRMbjqUw==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-02-23 10:12:29.135489"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (598.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 616ms (ActiveRecord: 599.7ms | Allocations: 6612)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:12:29 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.3ms | ActiveRecord: 1.1ms | Allocations: 5212)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:12:32 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 18.3ms | Allocations: 9190)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.2ms | ActiveRecord: 0.6ms | Allocations: 13347)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:12:35 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"a8qhUPJQGwp6Vp8OLeThBni8MOhyg39RKq+AvZ5SsQDnyLmjwgNBSR6/woQnKrbQMEv3OBaX4cvz07UoIPl7vA==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"101", "id"=>"11"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 101], ["updated_at", "2020-02-23 10:12:35.736576"], ["id", 11]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 50ms (ActiveRecord: 22.9ms | Allocations: 5750)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:12:35 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1508)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 1.2ms | Allocations: 5225)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:13:04 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 19.5ms | Allocations: 9730)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 18.9ms | ActiveRecord: 6.0ms | Allocations: 16450)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:13:06 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 20.4ms | Allocations: 9469)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 27.8ms | ActiveRecord: 0.6ms | Allocations: 13737)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:13:08 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"l75oSmclgsrx/eQ8hw9oX7N/0DefU+TC9pjTb1MHDi8bvHC5V3bYiZUUubaNwT+J+4gX5/tHelgv5Ob67azEkw==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"101", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 101], ["updated_at", "2020-02-23 10:13:08.523103"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (15.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 32ms (ActiveRecord: 16.9ms | Allocations: 6608)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:13:08 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.4ms | Allocations: 5216)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:13:10 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 24.4ms | Allocations: 9201)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.4ms | ActiveRecord: 0.6ms | Allocations: 13360)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:13:11 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"FOVg56zZEOoj6YbbVa7WQ302SU0NQeX/ky7dvzX/IR+Y53gUnIpKqUcA21FfYIGVNcGOnWlVe2VKUugqi1Trow==", "product"=>{"name"=>"Sau", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"1010", "id"=>"11"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (5.2ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 1010], ["updated_at", "2020-02-23 10:13:11.730846"], ["id", 11]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (1176.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 1203ms (ActiveRecord: 1184.1ms | Allocations: 5728)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:13:12 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 12.3ms | ActiveRecord: 1.5ms | Allocations: 5215)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:13:16 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 52.1ms | Allocations: 9190)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 60.4ms | ActiveRecord: 1.7ms | Allocations: 13354)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:13:21 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"UO2c0syJTtrozXk/oRd6WFlUucfxnHVe1IYx7Yis4G3c74Qh/NoUmYwkJLWr2S2OEaN+F5WI68QN+gR4Ngcq0Q==", "product"=>{"name"=>"Sua", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"1010", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "name" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["name", "Sua"], ["updated_at", "2020-02-23 10:13:21.053561"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 1010], ["updated_at", "2020-02-23 10:13:21.056419"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (36.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 59ms (ActiveRecord: 40.6ms | Allocations: 6565)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:13:21 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.4ms | ActiveRecord: 0.9ms | Allocations: 5215)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:13:29 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 21.8ms | ActiveRecord: 1.2ms | Allocations: 5224)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:13:30 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 25.0ms | Allocations: 9192)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 31.7ms | ActiveRecord: 0.5ms | Allocations: 13355)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:13:32 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"4PmPxIxjvocWMwqUZ7QKQ6Fdvk43SVGehB3BKLXRtTNs+5c3vDDkxHLaVx5tel2V6ap5nlNdzwRdYfS9C3p/jw==", "product"=>{"name"=>"Sua", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"1010", "id"=>"11"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (2.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 23ms (ActiveRecord: 3.9ms | Allocations: 3395)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:13:32 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.5ms | Allocations: 5220)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:13:34 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 39.5ms | Allocations: 9202)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 46.0ms | ActiveRecord: 1.5ms | Allocations: 13367)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:13:36 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"pOgaSMfHYKqw0tIiitbMDScq4oQOJ8EVUSdDCWZ6X3go6gK795Q66dQ7j6iAGJvbb90lVGozX4+IW3ac2NGVxA==", "product"=>{"name"=>"Sua", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"101", "id"=>"11"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 101], ["updated_at", "2020-02-23 10:13:36.249851"], ["id", 11]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (60.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 103ms (ActiveRecord: 61.9ms | Allocations: 5730)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:13:36 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 20.4ms | ActiveRecord: 0.9ms | Allocations: 5223)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:13:38 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 21.1ms | Allocations: 9192)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 26.4ms | ActiveRecord: 0.5ms | Allocations: 13352)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:13:40 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"lsKIdqsF6aXU0wppwyeV+7TX6FVvfc5uxVxM72uIpvgawJCFm1az5rA6V+PJ6cIt/CAvhQtpUPQcIHl61SNsRA==", "product"=>{"name"=>"Sua", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"10109", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (2.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10109], ["updated_at", "2020-02-23 10:13:40.678022"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (21.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 46ms (ActiveRecord: 25.0ms | Allocations: 5730)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:13:40 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 1.6ms | Allocations: 5224)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3452578068183699105)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (19.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3452578068183699105)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3452578068183699105)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInventories (20200221033843)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (47.9ms)[0m  [1m[35mDROP TABLE "inventories"[0m
  [1m[36mprimary::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20200221033843"]]
  [1m[35m (70.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(3452578068183699105)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3452578068183699105)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInventories (20200221033843)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (131.2ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" bigserial primary key, "product_id" bigint, "quantity" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (29.1ms)[0m  [1m[35mCREATE  INDEX  "index_inventories_on_product_id" ON "inventories"  ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200221033843"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3452578068183699105)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2020-02-23 17:31:43 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 21.5ms | Allocations: 12720)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 4.8ms | Allocations: 16690)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    16: 		<tr>
    17: 			<td><%= p.name -%></td>
    18: 			<td><%= p.price -%></td>
    19: 			<td><%= p.inventory.quantity -%></td>
    20: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    21: 		</tr>
    22: 		<% end %>
  
app/views/products/index.html.erb:19
app/views/products/index.html.erb:15
Started GET "/" for 127.0.0.1 at 2020-02-23 17:36:42 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  Rendered products/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1071)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.2ms | ActiveRecord: 0.7ms | Allocations: 6660)


Started GET "/products/new" for 127.0.0.1 at 2020-02-23 17:36:44 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 181.6ms | Allocations: 117967)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 189ms (Views: 187.6ms | ActiveRecord: 0.0ms | Allocations: 121756)


Started POST "/products" for 127.0.0.1 at 2020-02-23 17:36:49 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"VYzcDFxLy+ODopcr8oln9mijjCf16m+8sUX806yEh/BQcSqs9tC1A7X8/XGC/KzgkV1R44rNZRcU1Pf7IbtcUg==", "product"=>{"name"=>"Sua", "price"=>"10000"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Sua"], ["price", 10000.0], ["created_at", "2020-02-23 10:36:49.021733"], ["updated_at", "2020-02-23 10:36:49.021733"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (29.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (1.0ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 1], ["quantity", 0], ["created_at", "2020-02-23 10:36:49.070625"], ["updated_at", "2020-02-23 10:36:49.070625"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (29.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 87ms (ActiveRecord: 64.1ms | Allocations: 9105)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:36:49 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 1534)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 0.9ms | Allocations: 5254)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:36:50 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 18.2ms | Allocations: 9847)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 23.7ms | ActiveRecord: 0.5ms | Allocations: 14265)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:36:52 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"MuLKK8+wrzMXE+AlPrIlGPGHPulZ/oAqCJAsQyYwL5i+4NLY/+P1cHP6va80fHLOuXD5OT3qHrDR7BnWmJvlJA==", "product"=>{"name"=>"Sua", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"20", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 20], ["updated_at", "2020-02-23 10:36:52.472181"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (21.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 36ms (ActiveRecord: 24.6ms | Allocations: 4659)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:36:52 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1514)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.6ms | Allocations: 5227)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-02-23 17:36:55 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 28.0ms | Allocations: 9201)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 33.7ms | ActiveRecord: 0.7ms | Allocations: 13364)


Started PATCH "/products/1" for 127.0.0.1 at 2020-02-23 17:36:57 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"abddjXphvs6T0kUmZpRv5tRncKg32CeQSgO5V0dVd93ltUV+SjLkjfc7GKxsWjgwnJC3eFPMuQqTf4zC+f69YQ==", "product"=>{"name"=>"Sua", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"30", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 30], ["updated_at", "2020-02-23 10:36:57.521600"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 25ms (ActiveRecord: 14.3ms | Allocations: 4587)


Started GET "/" for 127.0.0.1 at 2020-02-23 17:36:57 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:15
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:19
  Rendered products/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1513)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.7ms | Allocations: 5227)


Started GET "/products/new" for 127.0.0.1 at 2020-02-23 19:59:39 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 28.7ms | Allocations: 20076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 39.9ms | ActiveRecord: 2.5ms | Allocations: 32748)


Started GET "/" for 127.0.0.1 at 2020-02-23 19:59:42 +0700
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 18ms (ActiveRecord: 3.7ms | Allocations: 6284)


  
NoMethodError (undefined method `check' for #<Inventory:0x000055900930f838>):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/" for 127.0.0.1 at 2020-02-23 20:00:26 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  Rendered products/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1144)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 4883)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Summary</h1>

<%= if @inventory.blank? %>
	<p> There are current products in inventory </p>
<%else%>
	<p style="color: red"> There are <%= @inventories.count() %> products need to being imported </p>
<%end%>
<table width="100%" border="1">
	<thead>
		<tr>
			<th>Name</th>
			<th>Price</th>
			<th>Inventory</th>
			<th>Option</th>
		</tr>
	</thead>

	<tbody>
		<% @products.each do |p| %>
		<tr>
			<td><%= p.name %></td>
			<td><%= p.price %></td>
			<td><%= p.inventory.quantity -%></td>
			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
		</tr>
		<% end %>
	</tbody>
</table>

<br>
<%= link_to "Add New Product", {:action => 'new'} %>
):
1:    <h1>Summary</h1>
2:    
3:    <%= if @inventory.blank? %>
4:    	<p> There are current products in inventory </p>
5:    <%else%>
6:    	<p style="color: red"> There are <%= @inventories.count() %> products need to being imported </p>
7:    <%end%>
8:    <table width="100%" border="1">
9:    	<thead>
10:    		<tr>
11:    			<th>Name</th>
12:    			<th>Price</th>
13:    			<th>Inventory</th>
14:    			<th>Option</th>
15:    		</tr>
16:    	</thead>
17:    
18:    	<tbody>
19:    		<% @products.each do |p| %>
20:    		<tr>
21:    			<td><%= p.name %></td>
22:    			<td><%= p.price %></td>
23:    			<td><%= p.inventory.quantity -%></td>
24:    			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
25:    		</tr>
26:    		<% end %>
27:    	</tbody>
28:    </table>
29:    
30:    <br>
31:    <%= link_to "Add New Product", {:action => 'new'} %>
  
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
Started GET "/" for 127.0.0.1 at 2020-02-23 20:00:40 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  Rendered products/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1179)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2442)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Summary</h1>

<%= if @inventories.blank? %>
	<p> There are current products in inventory </p>
<%else%>
	<p style="color: red"> There are <%= @inventories.count() %> products need to being imported </p>
<%end%>
<table width="100%" border="1">
	<thead>
		<tr>
			<th>Name</th>
			<th>Price</th>
			<th>Inventory</th>
			<th>Option</th>
		</tr>
	</thead>

	<tbody>
		<% @products.each do |p| %>
		<tr>
			<td><%= p.name %></td>
			<td><%= p.price %></td>
			<td><%= p.inventory.quantity -%></td>
			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
		</tr>
		<% end %>
	</tbody>
</table>

<br>
<%= link_to "Add New Product", {:action => 'new'} %>
):
1:    <h1>Summary</h1>
2:    
3:    <%= if @inventories.blank? %>
4:    	<p> There are current products in inventory </p>
5:    <%else%>
6:    	<p style="color: red"> There are <%= @inventories.count() %> products need to being imported </p>
7:    <%end%>
8:    <table width="100%" border="1">
9:    	<thead>
10:    		<tr>
11:    			<th>Name</th>
12:    			<th>Price</th>
13:    			<th>Inventory</th>
14:    			<th>Option</th>
15:    		</tr>
16:    	</thead>
17:    
18:    	<tbody>
19:    		<% @products.each do |p| %>
20:    		<tr>
21:    			<td><%= p.name %></td>
22:    			<td><%= p.price %></td>
23:    			<td><%= p.inventory.quantity -%></td>
24:    			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
25:    		</tr>
26:    		<% end %>
27:    	</tbody>
28:    </table>
29:    
30:    <br>
31:    <%= link_to "Add New Product", {:action => 'new'} %>
  
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:3: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/index.html.erb:5: syntax error, unexpected keyword_else, expecting ')'
app/views/products/index.html.erb:7: syntax error, unexpected keyword_end, expecting ')'
app/views/products/index.html.erb:33: syntax error, unexpected keyword_end, expecting ')'
Started GET "/" for 127.0.0.1 at 2020-02-23 20:03:36 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  Rendered products/index.html.erb within layouts/application (Duration: 173.6ms | Allocations: 109350)
Completed 500 Internal Server Error in 180ms (ActiveRecord: 0.0ms | Allocations: 110603)


  
ActionView::Template::Error (Can't join 'Product' to association named 'inventories'; perhaps you misspelled it?):
    1: <h1>Summary</h1>
    2: 
    3: <% if @inventories.blank? %>
    4: 	<p> There are current products in inventory </p>
    5: <%else%>
    6: 	<p style="color: red"> There are <%= @inventories.count() %> products need to being imported </p>
  
app/views/products/index.html.erb:3
Started GET "/" for 127.0.0.1 at 2020-02-23 20:05:50 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  Rendered products/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 937)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 4537)


  
ActionView::Template::Error (Can't join 'Product' to association named 'inventories'; perhaps you misspelled it?):
    1: <h1>Summary</h1>
    2: 
    3: <% if @inventories.blank? %>
    4: 	<p> There are current products in inventory </p>
    5: <%else%>
    6: 	<p style="color: red"> There are <%= @inventories.count() %> products need to being imported </p>
  
app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventory.quantity <= 2)[0m
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventory.quantity <= 2) LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2020-02-23 20:07:59 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:23
  Rendered products/index.html.erb within layouts/application (Duration: 29.7ms | Allocations: 18384)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 35.0ms | ActiveRecord: 6.4ms | Allocations: 27421)


Started GET "/products/new" for 127.0.0.1 at 2020-02-23 20:08:05 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 30.7ms | Allocations: 19785)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 36.3ms | ActiveRecord: 0.0ms | Allocations: 23567)


Started POST "/products" for 127.0.0.1 at 2020-02-23 20:08:13 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"9dH+xNeEio3GSkoOtE97gcITR27lSf9J5BNYxK+mrtLwLAhkfR/0bfAUIFTEOrCXO+2aqppu9eJBglPsIpl1cA==", "product"=>{"name"=>"Cam", "price"=>"5000"}, "commit"=>"Create"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cam"], ["price", 5000.0], ["created_at", "2020-02-23 13:08:13.765741"], ["updated_at", "2020-02-23 13:08:13.765741"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (21.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 2], ["quantity", 0], ["created_at", "2020-02-23 13:08:13.794025"], ["updated_at", "2020-02-23 13:08:13.794025"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 57ms (ActiveRecord: 43.2ms | Allocations: 5147)


Started GET "/" for 127.0.0.1 at 2020-02-23 20:08:13 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:23
  Rendered products/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 3822)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.2ms | ActiveRecord: 2.1ms | Allocations: 7573)


Started GET "/products/new" for 127.0.0.1 at 2020-02-23 20:08:17 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 16.5ms | Allocations: 5371)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 27.1ms | ActiveRecord: 0.0ms | Allocations: 9006)


Started POST "/products" for 127.0.0.1 at 2020-02-23 20:08:28 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"kZnmJcxbOAARu9bcqc7PvKBreMg7xJNwsCvsBGOOZ62UZBCFZsBG4CflvIbZuwSqWZWlDETjmdsVuucs7rG8Dw==", "product"=>{"name"=>"Quyt", "price"=>"3000"}, "commit"=>"Create"}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Quyt"], ["price", 3000.0], ["created_at", "2020-02-23 13:08:28.875295"], ["updated_at", "2020-02-23 13:08:28.875295"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (25.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 3], ["quantity", 0], ["created_at", "2020-02-23 13:08:28.913327"], ["updated_at", "2020-02-23 13:08:28.913327"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (28.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 76ms (ActiveRecord: 55.9ms | Allocations: 4836)


Started GET "/" for 127.0.0.1 at 2020-02-23 20:08:28 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:23
  Rendered products/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 4638)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 18.9ms | ActiveRecord: 2.8ms | Allocations: 8389)


Started GET "/products/2/edit" for 127.0.0.1 at 2020-02-23 20:08:31 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 159.0ms | Allocations: 108210)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 169ms (Views: 164.6ms | ActiveRecord: 0.5ms | Allocations: 112649)


Started PATCH "/products/2" for 127.0.0.1 at 2020-02-23 20:08:33 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"ftbukQWsbbV3c90/ymFfVjGlny5adKuP1glz9yolPyvJGzGQ8cmUwzXWzV1YzVAj8Fge07MoMh1bp4t/z09p5g==", "product"=>{"name"=>"Cam", "price"=>"5000.0", "inventory_attributes"=>{"quantity"=>"2", "id"=>"2"}}, "commit"=>"Save", "id"=>"2"}
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (4.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 2], ["updated_at", "2020-02-23 13:08:33.991500"], ["id", 2]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (13.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 47ms (ActiveRecord: 20.6ms | Allocations: 4659)


Started GET "/" for 127.0.0.1 at 2020-02-23 20:08:34 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:19
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:23
  Rendered products/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 4637)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.3ms | ActiveRecord: 1.7ms | Allocations: 8390)


  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT SUM("inventories"."quantity") FROM "inventories"[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM() FROM "inventories"[0m
Started GET "/" for 127.0.0.1 at 2020-02-23 20:59:52 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 27.4ms | Allocations: 11689)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 4.6ms | Allocations: 15710)


  
ActionView::Template::Error (No route matches {:action=>"import", :controller=>"products"}):
     5: <%else%>
     6: 	<p style="color: red"> There are <%= @inventories.count() %> products need to being imported </p>
     7: <%end%>
     8: <% link_to 'Show imports lists', {:action => 'import'} %>
     9: 
    10: <table width="100%" border="1">
    11: 	<thead>
  
app/views/products/index.html.erb:8
Started GET "/" for 127.0.0.1 at 2020-02-23 21:04:41 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 36.3ms | Allocations: 17029)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 37.7ms | ActiveRecord: 7.8ms | Allocations: 25656)


Started GET "/" for 127.0.0.1 at 2020-02-23 21:05:03 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 5024)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 21.9ms | ActiveRecord: 3.0ms | Allocations: 9716)


Started GET "/" for 127.0.0.1 at 2020-02-23 21:05:04 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 4727)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 2.5ms | Allocations: 8480)


Started GET "/" for 127.0.0.1 at 2020-02-23 21:05:17 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 47.3ms | Allocations: 20931)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 51.1ms | ActiveRecord: 8.9ms | Allocations: 29971)


Started GET "/" for 127.0.0.1 at 2020-02-23 21:05:37 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 26.4ms | Allocations: 5034)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 36.0ms | ActiveRecord: 4.3ms | Allocations: 9729)


Started GET "/products/import" for 127.0.0.1 at 2020-02-23 21:05:38 +0700
Processing by ProductsController#import as HTML
  Rendering products/import.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/import.html.erb:12
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  Rendered products/import.html.erb within layouts/application (Duration: 451.8ms | Allocations: 261274)
Completed 500 Internal Server Error in 455ms (ActiveRecord: 2.0ms | Allocations: 261933)


  
ActionView::Template::Error (undefined local variable or method `action' for #<#<Class:0x00007f1ebd5e9df8>:0x00007f1ebd520188>
Did you mean?  action_name):
    14:             <td><%= p.name %></td>
    15:             <td><%= p.price %></td>
    16:             <td><%= p.inventory.quantity %></td>
    17:             <td><%= link_to 'Edit', {action => 'edit', :id => p.id} %></td>
    18:         </tr>
    19:         <%end%>
    20:     </tbody>
  
app/views/products/import.html.erb:17
app/views/products/import.html.erb:12
Started GET "/products/import" for 127.0.0.1 at 2020-02-23 21:05:49 +0700
Processing by ProductsController#import as HTML
  Rendering products/import.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/import.html.erb:12
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (1.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  Rendered products/import.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2692)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 16.0ms | ActiveRecord: 2.9ms | Allocations: 7372)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-02-23 21:05:52 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 86.9ms | Allocations: 24025)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 103ms (Views: 95.2ms | ActiveRecord: 0.8ms | Allocations: 28443)


Started PATCH "/products/3" for 127.0.0.1 at 2020-02-23 21:05:55 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"zlA5HQkkQa/TAK1tvR0mYljzodvH49fC9nFpMxoJJvdTeSU+U8gNBsx3IxlFnZMpVn6wBm+ttdTiQ0EAYW5Oyw==", "product"=>{"name"=>"Quyt", "price"=>"3000.0", "inventory_attributes"=>{"quantity"=>"4", "id"=>"3"}}, "commit"=>"Save", "id"=>"3"}
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 4], ["updated_at", "2020-02-23 14:05:55.579241"], ["id", 3]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (510.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 530ms (ActiveRecord: 513.1ms | Allocations: 4887)


Started GET "/" for 127.0.0.1 at 2020-02-23 21:05:56 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (3.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 5010)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 22.6ms | ActiveRecord: 5.4ms | Allocations: 8902)


Started GET "/" for 127.0.0.1 at 2020-02-24 01:14:11 +0700
  [1m[35m (29.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (52.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (2.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 172.1ms | Allocations: 20916)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 354ms (Views: 233.9ms | ActiveRecord: 77.4ms | Allocations: 29875)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3452578068183699105)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20200223182748)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (221.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200223182748"]]
  [1m[35m (17.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrderDetails (20200223182845)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (29.7ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" bigserial primary key, "product_id" bigint, "order_id" bigint, "ptice" float, "quantity" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (28.9ms)[0m  [1m[35mCREATE  INDEX  "index_order_details_on_product_id" ON "order_details"  ("product_id")[0m
  [1m[35m (30.0ms)[0m  [1m[35mCREATE  INDEX  "index_order_details_on_order_id" ON "order_details"  ("order_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200223182845"]]
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (32.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3452578068183699105)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2020-02-24 17:25:31 +0700
  [1m[35m (51.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (31.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 116.6ms | Allocations: 20977)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 232ms (Views: 153.1ms | ActiveRecord: 51.0ms | Allocations: 29938)


Started GET "/products/import" for 127.0.0.1 at 2020-02-24 17:25:33 +0700
Processing by ProductsController#import as HTML
  Rendering products/import.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/import.html.erb:12
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  Rendered products/import.html.erb within layouts/application (Duration: 43.4ms | Allocations: 1880)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 47.0ms | ActiveRecord: 0.6ms | Allocations: 5777)


Started GET "/" for 127.0.0.1 at 2020-02-24 17:25:35 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 4709)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 16.5ms | ActiveRecord: 2.3ms | Allocations: 8468)


Started GET "/products/new" for 127.0.0.1 at 2020-02-24 17:25:43 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 417.5ms | Allocations: 19809)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 427ms (Views: 425.6ms | ActiveRecord: 0.0ms | Allocations: 23594)


Started GET "/products/import" for 127.0.0.1 at 2020-02-24 17:25:47 +0700
Processing by ProductsController#import as HTML
  Rendering products/import.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/import.html.erb:12
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  Rendered products/import.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1634)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 1.0ms | Allocations: 5371)


Started GET "/" for 127.0.0.1 at 2020-02-24 17:25:48 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 4709)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 15.5ms | ActiveRecord: 2.1ms | Allocations: 8470)


Started GET "/" for 127.0.0.1 at 2020-02-24 17:34:23 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 43.3ms | Allocations: 21007)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/daycd/research ruby/seven-system/public/packs
[Webpacker] Hash: a6eafee058da0da98e82
Version: webpack 4.41.6
Time: 3324ms
Built at: 24/02/2020 5:34:31 pm
                                     Asset       Size       Chunks                         Chunk Names
    js/application-def73e29b8f32f3a64a9.js    426 KiB  application  [emitted] [immutable]  application
js/application-def73e29b8f32f3a64a9.js.map    498 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-def73e29b8f32f3a64a9.js js/application-def73e29b8f32f3a64a9.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 4 hidden modules

Completed 200 OK in 7187ms (Views: 7170.3ms | ActiveRecord: 8.3ms | Allocations: 31422)


Started GET "/products/new" for 127.0.0.1 at 2020-02-24 17:34:37 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 28.6ms | Allocations: 19804)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 33.3ms | ActiveRecord: 0.0ms | Allocations: 23594)


Started GET "/" for 127.0.0.1 at 2020-02-24 17:35:26 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (2.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 4713)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: a044b65aef88e2e7ed6c
Version: webpack 4.41.6
Time: 814ms
Built at: 24/02/2020 5:35:27 pm
                                     Asset       Size       Chunks                         Chunk Names
    js/application-ec20c861b93206486fc6.js    426 KiB  application  [emitted] [immutable]  application
js/application-ec20c861b93206486fc6.js.map    498 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-ec20c861b93206486fc6.js js/application-ec20c861b93206486fc6.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 782 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 4 hidden modules

ERROR in ./app/javascript/packs/application.js
Module not found: Error: Can't resolve './bootstrap_custom.js' in '/home/daycd/research ruby/seven-system/app/javascript/packs'
 @ ./app/javascript/packs/application.js 13:0-31

Completed 200 OK in 1865ms (Views: 1859.3ms | ActiveRecord: 4.7ms | Allocations: 9698)


Started GET "/" for 127.0.0.1 at 2020-02-24 17:35:50 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 17.1ms | Allocations: 4709)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: 49810ca2768f826c1250
Version: webpack 4.41.6
Time: 933ms
Built at: 24/02/2020 5:35:52 pm
                                     Asset       Size       Chunks                         Chunk Names
    js/application-e4c04cd9c8add48b268b.js    426 KiB  application  [emitted] [immutable]  application
js/application-e4c04cd9c8add48b268b.js.map    498 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-e4c04cd9c8add48b268b.js js/application-e4c04cd9c8add48b268b.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 816 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 4 hidden modules

ERROR in ./app/javascript/packs/application.js
Module not found: Error: Can't resolve './bootstrap_custom.js' in '/home/daycd/research ruby/seven-system/app/javascript/packs'
 @ ./app/javascript/packs/application.js 13:0-31

ERROR in ./app/javascript/packs/application.js
Module not found: Error: Can't resolve './bootstrap_custom.scss' in '/home/daycd/research ruby/seven-system/app/javascript/packs'
 @ ./app/javascript/packs/application.js 14:0-33

Completed 200 OK in 1976ms (Views: 1972.6ms | ActiveRecord: 2.3ms | Allocations: 9687)


Started GET "/products/import" for 127.0.0.1 at 2020-02-24 17:35:54 +0700
Processing by ProductsController#import as HTML
  Rendering products/import.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/import.html.erb:12
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  Rendered products/import.html.erb within layouts/application (Duration: 10.6ms | Allocations: 1878)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 19.4ms | ActiveRecord: 1.4ms | Allocations: 5762)


Started GET "/products/new" for 127.0.0.1 at 2020-02-24 17:35:56 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 36.1ms | Allocations: 5395)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 46.0ms | ActiveRecord: 0.0ms | Allocations: 9032)


Started GET "/products/new" for 127.0.0.1 at 2020-02-24 17:36:55 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 20.9ms | Allocations: 5390)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: a044b65aef88e2e7ed6c
Version: webpack 4.41.6
Time: 808ms
Built at: 24/02/2020 5:36:56 pm
                                     Asset       Size       Chunks                         Chunk Names
    js/application-ec20c861b93206486fc6.js    426 KiB  application  [emitted] [immutable]  application
js/application-ec20c861b93206486fc6.js.map    498 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-ec20c861b93206486fc6.js js/application-ec20c861b93206486fc6.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 782 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 4 hidden modules

ERROR in ./app/javascript/packs/application.js
Module not found: Error: Can't resolve './bootstrap_custom.js' in '/home/daycd/research ruby/seven-system/app/javascript/packs'
 @ ./app/javascript/packs/application.js 13:0-31

Completed 200 OK in 1908ms (Views: 1906.6ms | ActiveRecord: 0.0ms | Allocations: 14466)


  
ActionController::RoutingError (No route matches [GET] "/assets/bootstrap_custom.scss"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/new" for 127.0.0.1 at 2020-02-24 17:37:16 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 31.8ms | Allocations: 20097)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 97ms (Views: 83.2ms | ActiveRecord: 2.9ms | Allocations: 35133)


  
ActionController::RoutingError (No route matches [GET] "/assets/bootstrap_custom.scss"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/new" for 127.0.0.1 at 2020-02-24 17:37:19 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 28.4ms | Allocations: 5408)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 42.5ms | ActiveRecord: 0.0ms | Allocations: 9028)


  
ActionController::RoutingError (No route matches [GET] "/assets/bootstrap_custom.scss"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `block in call'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:64:in `block (3 levels) in broadcast'
activesupport (6.0.2.1) lib/active_support/logger_silence.rb:36:in `silence'
activesupport (6.0.2.1) lib/active_support/logger.rb:62:in `block (2 levels) in broadcast'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:11:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2020-02-24 17:37:44 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 41.8ms | Allocations: 21008)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: 49810ca2768f826c1250
Version: webpack 4.41.6
Time: 856ms
Built at: 24/02/2020 5:37:46 pm
                                     Asset       Size       Chunks                         Chunk Names
    js/application-e4c04cd9c8add48b268b.js    426 KiB  application  [emitted] [immutable]  application
js/application-e4c04cd9c8add48b268b.js.map    498 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-e4c04cd9c8add48b268b.js js/application-e4c04cd9c8add48b268b.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 816 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 4 hidden modules

ERROR in ./app/javascript/packs/application.js
Module not found: Error: Can't resolve './bootstrap_custom.js' in '/home/daycd/research ruby/seven-system/app/javascript/packs'
 @ ./app/javascript/packs/application.js 13:0-31

ERROR in ./app/javascript/packs/application.js
Module not found: Error: Can't resolve './bootstrap_custom.scss' in '/home/daycd/research ruby/seven-system/app/javascript/packs'
 @ ./app/javascript/packs/application.js 14:0-33

Completed 200 OK in 1976ms (Views: 1961.1ms | ActiveRecord: 7.4ms | Allocations: 37199)


Started GET "/products/new" for 127.0.0.1 at 2020-02-24 17:37:47 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 57.4ms | Allocations: 19804)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 62.9ms | ActiveRecord: 0.0ms | Allocations: 23577)


Started GET "/products/new" for 127.0.0.1 at 2020-02-24 17:38:54 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 33.6ms | Allocations: 5391)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/daycd/research ruby/seven-system/public/packs
[Webpacker] Hash: 2fe58b38cebf49d7124f
Version: webpack 4.41.6
Time: 5165ms
Built at: 24/02/2020 5:39:00 pm
                                     Asset       Size       Chunks                         Chunk Names
    js/application-14edffcceab04b60165d.js   1.51 MiB  application  [emitted] [immutable]  application
js/application-14edffcceab04b60165d.js.map   1.64 MiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-14edffcceab04b60165d.js js/application-14edffcceab04b60165d.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 835 bytes {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 905 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 10 hidden modules

Completed 200 OK in 6428ms (Views: 6426.6ms | ActiveRecord: 0.0ms | Allocations: 10355)


Started GET "/" for 127.0.0.1 at 2020-02-24 17:39:06 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 4713)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 19.2ms | ActiveRecord: 3.1ms | Allocations: 8455)


Started GET "/products/import" for 127.0.0.1 at 2020-02-24 17:39:09 +0700
Processing by ProductsController#import as HTML
  Rendering products/import.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/import.html.erb:12
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  Rendered products/import.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1868)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.9ms | Allocations: 5734)


Started GET "/" for 127.0.0.1 at 2020-02-24 17:39:11 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 16.7ms | Allocations: 4707)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 20.8ms | ActiveRecord: 2.8ms | Allocations: 8439)


Started GET "/products/new" for 127.0.0.1 at 2020-02-24 17:39:11 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 5395)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms | Allocations: 9016)


Started GET "/" for 127.0.0.1 at 2020-02-24 17:44:52 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 42.4ms | Allocations: 21007)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 45.9ms | ActiveRecord: 7.8ms | Allocations: 30062)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:45:06 +0700
  
ActionController::RoutingError (uninitialized constant OrdersController):
  
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:282:in `const_get'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:282:in `block in constantize'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.2.1) lib/active_support/dependencies/zeitwerk_integration.rb:19:in `constantize'
actionpack (6.0.2.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.2.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:45:in `controller'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:45:54 +0700
  
ActionController::RoutingError (uninitialized constant OrdersController):
  
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:282:in `const_get'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:282:in `block in constantize'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.2.1) lib/active_support/dependencies/zeitwerk_integration.rb:19:in `constantize'
actionpack (6.0.2.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.2.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:45:in `controller'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:46:57 +0700
  
ActionController::RoutingError (uninitialized constant OrdersController
Did you mean?  OrdersController
               OrderController):
  
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:282:in `const_get'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:282:in `block in constantize'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.2.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.2.1) lib/active_support/dependencies/zeitwerk_integration.rb:19:in `constantize'
actionpack (6.0.2.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.2.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:45:in `controller'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:47:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1104)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2325)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1> Saling </h1>
<%= simple_form_for @order do |f| %>
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Quantity</th>
                <th></th>
            </tr>
        </thead>

        <tbody>
            <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
            <%= f.nested_fields_for :order_details do |ff| %>
            <tr>
                <td> <%= ff.input :name %> </td>
                <td> <%= ff.input :quantity %> </td>
                <td> <%= ff.remove_nestd_fields_link, 'Remove', class: 'btn btn-danger' %> </td>
            </tr>
        </tbody>
    </table>

    <%= f.submit 'Save' %>
<%end%>

):
1:    <h1> Saling </h1>
2:    <%= simple_form_for @order do |f| %>
3:        <table class="table">
4:            <thead>
5:                <tr>
6:                    <th>Name</th>
7:                    <th>Quantity</th>
8:                    <th></th>
9:                </tr>
10:            </thead>
11:    
12:            <tbody>
13:                <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
14:                <%= f.nested_fields_for :order_details do |ff| %>
15:                <tr>
16:                    <td> <%= ff.input :name %> </td>
17:                    <td> <%= ff.input :quantity %> </td>
18:                    <td> <%= ff.remove_nestd_fields_link, 'Remove', class: 'btn btn-danger' %> </td>
19:                </tr>
20:            </tbody>
21:        </table>
22:    
23:        <%= f.submit 'Save' %>
24:    <%end%>
  
app/views/orders/new.html.erb:18: syntax error, unexpected ',', expecting &. or :: or '[' or '.'
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
app/views/orders/new.html.erb:18: syntax error, unexpected ',', expecting &. or :: or '[' or '.'
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
app/views/orders/new.html.erb:18: syntax error, unexpected ',', expecting &. or :: or '[' or '.'
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
app/views/orders/new.html.erb:18: syntax error, unexpected ',', expecting &. or :: or '[' or '.'
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
app/views/orders/new.html.erb:18: syntax error, unexpected ',', expecting &. or :: or '[' or '.'
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
app/views/orders/new.html.erb:18: syntax error, unexpected ',', expecting &. or :: or '[' or '.'
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:51:33 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1130)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2340)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1> Saling </h1>
<%= simple_form_for @order do |f| %>
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Quantity</th>
                <th></th>
            </tr>
        </thead>

        <tbody>
            <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
            <%= f.nested_fields_for :order_details do |ff| %>
            <tr>
                <td> <%= ff.input :name %> </td>
                <td> <%= ff.input :quantity %> </td>
                <td> <%= ff.remove_nestd_fields_link 'Remove', class: 'btn btn-danger' %> </td>
            </tr>
        </tbody>
    </table>

    <%= f.submit 'Save' %>
<%end%>

):
1:    <h1> Saling </h1>
2:    <%= simple_form_for @order do |f| %>
3:        <table class="table">
4:            <thead>
5:                <tr>
6:                    <th>Name</th>
7:                    <th>Quantity</th>
8:                    <th></th>
9:                </tr>
10:            </thead>
11:    
12:            <tbody>
13:                <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
14:                <%= f.nested_fields_for :order_details do |ff| %>
15:                <tr>
16:                    <td> <%= ff.input :name %> </td>
17:                    <td> <%= ff.input :quantity %> </td>
18:                    <td> <%= ff.remove_nestd_fields_link 'Remove', class: 'btn btn-danger' %> </td>
19:                </tr>
20:            </tbody>
21:        </table>
22:    
23:        <%= f.submit 'Save' %>
24:    <%end%>
  
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
app/views/orders/new.html.erb:26: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:52:05 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 201.1ms | Allocations: 114560)
Completed 500 Internal Server Error in 206ms (ActiveRecord: 0.0ms | Allocations: 115771)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <table class="table">
    4:         <thead>
    5:             <tr>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:52:20 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1166)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 3196)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <table class="table">
    4:         <thead>
    5:             <tr>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:52:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1221)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 1685)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <table class="table">
    4:         <thead>
    5:             <tr>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:52:47 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1222)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1688)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <table class="table">
    4:         <thead>
    5:             <tr>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:52:48 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1220)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1684)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <table class="table">
    4:         <thead>
    5:             <tr>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:52:48 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1220)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2905)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <table class="table">
    4:         <thead>
    5:             <tr>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:52:49 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1220)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 7176)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <table class="table">
    4:         <thead>
    5:             <tr>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:52:49 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1220)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1841)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <table class="table">
    4:         <thead>
    5:             <tr>
  
app/views/orders/new.html.erb:2
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/daycd/.rvm/gems/ruby-2.5.3/bin/rake:23)
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:53:44 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 20.9ms | Allocations: 16736)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 2.9ms | Allocations: 23655)


  
ActionView::Template::Error (superclass must be a Class (Module given)):
    11: 
    12:         <tbody>
    13:             <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
    14:             <%= f.nested_fields_for :order_details do |ff| %>
    15:             <tr>
    16:                 <td> <%= ff.input :name %> </td>
    17:                 <td> <%= ff.input :quantity %> </td>
  
app/models/order_detail.rb:1:in `<top (required)>'
app/views/orders/new.html.erb:14
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:54:38 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 21.8ms | Allocations: 14215)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 4.2ms | Allocations: 18209)


  
ActionView::Template::Error (undefined method `name' for #<OrderDetail:0x00007f2fe197a0a0>):
    13:             <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
    14:             <%= f.nested_fields_for :order_details do |ff| %>
    15:             <tr>
    16:                 <td> <%= ff.input :name %> </td>
    17:                 <td> <%= ff.input :quantity %> </td>
    18:                 <td> <%= ff.remove_nestd_fields_link 'Remove', class: 'btn btn-danger' %> </td>
    19:             </tr>
  
app/views/orders/new.html.erb:16
app/views/orders/new.html.erb:14
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:55:38 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 5554)
Completed 500 Internal Server Error in 56ms (ActiveRecord: 4.5ms | Allocations: 17647)


  
ActionView::Template::Error (undefined method `name' for #<OrderDetail:0x00007f2fe0777ab0>):
    13:             <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
    14:             <%= f.nested_fields_for :order_details do |ff| %>
    15:             <tr>
    16:                 <td> <%= ff.input :name %> </td>
    17:                 <td> <%= ff.input :quantity %> </td>
    18:                 <td> <%= ff.remove_nestd_fields_link 'Remove', class: 'btn btn-danger' %> </td>
    19:             </tr>
  
app/views/orders/new.html.erb:16
app/views/orders/new.html.erb:14
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 17:56:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 39.3ms | Allocations: 5855)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 0.0ms | Allocations: 7278)


  
ActionView::Template::Error (undefined method `price' for #<OrderDetail:0x00007f2fe17c4698>
Did you mean?  ptice
               ptice?
               ptice=):
    13:             <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
    14:             <%= f.nested_fields_for :order_details do |ff| %>
    15:             <tr>
    16:                 <td> <%= ff.input :price %> </td>
    17:                 <td> <%= ff.input :quantity %> </td>
    18:                 <td> <%= ff.remove_nestd_fields_link 'Remove', class: 'btn btn-danger' %> </td>
    19:             </tr>
  
app/views/orders/new.html.erb:16
app/views/orders/new.html.erb:14
app/views/orders/new.html.erb:2
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3452578068183699105)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeComlumnOrderDetails (20200224105933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (39.5ms)[0m  [1m[35mALTER TABLE "order_details" RENAME COLUMN "ptice" TO "price"[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200224105933"]]
  [1m[35m (36.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (44.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3452578068183699105)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 18:00:55 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 290.0ms | Allocations: 176970)
Completed 500 Internal Server Error in 320ms (ActiveRecord: 4.5ms | Allocations: 195672)


  
ActionView::Template::Error (undefined method `remove_nestd_fields_link' for #<SimpleForm::FormBuilder:0x000056317bf3cca0>
Did you mean?  remove_nested_fields_link):
    15:             <tr>
    16:                 <td> <%= ff.input :price %> </td>
    17:                 <td> <%= ff.input :quantity %> </td>
    18:                 <td> <%= ff.remove_nestd_fields_link 'Remove', class: 'btn btn-danger' %> </td>
    19:             </tr>
    20:             <%end%>
    21:         </tbody>
  
app/views/orders/new.html.erb:18
app/views/orders/new.html.erb:14
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 18:01:21 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 48.0ms | Allocations: 12498)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 60.2ms | ActiveRecord: 0.0ms | Allocations: 18946)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 18:01:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 17.6ms | Allocations: 12066)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.0ms | Allocations: 15878)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 18:01:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 39.4ms | Allocations: 12059)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 44.0ms | ActiveRecord: 0.0ms | Allocations: 15895)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 18:01:25 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 18.1ms | Allocations: 12059)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 22.6ms | ActiveRecord: 0.0ms | Allocations: 15871)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 18:01:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 40.7ms | Allocations: 12058)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 46.6ms | ActiveRecord: 0.0ms | Allocations: 15859)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 18:01:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 18.9ms | Allocations: 12058)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 23.0ms | ActiveRecord: 0.0ms | Allocations: 15859)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 18:01:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 38.1ms | Allocations: 12058)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 42.4ms | ActiveRecord: 0.0ms | Allocations: 15857)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-24 18:01:30 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 37.4ms | Allocations: 12058)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 42.5ms | ActiveRecord: 0.0ms | Allocations: 15943)


  [1m[35m (30.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3452578068183699105)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCustomers (20200225112135)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (185.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "name" character varying, "phone" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200225112135"]]
  [1m[35m (24.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3452578068183699105)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3452578068183699105)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddColumnUserIdOrders (20200225112332)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "orders" ADD "customer_id" integer[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200225112332"]]
  [1m[35m (191.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3452578068183699105)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2020-02-25 18:34:54 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (68.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 129.7ms | Allocations: 21009)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 291ms (Views: 194.2ms | ActiveRecord: 79.1ms | Allocations: 30035)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:35:02 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 71.3ms | Allocations: 26680)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 103ms (Views: 76.3ms | ActiveRecord: 4.4ms | Allocations: 44306)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:35:33 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 28.4ms | Allocations: 17871)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 33.0ms | ActiveRecord: 4.6ms | Allocations: 32479)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:36:39 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:16
  Rendered orders/new.html.erb within layouts/application (Duration: 45.9ms | Allocations: 30633)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 49.7ms | ActiveRecord: 6.7ms | Allocations: 46647)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:37:06 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:16
  Rendered orders/new.html.erb within layouts/application (Duration: 85.0ms | Allocations: 26890)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 93.3ms | ActiveRecord: 0.9ms | Allocations: 31805)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:37:08 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:16
  Rendered orders/new.html.erb within layouts/application (Duration: 91.6ms | Allocations: 26597)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 103ms (Views: 96.1ms | ActiveRecord: 0.4ms | Allocations: 30570)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:39:26 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:16
  Rendered orders/new.html.erb within layouts/application (Duration: 35.4ms | Allocations: 10468)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 45.4ms | ActiveRecord: 0.4ms | Allocations: 15367)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:39:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:17
  Rendered orders/new.html.erb within layouts/application (Duration: 37.2ms | Allocations: 10476)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 44.5ms | ActiveRecord: 0.7ms | Allocations: 15382)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:40:18 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:17
  Rendered orders/new.html.erb within layouts/application (Duration: 20.8ms | Allocations: 10181)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.5ms | ActiveRecord: 0.3ms | Allocations: 14150)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:40:18 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:17
  Rendered orders/new.html.erb within layouts/application (Duration: 34.4ms | Allocations: 10173)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 40.5ms | ActiveRecord: 0.3ms | Allocations: 14159)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:40:19 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:17
  Rendered orders/new.html.erb within layouts/application (Duration: 38.3ms | Allocations: 10173)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 43.5ms | ActiveRecord: 0.3ms | Allocations: 14150)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:40:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:17
  Rendered orders/new.html.erb within layouts/application (Duration: 19.7ms | Allocations: 10173)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 23.5ms | ActiveRecord: 0.4ms | Allocations: 14135)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:43:53 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3518)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 4.7ms | Allocations: 16171)


  
ActionView::Template::Error (undefined method `phone' for #<Order:0x00007efd91579118>):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= f.text_field :phone %>
    4:     <table class="table">
    5:         <thead>
    6:             <tr>
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:47:38 +0700
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1972)


  
ArgumentError (No association found for name `customers'. Has it been defined yet?):
  
app/models/order.rb:5:in `<class:Order>'
app/models/order.rb:1:in `<top (required)>'
app/controllers/orders_controller.rb:7:in `new'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:48:12 +0700
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2216)


  
ArgumentError (No association found for name `customers'. Has it been defined yet?):
  
app/models/order.rb:6:in `<class:Order>'
app/models/order.rb:1:in `<top (required)>'
app/controllers/orders_controller.rb:7:in `new'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:48:21 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 3522)


  
ArgumentError (No association found for name `customers'. Has it been defined yet?):
  
app/models/order.rb:6:in `<class:Order>'
app/models/order.rb:1:in `<top (required)>'
app/controllers/orders_controller.rb:7:in `new'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-25 18:50:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 48.6ms | Allocations: 30106)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 92ms (Views: 55.0ms | ActiveRecord: 10.2ms | Allocations: 53199)


Started GET "/" for 127.0.0.1 at 2020-02-26 06:21:31 +0700
  [1m[35m (29.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (36.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 176.7ms | Allocations: 20998)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 395ms (Views: 298.7ms | ActiveRecord: 51.6ms | Allocations: 29967)


Started GET "/orders/mew" for 127.0.0.1 at 2020-02-26 06:21:44 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for OrdersController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:21:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 170.9ms | Allocations: 27589)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 241ms (Views: 175.4ms | ActiveRecord: 6.7ms | Allocations: 45352)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:23:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 24.9ms | Allocations: 16150)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 27.4ms | ActiveRecord: 6.4ms | Allocations: 31309)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 06:25:21 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"3xEpT2M4cvaAq31WvUbc1MQ2jto4H6dyNP2+T5ulkNuHt5cKdUzUmcE5K1eJpsvqhUG+79mr6H8Z6N2DEoBm6Q==", "customer"=>{"phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 1720)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:32:42 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:14: `@' without identifiers is not allowed as an instance variable name
/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:14: syntax error, unexpected end-of-input
        @
        ^):
  
app/controllers/orders_controller.rb:14: `@' without identifiers is not allowed as an instance variable name
app/controllers/orders_controller.rb:14: syntax error, unexpected end-of-input
app/controllers/orders_controller.rb:14: `@' without identifiers is not allowed as an instance variable name
app/controllers/orders_controller.rb:14: syntax error, unexpected end-of-input
app/controllers/orders_controller.rb:14: `@' without identifiers is not allowed as an instance variable name
app/controllers/orders_controller.rb:14: syntax error, unexpected end-of-input
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:32:58 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/new.html.erb within layouts/application (Duration: 205.3ms | Allocations: 91997)
Completed 500 Internal Server Error in 231ms (ActiveRecord: 8.9ms | Allocations: 104734)


  
ActionView::Template::Error (undefined method `nested_fields_for' for #<#<Class:0x000056159e6ed778>:0x000056159e6c98a0>):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= nested_fields_for :customer do |ff| %>
    4:         <%= ff.text_field :phone %>
    5:     <%end%>
    6:     <table class="table">
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:33:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 155.7ms | Allocations: 104026)
Completed 500 Internal Server Error in 163ms (ActiveRecord: 0.0ms | Allocations: 105566)


  
ActionView::Template::Error (No association found for name `customers'. Has it been defined yet?):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= f.nested_fields_for :customer do |ff| %>
    4:         <%= ff.text_field :phone %>
    5:     <%end%>
    6:     <table class="table">
  
app/models/customer.rb:4:in `<class:Customer>'
app/models/customer.rb:1:in `<top (required)>'
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:34:21 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 3109)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 5.6ms | Allocations: 15132)


  
ActionView::Template::Error (undefined method `each_with_index' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= f.nested_fields_for :customer do |ff| %>
    4:         <%= ff.text_field :phone %>
    5:     <%end%>
    6:     <table class="table">
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:35:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 41.8ms | Allocations: 3615)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 0.0ms | Allocations: 5145)


  
ActionView::Template::Error (undefined method `customers' for #<Order:0x00007fc3b1483bc8>
Did you mean?  customer
               customer=
               customer_id):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= f.nested_fields_for :customers do |ff| %>
    4:         <%= ff.text_field :phone %>
    5:     <%end%>
    6:     <table class="table">
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:35:17 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 17.5ms | Allocations: 3224)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms | Allocations: 4423)


  
ActionView::Template::Error (undefined method `customers' for #<Order:0x00007fc3b14b0880>
Did you mean?  customer
               customer=
               customer_id):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= f.nested_fields_for :customer do |ff| %>
    4:         <%= ff.text_field :phone %>
    5:     <%end%>
    6:     <table class="table">
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:35:22 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1678)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 3209)


  
ActionView::Template::Error (undefined method `each_with_index' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= f.nested_fields_for :customer do |ff| %>
    4:         <%= ff.text_field :phone %>
    5:     <%end%>
    6:     <table class="table">
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:37:10 +0700
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2167)


  
ArgumentError (No association found for name `orders'. Has it been defined yet?):
  
app/models/order.rb:6:in `<class:Order>'
app/models/order.rb:1:in `<top (required)>'
app/controllers/orders_controller.rb:7:in `new'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:37:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3106)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 3.9ms | Allocations: 15149)


  
ActionView::Template::Error (undefined method `each_with_index' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= f.nested_fields_for :customer do |ff| %>
    4:         <%= ff.text_field :phone %>
    5:     <%end%>
    6:     <table class="table">
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:38:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 50.0ms | Allocations: 16533)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 55.4ms | ActiveRecord: 2.5ms | Allocations: 21389)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:39:21 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 8.9ms | Allocations: 1763)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms | Allocations: 3290)


  
ActionView::Template::Error (undefined method `each_with_index' for nil:NilClass):
    2: <%= simple_form_for @order do |f| %>
    3:             <%= f.add_nested_fields_link :customer, 'Add Customer', class: 'btn btn-primary' %>
    4: 
    5:     <%= f.nested_fields_for :customer do |ff| %>
    6:         <%= ff.text_field :phone %>
    7:     <%end%>
    8:     <table class="table">
  
app/views/orders/new.html.erb:5
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:45:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 26.4ms | Allocations: 16403)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 31.7ms | ActiveRecord: 0.4ms | Allocations: 31964)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 06:45:21 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"q9sneSeskyZ4BzKnemebpD88M/y9ioILKiiEEu6qyUDzfZk8Mdg1STmVZKZOh4yafksDyVw+zQYHPefeZ48/cg==", "customer"=>{"phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.0ms | Allocations: 1692)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 06:59:28 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 26.5ms | Allocations: 16051)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 30.6ms | ActiveRecord: 0.5ms | Allocations: 30829)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 06:59:38 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"tRRnZtaMYjq6Myv2wWtivHVHdHGQHmlYmu7cIHqx1nPtstkjwPjEVfuhfff1i3WCNDBERHGqJlW3+7/s85QgQQ==", "customer"=>{"phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "price"=>"", "quantity"=>""}}}, "commit"=>"Save"}
[31mUnpermitted parameter: :product_id[0m
[31mUnpermitted parameter: :product_id[0m
[31mUnpermitted parameter: :product_id[0m
[31mUnpermitted parameter: :product_id[0m
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 176524ms (ActiveRecord: 0.0ms | Allocations: 121264)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 07:02:39 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 27.7ms | Allocations: 16169)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 30.3ms | ActiveRecord: 8.2ms | Allocations: 31356)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 07:03:00 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ZAN+18bExFEeDB9Ih8jyKe68yHtR8eMDrRZ7Cr9CTqs8pcCS0LBiPl+eSUmzKOUXr8v4TrBFrA6AAxjGNme4mQ==", "customer"=>{"phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 121714ms (ActiveRecord: 0.0ms | Allocations: 13752)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 07:05:50 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/new.html.erb within layouts/application (Duration: 323.3ms | Allocations: 177258)
Completed 500 Internal Server Error in 343ms (ActiveRecord: 7.5ms | Allocations: 189857)


  
ActionView::Template::Error (undefined local variable or method `ff' for #<#<Class:0x00007fc3b076e168>:0x00007fc3b075f280>
Did you mean?  f):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= ff.input :phone %>
    4:     <table class="table">
    5:         <thead>
    6:             <tr>
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 07:05:58 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 17.8ms | Allocations: 5178)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms | Allocations: 6711)


  
ActionView::Template::Error (undefined method `phone' for #<Order:0x00007fc3b075e920>):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= f.input :phone %>
    4:     <table class="table">
    5:         <thead>
    6:             <tr>
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 07:06:18 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:18
  Rendered orders/new.html.erb within layouts/application (Duration: 22.8ms | Allocations: 13213)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 28.2ms | ActiveRecord: 0.2ms | Allocations: 18072)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 07:06:31 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 39.4ms | Allocations: 13123)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 47.5ms | ActiveRecord: 0.4ms | Allocations: 17972)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 07:06:57 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fnYqWHsLqGU9ckK4nvexnaUPttgTOt+P+ONRhmLj4tAm0JQdbX8OCnzgFLmqF6aj5HiG7fKOkILV9jJK68YU4g==", "customer"=>{"phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 07:10:59 +0700
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 243756ms (ActiveRecord: 0.0ms | Allocations: 17325)


Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 30.4ms | Allocations: 16165)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 31.9ms | ActiveRecord: 7.2ms | Allocations: 31326)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 07:11:03 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 22.4ms | Allocations: 12772)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 26.8ms | ActiveRecord: 0.2ms | Allocations: 16689)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 07:11:15 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"n+azsPU1/39iBzSCU8r+/x6eKCamNVrKXs7gAWl/bjLHQA3140FZECOVYoNnKunBX+kYE0eBFcdz24PN4FqYAA==", "customer"=>{"phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 1606)


  
ActiveModel::UnknownAttributeError (unknown attribute 'phone' for Order.):
  
app/controllers/orders_controller.rb:15:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 07:13:20 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 38.1ms | Allocations: 12790)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 44.0ms | ActiveRecord: 0.4ms | Allocations: 16615)


Started GET "/orders" for 127.0.0.1 at 2020-02-26 07:26:44 +0700
Processing by OrdersController#index as HTML
Completed 406 Not Acceptable in 3ms (ActiveRecord: 0.0ms | Allocations: 1915)


  
ActionController::MissingExactTemplate (OrdersController#index is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 07:26:47 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 23.4ms | Allocations: 16074)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 27.3ms | ActiveRecord: 0.5ms | Allocations: 30882)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 07:26:59 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"/a37PNL0/XH04bZfvzPUuQGSSXkwJlPx0tpwu3RdJNSlC0V5xIBbHrVz4F6L08OHQOV5TNGSHPz/zxN3/XjS5g==", "customer"=>{"phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 68880ms (ActiveRecord: 0.0ms | Allocations: 121786)


Started GET "/" for 127.0.0.1 at 2020-02-26 10:06:40 +0700
  [1m[35m (29.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (47.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (7.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 197.3ms | Allocations: 20976)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 471ms (Views: 287.7ms | ActiveRecord: 107.4ms | Allocations: 29939)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:06:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 140.1ms | Allocations: 14422)
Completed 500 Internal Server Error in 143ms (ActiveRecord: 0.0ms | Allocations: 15444)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:07:34 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1555)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2734)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:07:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1209)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 1670)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:07:45 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 17.1ms | Allocations: 13839)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms | Allocations: 16038)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:11:07 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1170)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1789)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:11:08 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1209)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 1669)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:11:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 1207)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 1667)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:11:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1207)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2683)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:11:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1209)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2274)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:11:18 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 17.8ms | Allocations: 13839)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.0ms | Allocations: 16038)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:11:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1170)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1789)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:12:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1209)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1669)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:12:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1207)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1667)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
  [1m[36mCustomer Load (42.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Started GET "/" for 127.0.0.1 at 2020-02-26 10:13:04 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 40.2ms | Allocations: 20998)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 43.0ms | ActiveRecord: 7.2ms | Allocations: 30044)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:13:08 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 20.9ms | Allocations: 14423)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 15449)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:14:50 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1210)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms | Allocations: 2397)


  
ActionView::Template::Error (wrong number of arguments (given 0, expected 1..2)):
    1: <h1> Saling </h1>
    2: <%= simple_form_for  do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:14:57 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 12.1ms | Allocations: 1571)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms | Allocations: 2758)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:15:44 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1168)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1795)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :name %>
    5:         <%= ff.input :phone %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:15:54 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1519)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2711)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:15:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1208)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1677)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/" for 127.0.0.1 at 2020-02-26 10:16:12 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 39.2ms | Allocations: 20998)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 41.6ms | ActiveRecord: 7.3ms | Allocations: 29966)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:16:15 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 28.1ms | Allocations: 14407)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.0ms | Allocations: 15440)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:21:45 +0700
  [1m[35m (108.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 164.0ms | Allocations: 13823)
Completed 500 Internal Server Error in 173ms (ActiveRecord: 0.0ms | Allocations: 15929)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/" for 127.0.0.1 at 2020-02-26 10:22:55 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (63.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (20.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 258.5ms | Allocations: 21008)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 493ms (Views: 298.7ms | ActiveRecord: 147.5ms | Allocations: 29976)


Started GET "/products/2/edit" for 127.0.0.1 at 2020-02-26 10:22:58 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 959.9ms | Allocations: 24216)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 971ms (Views: 967.9ms | ActiveRecord: 0.9ms | Allocations: 28640)


Started PATCH "/products/2" for 127.0.0.1 at 2020-02-26 10:23:01 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"I34JUdojEV8r89iDBAKtyfaLMiXyzyw4B1N20bSieC5DgwxSirNIoe63szbuWFJn/BgippaM6fIPyMKSZ3B2Pw==", "product"=>{"name"=>"Cam", "price"=>"5000.0", "inventory_attributes"=>{"quantity"=>"4", "id"=>"2"}}, "commit"=>"Save", "id"=>"2"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 4], ["updated_at", "2020-02-26 03:23:01.721178"], ["id", 2]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (318.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 335ms (ActiveRecord: 320.2ms | Allocations: 4891)


Started GET "/" for 127.0.0.1 at 2020-02-26 10:23:02 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 3968)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 20.5ms | ActiveRecord: 2.8ms | Allocations: 7708)


Started GET "/products/import" for 127.0.0.1 at 2020-02-26 10:23:03 +0700
Processing by ProductsController#import as HTML
  Rendering products/import.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/import.html.erb:12
  Rendered products/import.html.erb within layouts/application (Duration: 46.7ms | Allocations: 1049)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 50.7ms | ActiveRecord: 0.4ms | Allocations: 4929)


Started GET "/" for 127.0.0.1 at 2020-02-26 10:23:05 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 3979)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 1.6ms | Allocations: 7725)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:23:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2229)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3256)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:25:07 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1169)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1798)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:25:26 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1515)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2709)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @orders do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:25:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1518)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2712)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:26:30 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1208)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 1679)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:28:14 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 16.8ms | Allocations: 13823)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 16032)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:29:47 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1170)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1799)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:30:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1555)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 2744)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for(@order) do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:30:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1207)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 1678)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for(@order) do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:30:28 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1555)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 2744)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:30:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1168)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1797)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:30:38 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1209)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 1679)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:30:49 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 17.0ms | Allocations: 13827)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms | Allocations: 16036)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:30:50 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1209)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1680)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:30:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 1209)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 1680)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:30:52 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1209)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 1679)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/daycd/.rvm/gems/ruby-2.5.3/bin/rake:23)
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:33:57 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4236)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms | Allocations: 6449)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:33:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1171)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1642)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1> Saling </h1>
    <%= simple_fields_for :customer do |ff| %>
        <%= ff.input :phone %>
    <%end%>
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Price</th>
                <th>Quantity</th>
                <th></th>
            </tr>
        </thead>

        <tbody class="fields">
            <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
            <%= f.nested_fields_for :order_details do |ff| %>
            <tr>
                <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
                <td> <%= ff.text_field :price %> </td>
                <td> <%= ff.text_field :quantity %> </td>
                <td> <%= ff.remove_nested_fields_link 'Remove', class: 'btn btn-danger' %> </td>
            </tr>
            <%end%>
        </tbody>
    </table>

    <%= f.submit 'Save' %>
<%end%>

):
1:    <h1> Saling </h1>
2:        <%= simple_fields_for :customer do |ff| %>
3:            <%= ff.input :phone %>
4:        <%end%>
5:        <table class="table">
6:            <thead>
7:                <tr>
8:                    <th>Name</th>
9:                    <th>Price</th>
10:                    <th>Quantity</th>
11:                    <th></th>
12:                </tr>
13:            </thead>
14:    
15:            <tbody class="fields">
16:                <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
17:                <%= f.nested_fields_for :order_details do |ff| %>
18:                <tr>
19:                    <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
20:                    <td> <%= ff.text_field :price %> </td>
21:                    <td> <%= ff.text_field :quantity %> </td>
22:                    <td> <%= ff.remove_nested_fields_link 'Remove', class: 'btn btn-danger' %> </td>
23:                </tr>
24:                <%end%>
25:            </tbody>
26:        </table>
27:    
28:        <%= f.submit 'Save' %>
29:    <%end%>
  
app/views/orders/new.html.erb:31: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:31: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:31: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:31: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:31: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:31: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:36:22 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 16.7ms | Allocations: 13823)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 16032)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:36:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1209)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 1680)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:37:01 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1209)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 1680)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:37:12 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 18.7ms | Allocations: 13823)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.0ms | Allocations: 16032)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:37:40 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1556)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2745)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <% simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:37:42 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1209)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 1680)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <% simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:37:59 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 17.4ms | Allocations: 13824)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms | Allocations: 16033)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <% simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:38:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 77)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 25.1ms | ActiveRecord: 0.0ms | Allocations: 6379)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:38:57 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 0.0ms | Allocations: 5)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms | Allocations: 3687)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:39:44 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1385)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 2569)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <% simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:40:03 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 142.9ms | Allocations: 81668)
Completed 500 Internal Server Error in 145ms (ActiveRecord: 0.0ms | Allocations: 82858)


  
ActionView::Template::Error (undefined method `simple_form' for #<#<Class:0x00007f690978dee8>:0x00007f690978c638>
Did you mean?  simple_format):
    1: <h1> Saling </h1>
    2: <%= simple_form @order do |f| %>
    3:     <% simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:40:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1385)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2574)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <% simple_fields_for :customer do |ff| %>
    4:         <%= ff.input :phone %>
    5:     <%end%>
  
app/views/orders/new.html.erb:2
Started GET "/" for 127.0.0.1 at 2020-02-26 10:41:20 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 43.7ms | Allocations: 19919)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 43.1ms | ActiveRecord: 6.8ms | Allocations: 25415)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:45:35 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 31.6ms | Allocations: 16500)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 709ms (Views: 511.7ms | ActiveRecord: 6.6ms | Allocations: 56856)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:45:53 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 114.3ms | Allocations: 16898)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 131ms (Views: 121.2ms | ActiveRecord: 5.5ms | Allocations: 21939)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:49:03 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 57.4ms | Allocations: 15573)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 83ms (Views: 78.6ms | ActiveRecord: 0.7ms | Allocations: 27822)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:49:06 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 28.4ms | Allocations: 15165)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 32.7ms | ActiveRecord: 0.3ms | Allocations: 19217)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:49:19 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 46.7ms | Allocations: 32921)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 96ms (Views: 63.1ms | ActiveRecord: 7.8ms | Allocations: 62395)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:49:25 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 24.4ms | Allocations: 15163)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 28.6ms | ActiveRecord: 0.3ms | Allocations: 19234)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:49:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 59.7ms | Allocations: 13038)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 69.4ms | ActiveRecord: 0.8ms | Allocations: 18038)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:49:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 29.4ms | Allocations: 12696)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 33.2ms | ActiveRecord: 0.3ms | Allocations: 16759)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:49:58 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 41.9ms | Allocations: 8558)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 0.0ms | Allocations: 10108)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:03 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 67.0ms | Allocations: 15507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 80ms (Views: 76.3ms | ActiveRecord: 0.4ms | Allocations: 19901)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:04 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 63.6ms | Allocations: 15519)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 79ms (Views: 73.9ms | ActiveRecord: 0.5ms | Allocations: 20507)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:04 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 39.4ms | Allocations: 15155)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 43.9ms | ActiveRecord: 0.2ms | Allocations: 19212)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:05 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 44.4ms | Allocations: 15147)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 49.6ms | ActiveRecord: 0.4ms | Allocations: 19199)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:05 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 63.4ms | Allocations: 15147)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 69.2ms | ActiveRecord: 0.5ms | Allocations: 19199)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:11 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:18
  Rendered orders/new.html.erb within layouts/application (Duration: 41.2ms | Allocations: 10470)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 48.7ms | ActiveRecord: 0.4ms | Allocations: 15472)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:12 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:18
  Rendered orders/new.html.erb within layouts/application (Duration: 41.5ms | Allocations: 10166)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 49.0ms | ActiveRecord: 0.4ms | Allocations: 14223)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:12 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:18
  Rendered orders/new.html.erb within layouts/application (Duration: 63.3ms | Allocations: 10159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 69.0ms | ActiveRecord: 0.6ms | Allocations: 14213)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:13 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:18
  Rendered orders/new.html.erb within layouts/application (Duration: 38.3ms | Allocations: 10159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 42.9ms | ActiveRecord: 0.4ms | Allocations: 14218)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:13 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:18
  Rendered orders/new.html.erb within layouts/application (Duration: 20.4ms | Allocations: 10159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.5ms | Allocations: 14217)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:13 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:18
  Rendered orders/new.html.erb within layouts/application (Duration: 25.3ms | Allocations: 10159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 29.2ms | ActiveRecord: 1.3ms | Allocations: 14213)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:13 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:18
  Rendered orders/new.html.erb within layouts/application (Duration: 25.9ms | Allocations: 10159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 30.8ms | ActiveRecord: 0.3ms | Allocations: 14212)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:18
  Rendered orders/new.html.erb within layouts/application (Duration: 35.0ms | Allocations: 10159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 39.0ms | ActiveRecord: 0.2ms | Allocations: 14215)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:17 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:18
  Rendered orders/new.html.erb within layouts/application (Duration: 42.0ms | Allocations: 10580)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 51.6ms | ActiveRecord: 1.0ms | Allocations: 14636)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 31.3ms | Allocations: 18948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 35.1ms | ActiveRecord: 8.6ms | Allocations: 39602)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:50:52 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 31.9ms | Allocations: 15175)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 37.7ms | ActiveRecord: 0.7ms | Allocations: 19248)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:51:31 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 47.3ms | Allocations: 32916)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 94ms (Views: 54.2ms | ActiveRecord: 9.9ms | Allocations: 63860)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:52:27 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 35.4ms | Allocations: 15184)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 39.4ms | ActiveRecord: 0.2ms | Allocations: 19262)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 10:52:51 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"yGbaIeld4SG0F7Ivb4b6JAKu6lcy3p2X08ykzJOR1x7ARZD/OosDJ7RCFzT1w1h1NS1mKyug0LqRVEh6s4KbVw==", "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 1709)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:54:16 +0700
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1480)


  
NoMethodError (undefined method `order_details' for nil:NilClass):
  
app/controllers/orders_controller.rb:8:in `new'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:54:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 33.1ms | Allocations: 18577)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 37.1ms | ActiveRecord: 6.8ms | Allocations: 33838)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:55:09 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 39.7ms | Allocations: 21107)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 42.9ms | ActiveRecord: 7.1ms | Allocations: 37088)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:55:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 47.3ms | Allocations: 17263)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 52.1ms | ActiveRecord: 0.5ms | Allocations: 21322)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:55:27 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 47.3ms | Allocations: 35069)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 54.8ms | ActiveRecord: 6.8ms | Allocations: 61332)


Started GET "/" for 127.0.0.1 at 2020-02-26 10:55:33 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 21.8ms | Allocations: 12919)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 23.0ms | ActiveRecord: 4.0ms | Allocations: 17304)


Started GET "/products/2/edit" for 127.0.0.1 at 2020-02-26 10:55:36 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 23.9ms | Allocations: 10154)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 28.0ms | ActiveRecord: 0.7ms | Allocations: 14713)


Started PATCH "/products/2" for 127.0.0.1 at 2020-02-26 10:55:38 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"sfovg71rlTBSDpZeljpACyuRdiSTm/ZvHKdFvlgzOjDRByqA7fvMzpdK/et8YL+lIQJmp/fYM6UUPPH9i+E0IQ==", "product"=>{"name"=>"Cam", "price"=>"5000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"2"}}, "commit"=>"Save", "id"=>"2"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-02-26 03:55:38.668072"], ["id", 2]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (178.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 195ms (ActiveRecord: 180.0ms | Allocations: 4883)


Started GET "/" for 127.0.0.1 at 2020-02-26 10:55:38 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 18.4ms | Allocations: 3968)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 24.2ms | ActiveRecord: 2.4ms | Allocations: 7836)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:55:44 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 47.5ms | Allocations: 17325)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 51.2ms | ActiveRecord: 0.3ms | Allocations: 21395)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:56:33 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 26.9ms | Allocations: 14137)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.1ms | ActiveRecord: 0.3ms | Allocations: 19133)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:56:34 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 37.7ms | Allocations: 13783)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 41.3ms | ActiveRecord: 0.3ms | Allocations: 17840)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:56:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 10.8ms | Allocations: 7660)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.0ms | Allocations: 12651)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:57:22 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 77)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 17.8ms | ActiveRecord: 0.0ms | Allocations: 5155)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:57:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 83)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 5160)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:58:04 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 9.3ms | Allocations: 7598)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.0ms | Allocations: 12588)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:58:17 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:23
  Rendered orders/new.html.erb within layouts/application (Duration: 41.9ms | Allocations: 17670)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 47.9ms | ActiveRecord: 0.3ms | Allocations: 22658)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:58:26 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 7607)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.0ms | Allocations: 12597)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:58:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 16.5ms | Allocations: 7610)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.0ms | Allocations: 12614)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:58:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:23
  Rendered orders/new.html.erb within layouts/application (Duration: 47.5ms | Allocations: 17670)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 52.9ms | ActiveRecord: 0.3ms | Allocations: 22669)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:59:05 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 15.7ms | Allocations: 7593)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.0ms | Allocations: 12581)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:59:11 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 32.3ms | Allocations: 7596)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 39.8ms | ActiveRecord: 0.0ms | Allocations: 12584)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:59:26 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 24.5ms | Allocations: 7669)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 33.3ms | ActiveRecord: 0.0ms | Allocations: 12663)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:59:35 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 30.9ms | Allocations: 7437)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 35.4ms | ActiveRecord: 0.0ms | Allocations: 11491)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:59:44 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 14.6ms | Allocations: 7655)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 21.3ms | ActiveRecord: 0.0ms | Allocations: 12642)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:59:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 10.2ms | Allocations: 7438)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.0ms | Allocations: 11498)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:59:49 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 29.6ms | Allocations: 7612)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 41.7ms | ActiveRecord: 0.0ms | Allocations: 12616)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:59:50 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 7415)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.0ms | Allocations: 11468)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 10:59:55 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 19.4ms | Allocations: 7599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 27.4ms | ActiveRecord: 0.0ms | Allocations: 12595)


Started GET "/orders/ne/w" for 127.0.0.1 at 2020-02-26 11:00:07 +0700
  
ActionController::RoutingError (No route matches [GET] "/orders/ne/w"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:00:12 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 7636)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.0ms | Allocations: 12627)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:00:44 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 27.9ms | Allocations: 7622)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 40.7ms | ActiveRecord: 0.0ms | Allocations: 12614)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:00:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 11.6ms | Allocations: 7417)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.0ms | Allocations: 11470)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:00:54 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 11.7ms | Allocations: 7617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.0ms | Allocations: 12613)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:00:55 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 22.1ms | Allocations: 7414)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 31.5ms | ActiveRecord: 0.0ms | Allocations: 11470)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:01:03 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 17.0ms | Allocations: 7608)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 22.5ms | ActiveRecord: 0.0ms | Allocations: 12603)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:01:44 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 33.1ms | Allocations: 14151)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 38.7ms | ActiveRecord: 0.3ms | Allocations: 19135)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:01:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 8.4ms | Allocations: 4065)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 0.0ms | Allocations: 9059)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:03:02 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 19.3ms | Allocations: 7610)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 27.6ms | ActiveRecord: 0.0ms | Allocations: 12610)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:03:54 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 24.9ms | Allocations: 21184)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 33.2ms | ActiveRecord: 5.0ms | Allocations: 47449)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:05:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 82.1ms | Allocations: 26052)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 101ms (Views: 88.9ms | ActiveRecord: 5.5ms | Allocations: 31049)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:06:08 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 46.1ms | Allocations: 7279)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 57.1ms | ActiveRecord: 0.0ms | Allocations: 12280)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:11:11 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 31.1ms | Allocations: 7080)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 48.3ms | ActiveRecord: 0.0ms | Allocations: 11140)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:11:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 22.5ms | Allocations: 7292)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 30.2ms | ActiveRecord: 0.0ms | Allocations: 12289)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:11:54 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:21
  Rendered orders/new.html.erb within layouts/application (Duration: 46.5ms | Allocations: 17327)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 54.3ms | ActiveRecord: 0.3ms | Allocations: 22328)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:13:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 44.8ms | Allocations: 17325)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 52.2ms | ActiveRecord: 0.3ms | Allocations: 22323)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:14:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 76.4ms | Allocations: 17304)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 92ms (Views: 87.5ms | ActiveRecord: 0.4ms | Allocations: 22295)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 11:14:36 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"f8Q2uZ9nvkgweW+QXuY0BFjAv8G/FabKBipJ28fNSqh353xnTLFcTjAsyovEo5ZVb0MzvaZr6+dEsqVt594G4Q==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 4ms (ActiveRecord: 0.0ms | Allocations: 1720)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:20:49 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 33.0ms | Allocations: 20275)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 37.0ms | ActiveRecord: 0.5ms | Allocations: 35117)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 11:21:03 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"a9jYlCnaasYrAjMKwAMfIrSwiv3bvBWgMblVozYLwClj+5JK+gyIwCtXlhFaRr1zgzMGgcLCWI1zIbkVFhiMYA==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
[31mUnpermitted parameter: :customer[0m
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:23:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 28.4ms | Allocations: 17447)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.6ms | ActiveRecord: 0.4ms | Allocations: 22438)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 11:24:13 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"bP8baEdH3QIiOEYY5Jog/vDfKKXGV1MSXLty5IE7uShk3FG2lJE/BCJt4wN+34Kvx1yk2d8pHj8eI55SoSj1YQ==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
[31mUnpermitted parameter: :customer[0m
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:25:22 +0700
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 71316ms (ActiveRecord: 0.0ms | Allocations: 11545)


No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 265976ms (ActiveRecord: 0.0ms | Allocations: 59829)


Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 31.0ms | Allocations: 20421)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 33.6ms | ActiveRecord: 7.7ms | Allocations: 35756)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:25:34 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 46.8ms | Allocations: 34781)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 92ms (Views: 55.0ms | ActiveRecord: 8.5ms | Allocations: 61044)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 11:25:46 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"GWlsCigD1XjICrs5NYOsZ+IxxATI/0LhggNCwFXyBVIRSibU+9U3fshfHiKvxg421bJIeNGBD8zAm652deFJGw==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 21665ms (ActiveRecord: 0.0ms | Allocations: 16274)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:36:28 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1819)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2450)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= f.simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:36:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 35.7ms | Allocations: 20528)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 37.6ms | ActiveRecord: 8.5ms | Allocations: 35909)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:36:45 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 36.2ms | Allocations: 20443)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 39.5ms | ActiveRecord: 6.8ms | Allocations: 35696)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 11:37:04 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"+9yHYv3Hcbc7Y4/gk4B7YkdEMv84KlssQC0f/8Aj/7Dz/828LhGTsTs2KvsJxdkzcMe+gyFUFgECtfNJ4DCz+Q==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 207868ms (ActiveRecord: 0.0ms | Allocations: 22744)


  [1m[36mCustomer Load (28.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (46.6ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cao Dinh Day"], ["phone", "0396162108"], ["created_at", "2020-02-26 04:50:19.144988"], ["updated_at", "2020-02-26 04:50:19.144988"]]
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:56:15 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 49.0ms | Allocations: 34830)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 92ms (Views: 57.1ms | ActiveRecord: 8.4ms | Allocations: 61096)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 11:57:10 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"mp1hBRZYvp5ZexS0/cE/VgbUzPprY94w8VoGWb4clQWSvivbxY5cmFkusa9nhJ0HMVdAhnIdkx2zwurvng/ZTA==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 15802ms (ActiveRecord: 6.8ms | Allocations: 22798)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:57:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 45.1ms | Allocations: 20456)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 47.7ms | ActiveRecord: 6.4ms | Allocations: 35694)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 11:57:47 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"eB861QZubVWTCIvny2kmvS6Ykc6JREv09fbzR/oQc/xwPHAL1biPU5NdLvxRLITsGRsdspA6Btm3bh/x2gM/tQ==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 60ms (ActiveRecord: 10.9ms | Allocations: 10440)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 11:58:06 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 58.5ms | Allocations: 34830)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 107ms (Views: 66.8ms | ActiveRecord: 10.2ms | Allocations: 61097)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 11:58:17 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"EiKhiRCIX3YfLA0s2ePkglHY6q/z2KMhcVmrMQ+2YgQaAetXw169cB95qDdDpkbTZltm0+qm7gwzwUeHL6UuTQ==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/services/order_services/create_order_service.rb:10:in `create'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/services/order_services/create_order_service.rb:13:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 6848003ms (ActiveRecord: 4.9ms | Allocations: 60754)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 13:58:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 35.6ms | Allocations: 20450)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 39.1ms | ActiveRecord: 6.7ms | Allocations: 35678)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 13:58:12 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"wopgxOOgGULhsO83lYsFyB4ki8K1wEnxU36b8RCwoCLKqSoaMHb7ROHlSiwPzqeZKacHvqy+BNwR5ndHMKPsaw==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/services/order_services/create_order_service.rb:13:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 5231ms (ActiveRecord: 4.8ms | Allocations: 14556)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 13:59:44 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 46.1ms | Allocations: 34830)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 86ms (Views: 53.7ms | ActiveRecord: 7.6ms | Allocations: 61091)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 13:59:57 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"IBO+qEAcz4TmNl2CAwAbwmcFGHafiBJpLTJS5tgK6bwoMPR2k8otguZj+JmZRbmTUIaUCob2X0Rvqr5Q+Bml9Q==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 27ms (ActiveRecord: 7.6ms | Allocations: 7404)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:01:25 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 45.4ms | Allocations: 34831)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 86ms (Views: 52.8ms | ActiveRecord: 7.7ms | Allocations: 61095)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:01:38 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"s9jhpceKbNCq3yM1mtwRVhFwTL3jeY4finA5h0/9pwW7+6t7FFyO1qqKhi4AmbMHJvPAwfoHwzLI6NUxb+7rTA==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2896)


  
ActiveRecord::AssociationTypeMismatch (Customer(#70128628941640) expected, got {"name"=>"Cao Dinh Day", "phone"=>"0396162108"} which is an instance of ActiveSupport::HashWithIndifferentAccess(#46955645114460)):
  
app/services/order_services/create_order_service.rb:10:in `create'
app/controllers/orders_controller.rb:18:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:05:45 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 35.3ms | Allocations: 20455)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 37.2ms | ActiveRecord: 6.4ms | Allocations: 35691)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:05:59 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"d4WfEOHWcOid7MoEtIZkGNP6y6fzcS1oH7usD4zluJF/ptXOMgCS7p25bx8uw8ZJ5HlH2+oPYEVdI0C5rPb02A==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2832)


  
ActiveRecord::AssociationTypeMismatch (Customer(#70128630266080) expected, got {"name"=>"Cao Dinh Day", "phone"=>"0396162108"} which is an instance of ActiveSupport::HashWithIndifferentAccess(#46955645114460)):
  
app/services/order_services/create_order_service.rb:10:in `create'
app/controllers/orders_controller.rb:18:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:10:55 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:31: syntax error, unexpected tSYMBEG, expecting '('
...der).permit(customer: [:name. :phone])
...                              ^):
  
app/controllers/orders_controller.rb:31: syntax error, unexpected tSYMBEG, expecting '('
app/controllers/orders_controller.rb:31: syntax error, unexpected tSYMBEG, expecting '('
app/controllers/orders_controller.rb:31: syntax error, unexpected tSYMBEG, expecting '('
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:28:40 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 32.3ms | Allocations: 20553)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 34.7ms | ActiveRecord: 8.2ms | Allocations: 35898)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:28:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"8kt7+E0Us7JRPu6iWG6BIXTCSXgH5nAiliAQcmDRG5P6aDEmnsJRtFFrS7nCKyNwQ0HFBB6YPQ/UuPzEQMJX2g==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 9.3ms | Allocations: 6578)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/orders_controller.rb:10:in `new'
app/controllers/orders_controller.rb:25:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:28:58 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 26.4ms | Allocations: 17034)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 30.9ms | ActiveRecord: 0.3ms | Allocations: 21097)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:30:13 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"4OzVSd4tr0ckPQMEx5khBOg6uV54nlX6F55rDfjs7KPoz5+XDftNQSRoph9d3INV37k1ImHgGNdVBoe72P+g6g==", "order"=>{"customer"=>{"name"=>"Khong Minh", "phone"=>"0983574137"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0983574137')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:21:in `create'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-02-26 07:30:13.425147"], ["updated_at", "2020-02-26 07:30:13.425147"]]
  ↳ app/controllers/orders_controller.rb:21:in `create'
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:21:in `create'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 20.3ms | Allocations: 4346)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/orders_controller.rb:10:in `new'
app/controllers/orders_controller.rb:25:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:31:47 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 30.7ms | Allocations: 20446)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 33.6ms | ActiveRecord: 6.5ms | Allocations: 35662)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:32:03 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"9SqByDe2MPL6tXSQpzK3Y9Yh2Mqx3WzKgzRr/Ct/p4H9CcsW5GDS9Prg0Ys9dxUy4aJUtqijIefBrIdKC2zryA==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"3"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 8.8ms | Allocations: 6693)


  
ActiveModel::UnknownAttributeError (unknown attribute '0' for Order.):
  
app/controllers/orders_controller.rb:25:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:32:42 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 34.8ms | Allocations: 20446)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 37.0ms | ActiveRecord: 6.8ms | Allocations: 35671)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:32:59 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"GN7n7/m6cbfULdjtJ2HriJg2MLzdQV5FlB+B7WdLWsEQ/a0xKmyTsdR4ffa9JEnZr7W8wMQ/E2jWh21bR1gWiA==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"3"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 4.8ms | Allocations: 7091)


  
ActiveRecord::AssociationTypeMismatch (Customer(#46955670810420) expected, got {"name"=>"Cao Dinh Day", "phone"=>"0396162108"} which is an instance of ActiveSupport::HashWithIndifferentAccess(#46955645114460)):
  
app/controllers/orders_controller.rb:25:in `create'
Started GET "/order/news" for 127.0.0.1 at 2020-02-26 14:33:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/order/news"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/order/new" for 127.0.0.1 at 2020-02-26 14:33:45 +0700
  
ActionController::RoutingError (No route matches [GET] "/order/new"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:33:47 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 33.3ms | Allocations: 20450)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 36.5ms | ActiveRecord: 7.7ms | Allocations: 35715)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:33:57 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"yFVf5pjJktHWb/MEv4EWUY7x4mIcm+PwgKSZOQi8nInAdhU4Sx9w19Y6Vh8lxLQAuXJuHgXlrt3CPHWPKK/QwA==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
Completed 500 Internal Server Error in 70478ms (ActiveRecord: 5.9ms | Allocations: 27928)


  
ActiveModel::UnknownAttributeError (unknown attribute '0' for Order.):
  
app/controllers/orders_controller.rb:25:in `create'
Started GET "/orders" for 127.0.0.1 at 2020-02-26 14:35:14 +0700
Processing by OrdersController#index as HTML
Completed 406 Not Acceptable in 2ms (ActiveRecord: 0.0ms | Allocations: 1942)


  
ActionController::MissingExactTemplate (OrdersController#index is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:35:15 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 33.5ms | Allocations: 20499)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 35.8ms | ActiveRecord: 9.4ms | Allocations: 35774)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:35:26 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"OBDjywSVRSRKssPYoTT6AMIHe447Pjj+Jbp47FbFQHQwM6kV10OnIkrnZsM7cVhR9YT38iJAddNnIpRadtYMPQ==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 5.4ms | Allocations: 6680)


  
ActiveModel::UnknownAttributeError (unknown attribute '0' for Order.):
  
app/controllers/orders_controller.rb:25:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:37:11 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 35.3ms | Allocations: 17056)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 39.3ms | ActiveRecord: 0.3ms | Allocations: 21108)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:37:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"GdL62+tEnZ+daO6fSNJiRq/+lPhLkEswCuteWvFtG6cR8bAFOJJ/mZ09S4TSl8AXmH0YhFLuBh1Ic7Ls0X5X7g==", "order"=>{"customer"=>{"name"=>"Minh Quy", "phone"=>"356125874"}, "order_details_attributes"=>{"0"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '356125874')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:21:in `create'
  [1m[36mCustomer Create (0.7ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Minh Quy"], ["phone", "356125874"], ["created_at", "2020-02-26 07:37:54.720486"], ["updated_at", "2020-02-26 07:37:54.720486"]]
  ↳ app/controllers/orders_controller.rb:21:in `create'
  [1m[35m (14.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:21:in `create'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 16.1ms | Allocations: 4716)


  
ActiveModel::UnknownAttributeError (unknown attribute '0' for Order.):
  
app/controllers/orders_controller.rb:25:in `create'
Started GET "/orders" for 127.0.0.1 at 2020-02-26 14:38:30 +0700
Processing by OrdersController#index as HTML
Completed 406 Not Acceptable in 1ms (ActiveRecord: 0.0ms | Allocations: 626)


  
ActionController::MissingExactTemplate (OrdersController#index is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:38:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 30.4ms | Allocations: 20471)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 32.6ms | ActiveRecord: 8.9ms | Allocations: 35726)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:38:45 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"IPpgAE5x1bcnt+IMPiTxXMJO+xtg7lmv+KwW3TkX+Ywo2Srenac3sSfiRxekYVMN9c13Z3mQFIK6NPprGQS1xQ==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 4.9ms | Allocations: 8948)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:40:30 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 40.3ms | Allocations: 17029)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 45.8ms | ActiveRecord: 0.3ms | Allocations: 21086)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:46:22 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 31.2ms | Allocations: 20472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 34.7ms | ActiveRecord: 6.4ms | Allocations: 35688)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:46:34 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"212PWeVFetFo3zC1i3MJzRW07jdgeJ1AXtI5I+G1MKDTfsWHNpOY12iKla4RNqucIjdiS3kG0G0cStWVwaZ86Q==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
[31mUnpermitted parameter: :order_details_attributes[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = NULL)[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
[31mUnpermitted parameter: :order_details_attributes[0m
Completed 500 Internal Server Error in 32ms (ActiveRecord: 8.7ms | Allocations: 6293)


  
ActiveModel::UnknownAttributeError (unknown attribute 'customer' for Customer.):
  
app/controllers/orders_controller.rb:20:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:47:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 34.7ms | Allocations: 20492)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 37.6ms | ActiveRecord: 6.2ms | Allocations: 35714)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:47:38 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"/Oiy3XM8gmM/mUTRjsM6lNeAv7UwpGeBEqQJxwrANbj0y/gDoOpgZT/M4coUhpjF4AMzySnaKqxQPOVxKtN58Q==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
[31mUnpermitted parameter: :order_details_attributes[0m
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 51ms (ActiveRecord: 14.5ms | Allocations: 5766)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:48:21 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 30.5ms | Allocations: 20472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 33.6ms | ActiveRecord: 6.6ms | Allocations: 35690)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:48:34 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"erORH75GTLh4HOKsKNgWMmIo78sUAXEnPDn0YljJmy5ykNvBbZCuvnhJR7eynbRjVatjtw1/PAp+oRjUeNrXZw==", "order"=>{"customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
[31mUnpermitted parameter: :order_details_attributes[0m
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 27ms (ActiveRecord: 5.7ms | Allocations: 5767)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:51:17 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 42.2ms | Allocations: 15419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 48.9ms | ActiveRecord: 0.3ms | Allocations: 20413)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:51:18 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 40.1ms | Allocations: 15056)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 45.5ms | ActiveRecord: 0.3ms | Allocations: 19112)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:51:20 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 43.2ms | Allocations: 15049)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 49.4ms | ActiveRecord: 0.3ms | Allocations: 19102)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:51:35 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 47.3ms | Allocations: 32742)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 55.8ms | ActiveRecord: 7.4ms | Allocations: 59009)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:51:51 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"hzyV2BITArroKM/IbH1xv+bUNnNO/8hMegmuI/zdI+mPH98GwcXgvOh9atP2ONPu0Ve6D1eBhWE4kUKV3M5voA==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
[31mUnpermitted parameter: :order_details_attributes[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 2385)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/orders_controller.rb:18:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:53:01 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 30.7ms | Allocations: 18399)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 38.4ms | ActiveRecord: 6.8ms | Allocations: 33629)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:53:17 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fsDWSZjDwNgTmSQoyybxxCJAK/u9nM0BRUeJCvUyT8x245yXSxUi3hPMgTNRY1OVFcOnh6TigCwH32W81SEDhQ==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 4.1ms | Allocations: 7024)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:53:57 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 37.3ms | Allocations: 18392)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 40.6ms | ActiveRecord: 8.2ms | Allocations: 33606)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:54:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"pNmerFc/BSRi/pC6h6YWFT4MsrY1ToEkA/cmt7YuPm+s+tRyhOnnImKrNaEd47RECY8+yiwwzAlBb8oBlj1yJg==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 3.9ms | Allocations: 5634)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:54:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 31.5ms | Allocations: 18392)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 35.5ms | ActiveRecord: 7.5ms | Allocations: 33644)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:54:34 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"yJ5kedIKb1DaJH6vw/g8GGgUvjHBEg6piI004CbF5tvAvS6nAdyNVtpx27RZvZ5JX5cyTdhsQ4TKFdhWBtaqkg==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:19:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 45803ms (ActiveRecord: 4.5ms | Allocations: 37605)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:55:26 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 34.4ms | Allocations: 18424)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 37.3ms | ActiveRecord: 7.2ms | Allocations: 33655)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:55:37 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"6LO8GqEwKPNBGtGOdkvmIYlj9j04CFAbPJ2l/Y5SeXjgkPbEcubK9UFPdJXsDkRwvuB6QSF2HTZ+BUlLrkE1MQ==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.6ms | Allocations: 6150)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/orders_controller.rb:28:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:56:04 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 30.9ms | Allocations: 18419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 35.6ms | ActiveRecord: 6.6ms | Allocations: 33637)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:56:12 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"qH/Jg4IdtZKZQ9lrbqt2V0N3qrjO/tjVYeR92PIV2kigXINdUctXlJkWfHD07tQGdPQmxNeAlfgjfJFu0gaWAQ==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.8ms | Allocations: 6167)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/orders_controller.rb:28:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:57:01 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 32.0ms | Allocations: 18419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 34.9ms | ActiveRecord: 7.1ms | Allocations: 33637)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:57:11 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"c1KkXKomB0sBHYkSgqGe1jD7MQQDw4NsKgYTErbGiAZ7ce6CefDlTQFILAkY5DyHB3i9eBq9zkFonv+kltXETw==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
Completed 500 Internal Server Error in 15436ms (ActiveRecord: 5.9ms | Allocations: 18815)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/orders_controller.rb:29:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:57:35 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 45.9ms | Allocations: 32741)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 54.2ms | ActiveRecord: 7.3ms | Allocations: 59009)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:57:45 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"umLlLiTFC89Ia16nSJi+DcOV6jYhABKFczqpNrq46YqyQa/w9xPpyUg++7zS3Rxc9BZmSjh+X6gxokWAmqulww==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
Completed 500 Internal Server Error in 6438ms (ActiveRecord: 4.3ms | Allocations: 29504)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/orders_controller.rb:29:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 14:58:19 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 36.4ms | Allocations: 18424)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 38.5ms | ActiveRecord: 6.7ms | Allocations: 33655)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 14:58:31 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"pMcyEdTSVmQqBD4rzJKGAOVi/SwDzR4M+sh1oRS+7/Os5HjPBwS0YipRmzBW1yRR0uFxUBqzUyG4UJkXNK2jug==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:06:18 +0700
Completed 500 Internal Server Error in 469063ms (ActiveRecord: 2.7ms | Allocations: 54235)


  
NoMethodError (undefined method `id' for #<Customer::ActiveRecord_Relation:0x00005613afacd708>
Did you mean?  ids):
  
app/controllers/orders_controller.rb:29:in `create'
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 34.2ms | Allocations: 18424)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 36.5ms | ActiveRecord: 15.1ms | Allocations: 33656)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:06:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 27.7ms | Allocations: 15014)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 33.3ms | ActiveRecord: 0.2ms | Allocations: 19071)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:06:32 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"OdNC1UwyWwcGLe4WzhS/RtTUhNwmAm2wYc7lVZqVH/Ax8AgLn+S5AQZ4Sw1UUR0X41cIoD98IJ0jVgnjuoZTuQ==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 30ms (ActiveRecord: 4.6ms | Allocations: 15116)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:07:15 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 54.5ms | Allocations: 18420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 59.0ms | ActiveRecord: 10.4ms | Allocations: 33641)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:07:20 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 32.5ms | Allocations: 15014)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 36.5ms | ActiveRecord: 0.3ms | Allocations: 19069)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:07:32 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"tGG3QiliXH1Jz1FDoAC7+m0sydyt+0IbCnE6of565nG8Qv2c+rS+e0ma9Fg6RRmrWq9FoLSFDzZI6dYX3mmqOA==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:09:39 +0700
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 130043ms (ActiveRecord: 8.3ms | Allocations: 29613)


Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 36.5ms | Allocations: 18420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 38.7ms | ActiveRecord: 10.1ms | Allocations: 33643)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:09:44 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 48.7ms | Allocations: 15020)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 54.4ms | ActiveRecord: 0.3ms | Allocations: 19075)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:09:55 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"yhFq0UFVm5vMd4Tmc2FwWmK0eHONlWTRa4zWfl3UBs3CMiAPkoN5ncwiIf3pJNILVTf0D5TrKfwpFDrIfcdKhA==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.2ms | Allocations: 6179)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/orders_controller.rb:29:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:10:53 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:27: syntax error, unexpected =>, expecting ')'
        temp = (:customer_id => @customer.ids).merge(order_p...
                             ^~):
  
app/controllers/orders_controller.rb:27: syntax error, unexpected =>, expecting ')'
app/controllers/orders_controller.rb:27: syntax error, unexpected =>, expecting ')'
app/controllers/orders_controller.rb:27: syntax error, unexpected =>, expecting ')'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:17:07 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 30.9ms | Allocations: 18526)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 33.4ms | ActiveRecord: 7.6ms | Allocations: 33869)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:17:22 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"UxQt7i1OOq7mdgrmF8uFJQZQnLhKcfOsSmLo0iuwOdRbN2cw/pjYqOYjr/2Njid0MdMQxFMPvoEI+gRkC6N1nQ==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.6ms | Allocations: 7538)


  
NoMethodError (undefined method `id' for #<Customer::ActiveRecord_Relation:0x00007f4a54f73b18>
Did you mean?  ids):
  
app/controllers/orders_controller.rb:27:in `create'
Started GET "/orders/nmew" for 127.0.0.1 at 2020-02-26 15:17:35 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for OrdersController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:17:38 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 30.4ms | Allocations: 18419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 36.6ms | ActiveRecord: 10.3ms | Allocations: 33679)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:17:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"VqhhbXaRG5YZcewuj3jtuDVo73KVIWYx8B71w2dhL61eiyuzpUf5kBkkSTUVPU/pAutjDoxfKxyyhhl1R3Jj5A==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 3.5ms | Allocations: 10571)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/orders_controller.rb:27:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:19:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 38.3ms | Allocations: 18427)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 41.7ms | ActiveRecord: 7.8ms | Allocations: 33648)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:20:09 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"CooiZVNMkKCcNwcdeY3Y36c3F69aer1CouZctyCSdgQCqWi7gJpyppxiogbjyHqOkLSb00ME8G/gfrABAIE6TQ==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.8ms | Allocations: 7534)


  
NoMethodError (undefined method `id' for #<Customer::ActiveRecord_Relation:0x00007f4a548507a0>
Did you mean?  ids):
  
app/controllers/orders_controller.rb:27:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:20:17 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 30.5ms | Allocations: 18419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 32.4ms | ActiveRecord: 7.5ms | Allocations: 33675)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:20:31 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"KqIhfay7sol+UABq86RIEfA7iXpq/avWPdpRfTcwLIYigWujf21Qj34FpXFp4epAx7gFBnOD5vt/Qr3LFyNgzw==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:29:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/orders_controller.rb:29:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 34ms (ActiveRecord: 4.0ms | Allocations: 17444)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:21:25 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 37.0ms | Allocations: 18420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 40.2ms | ActiveRecord: 7.2ms | Allocations: 33607)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:21:33 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"mSlOWeydPDksxoW43Sa7hn95U3YnUKn/tMGDmRfZSwORCgSHP0vePyyTIKNHYxnXSPrfCj4u5NL2WW8vN8oHSg==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 101958ms (ActiveRecord: 5.8ms | Allocations: 33260)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:23:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 35.3ms | Allocations: 18420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 38.5ms | ActiveRecord: 8.0ms | Allocations: 33638)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:23:29 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"hxMXfD6rRMqiec11SfJhBD1FUzB5dG7ODdTH/d3eBLWPMF2i7X2mzKIsaG7Tt8NVCsbfTGAKI+NPTCtL/c1I/A==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/orders_controller.rb:31:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 9225ms (ActiveRecord: 5.2ms | Allocations: 30356)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:26:17 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 29.6ms | Allocations: 18420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 32.2ms | ActiveRecord: 6.9ms | Allocations: 33638)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:26:29 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"DzB+1gtvhCcnJ3iEreHxU6uZ84LU7GKx7FrGz3IuNjAHEzQI2LlmISdy3Z83pFMCnBp//s2SL5yuwip5Uj16eQ==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers"."id" FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:26:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/orders_controller.rb:31:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 41730ms (ActiveRecord: 6.1ms | Allocations: 28918)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:27:13 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 31.4ms | Allocations: 18420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 35.5ms | ActiveRecord: 6.2ms | Allocations: 33638)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:27:24 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"BweLyT+mTinaQZfDg4gwIRDwQUsJNtZOi9ysXjMy0GcPJMEX7HCsL9oUMtgZzZJwJ3PNNxBIm2PJREDoEyGcLg==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/orders_controller.rb:31:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 7051ms (ActiveRecord: 3.4ms | Allocations: 26850)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:28:08 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 50.5ms | Allocations: 18420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 82ms (Views: 53.5ms | ActiveRecord: 8.3ms | Allocations: 33636)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:28:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"m+o916oS/yLu5G8eYEtgCaqCnT2CCcku5EZEvj7G7w+TyXcJecQdJO6xygX6DsJYnQERQZt3hAOm3qgIHtWjRg==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers"."id" FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers"."id" FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (pry):24:in `create'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers"."id" FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers"."id" FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from create at /home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:30)
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from create at /home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:30)
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from create at /home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:30)
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers"."id" FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."phone" = $1 LIMIT $2[0m  [["phone", "0396162108"], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "customers"."id" FROM "customers" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  ↳ (pry):35:in `create'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."phone" = $1 LIMIT $2[0m  [["phone", "0396162108"], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:30:in `create'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "customers"."id" FROM "customers" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  ↳ (pry):39:in `create'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "customers"."id" FROM "customers" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  ↳ (pry):40:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:32:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:32:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:32:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/orders_controller.rb:32:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 365990ms (ActiveRecord: 8.0ms | Allocations: 181542)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:34:26 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 34.1ms | Allocations: 18420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 36.2ms | ActiveRecord: 7.9ms | Allocations: 33655)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:34:37 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"HXUZYhDojRAMfiypW2p0RhzxgYYOjnPm5gyAilh3yhsVVlO8wz5vFgwribLBL9YXK3IN+hfwPsuklGw8eGSGUg==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mOrder Create (22.9ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-26 08:34:45.569223"], ["updated_at", "2020-02-26 08:34:45.569223"], ["customer_id", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mOrderDetail Create (14.1ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 1], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-02-26 08:34:45.594300"], ["updated_at", "2020-02-26 08:34:45.594300"]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 1], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-02-26 08:34:45.611244"], ["updated_at", "2020-02-26 08:34:45.611244"]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[35m (39.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:31:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 8069ms (ActiveRecord: 80.3ms | Allocations: 31015)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:34:45 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 34.8ms | Allocations: 15014)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 38.8ms | ActiveRecord: 0.3ms | Allocations: 19063)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:38:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 35.8ms | Allocations: 18420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 39.4ms | ActiveRecord: 7.0ms | Allocations: 33639)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 15:38:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"wTRUrY2MWw2LWCbuSYDR8I2Gd166NIAS0ugHf0nGr3zJFx5zXlq5C4sNg/XTxXOhugX7IqNKzT+QcOvJadXjNQ==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"2"}, "1"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  ↳ app/controllers/orders_controller.rb:20:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-26 08:38:49.049701"], ["updated_at", "2020-02-26 08:38:49.049701"], ["customer_id", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 2], ["price", 10000.0], ["quantity", 2], ["created_at", "2020-02-26 08:38:49.052170"], ["updated_at", "2020-02-26 08:38:49.052170"]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 2], ["price", 3000.0], ["quantity", 3], ["created_at", "2020-02-26 08:38:49.054314"], ["updated_at", "2020-02-26 08:38:49.054314"]]
  ↳ app/controllers/orders_controller.rb:31:in `create'
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:31:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 76ms (ActiveRecord: 36.6ms | Allocations: 21463)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 15:38:49 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 25.8ms | Allocations: 15025)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 31.7ms | ActiveRecord: 0.2ms | Allocations: 19081)


  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:15:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 32.2ms | Allocations: 18365)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 36.1ms | ActiveRecord: 0.5ms | Allocations: 33205)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:16:10 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"xbdBDfm2uPfiqrJWns10RL5KoLZ9jWXDqnyrEhxooZbNlAvTKmBa8eL/F00EiNYVicksymTzKO7o5EekPHvt3w==", "customer"=>{"name"=>"Khong Minh", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"5"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = NULL)[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 1.0ms | Allocations: 10596)


  
ActiveModel::UnknownAttributeError (unknown attribute 'order_details_attributes' for Customer.):
  
app/services/order_services/create_order_service.rb:13:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:17:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 33.4ms | Allocations: 18444)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 35.9ms | ActiveRecord: 8.2ms | Allocations: 33687)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:17:23 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"tw5hImsL4ilxr8jrgrMXzSSFtA39z/h/HM8oUM8f3ZC/LSv8uN0AL3H6bfAY9rWcEwY4ceSxtVJeV8Tm7wyR2Q==", "customer"=>{"name"=>"Khong Minh", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"5"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = NULL)[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 8.1ms | Allocations: 6401)


  
ActiveModel::UnknownAttributeError (unknown attribute 'order_details_attributes' for Customer.):
  
app/services/order_services/create_order_service.rb:13:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:17:32 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 46.9ms | Allocations: 32766)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 54.3ms | ActiveRecord: 7.7ms | Allocations: 59030)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:17:43 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Wfv1SaeFzoUPRCv8roiZEcp2pFaCANvPRGh1q5s9EP9R2L+XdFMsgw8Rjuc0zTtA/fUoKpt+luIG8Jkduy5ctg==", "customer"=>{"name"=>"Khong Minh", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"5"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = NULL)[0m
  ↳ app/services/order_services/create_order_service.rb:13:in `create'
Completed 500 Internal Server Error in 37852ms (ActiveRecord: 4.8ms | Allocations: 31448)


  
ActiveModel::UnknownAttributeError (unknown attribute 'order_details_attributes' for Customer.):
  
app/services/order_services/create_order_service.rb:14:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:18:44 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 46.9ms | Allocations: 32766)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 89ms (Views: 55.7ms | ActiveRecord: 7.3ms | Allocations: 59026)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:18:56 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"JLdGItlr8vwlvithhVmNcLOWfMpfO7w4gq2qijSXpXMslAz8Cr0Q+iXrjnofHC8hhBXwtkZF8RXANUY8FITpOg==", "customer"=>{"name"=>"Khong Minh", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"5"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987654321')[0m
  ↳ app/services/order_services/create_order_service.rb:13:in `create'
Completed 500 Internal Server Error in 6325ms (ActiveRecord: 4.7ms | Allocations: 28743)


  
NoMethodError (undefined method `save' for #<ActiveRecord::Relation []>):
  
app/services/order_services/create_order_service.rb:15:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:20:54 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 63.9ms | Allocations: 32766)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 109ms (Views: 74.5ms | ActiveRecord: 8.4ms | Allocations: 59031)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:21:05 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"zPPA++zSbqkmx0tlJMRzf/84icx+Fgv5Hb1g+x5FwCfE0IolPwSMryaS7n6+gdEuyLsFsGdoRtRfJYxNPlaMbg==", "customer"=>{"name"=>"Khong Minh", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"5"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987654321')[0m
  ↳ app/services/order_services/create_order_service.rb:13:in `create'
Completed 500 Internal Server Error in 11370ms (ActiveRecord: 2.7ms | Allocations: 22987)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/services/order_services/create_order_service.rb:14:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:22:43 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 32.5ms | Allocations: 18449)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 34.6ms | ActiveRecord: 6.7ms | Allocations: 33684)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:22:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"m818Ma61i5AtSccPWZzq86KcGSOaPmEmwvCYXERfQrWT7jbvfWNpli0cYhTD2UiilR+VX4NALAuAaHTqZEwO/A==", "customer"=>{"name"=>"Khong Minh", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"5"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987654321')[0m
  ↳ app/services/order_services/create_order_service.rb:13:in `create'
Completed 500 Internal Server Error in 4047ms (ActiveRecord: 2.6ms | Allocations: 12091)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/services/order_services/create_order_service.rb:14:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:24:06 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 58.5ms | Allocations: 32766)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 114ms (Views: 67.2ms | ActiveRecord: 7.3ms | Allocations: 59026)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:24:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"8Qvfgb+I4BuEuqj5feg1424x3YM3QOv96AjMBDZWIYn5KJVfbF4CHYTvDeLnrZeyWbJR/y4+ptCqkCCyFkVtwA==", "customer"=>{"name"=>"Khong Minh", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"5"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987654321')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Khong Minh"], ["phone", "0987654321"], ["created_at", "2020-02-26 09:24:18.172740"], ["updated_at", "2020-02-26 09:24:18.172740"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (155.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
Completed 500 Internal Server Error in 177ms (ActiveRecord: 158.7ms | Allocations: 9195)


  
NoMethodError (undefined method `pluck' for :@customer:Symbol):
  
app/services/order_services/create_order_service.rb:18:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:25:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 31.3ms | Allocations: 18424)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 34.0ms | ActiveRecord: 7.1ms | Allocations: 33660)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:25:48 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ZU6mGcRYi4zME7ae08NOTSeVhWk7Gs2/jITkREQp8IptbezHF45pisxGE4VJhuwcEBYJFSJkgJLOHAjyZDq8ww==", "customer"=>{"name"=>"Khong Minh", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"5"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (6.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987654321')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 9.5ms | Allocations: 6545)


  
NoMethodError (undefined method `pluck' for :@customer:Symbol):
  
app/services/order_services/create_order_service.rb:18:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:26:12 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 35.6ms | Allocations: 18419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 38.2ms | ActiveRecord: 9.4ms | Allocations: 33636)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:26:24 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"tUQ1d+rFAVUam8xsv8K/hDgpTvUMBx0rYVey3IlDPJq9Z3+pORPjUxrOaXclhx3VD6rCiRV5UAYjz15qqVBw0w==", "customer"=>{"name"=>"Khong Minh", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"5"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987654321')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 7.6ms | Allocations: 6572)


  
NoMethodError (undefined method `pluck' for :@customer:Symbol):
  
app/services/order_services/create_order_service.rb:18:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:26:38 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 46.5ms | Allocations: 32766)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 54.0ms | ActiveRecord: 7.8ms | Allocations: 59030)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:26:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"0bdMrO3O7am/ZqAVTI1KPBUEjqeg6U1+zdaeSKjLKlzZlAZyPhgPr78zBQ7WyOhtIocC27mXAFOPTnL+iNhmFQ==", "customer"=>{"name"=>"Khong Minh", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"5"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987654321')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-26 09:28:02.667005"], ["updated_at", "2020-02-26 09:28:02.667005"], ["customer_id", 4]]
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
  [1m[36mOrderDetail Create (0.9ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 3], ["price", 10000.0], ["quantity", 5], ["created_at", "2020-02-26 09:28:02.670328"], ["updated_at", "2020-02-26 09:28:02.670328"]]
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 3], ["price", 5000.0], ["quantity", 6], ["created_at", "2020-02-26 09:28:02.674118"], ["updated_at", "2020-02-26 09:28:02.674118"]]
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
  [1m[35m (20.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
Redirected to http://localhost:3000/orders
Completed 302 Found in 68341ms (ActiveRecord: 31.0ms | Allocations: 56586)


Started GET "/orders" for 127.0.0.1 at 2020-02-26 16:28:02 +0700
Processing by OrdersController#index as HTML
Completed 406 Not Acceptable in 4ms (ActiveRecord: 0.0ms | Allocations: 1973)


  
ActionController::MissingExactTemplate (OrdersController#index is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:28:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 42.9ms | Allocations: 15073)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 48.2ms | ActiveRecord: 0.3ms | Allocations: 19133)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:28:58 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 46.7ms | Allocations: 32766)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 89ms (Views: 55.1ms | ActiveRecord: 8.3ms | Allocations: 59027)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:29:35 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"qgI3RdrKoMY/EPXeWRWKlcnpb+/CE1DZ885+tovR2c6iIX2bCRxCwD9FUMXDUCjE/mrjk9ttHfSxVpIAq8KVhw==", "customer"=>{"name"=>"Phan Nghia Nhan", "phone"=>"4758576928"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"3", "price"=>"2000", "quantity"=>"3"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '4758576928')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Phan Nghia Nhan"], ["phone", "4758576928"], ["created_at", "2020-02-26 09:29:35.385799"], ["updated_at", "2020-02-26 09:29:35.385799"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (227.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
Completed 500 Internal Server Error in 260ms (ActiveRecord: 232.6ms | Allocations: 10267)


  
NoMethodError (undefined method `pluck' for #<Customer:0x000055a89f79acf0>):
  
app/services/order_services/create_order_service.rb:17:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:30:59 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 48.8ms | Allocations: 32767)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 58.5ms | ActiveRecord: 7.5ms | Allocations: 59029)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:31:19 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"8jEG9eJVKwlYnFN2XS0fJFvP6jhJtP2GvmRlIpr6R2r6EkwrMYPJD1jJ9m3HaL11bExmRFDKsKv8/ImUuukLIw==", "customer"=>{"name"=>"Phan Nghia Nhan", "phone"=>"4758576928"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"3", "price"=>"2000", "quantity"=>"3"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '4758576928')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrder Create (2.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-26 09:31:19.365696"], ["updated_at", "2020-02-26 09:31:19.365696"], ["customer_id", 5]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 4], ["price", 2000.0], ["quantity", 3], ["created_at", "2020-02-26 09:31:19.370360"], ["updated_at", "2020-02-26 09:31:19.370360"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 4], ["price", 5000.0], ["quantity", 3], ["created_at", "2020-02-26 09:31:19.372934"], ["updated_at", "2020-02-26 09:31:19.372934"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[35m (334.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
Redirected to http://localhost:3000/orders
Completed 302 Found in 371ms (ActiveRecord: 343.6ms | Allocations: 18034)


Started GET "/orders" for 127.0.0.1 at 2020-02-26 16:31:19 +0700
Processing by OrdersController#index as HTML
Completed 406 Not Acceptable in 4ms (ActiveRecord: 0.0ms | Allocations: 1982)


  
ActionController::MissingExactTemplate (OrdersController#index is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_id" = $1[0m  [["order_id", 4]]
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 2]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Destroy (0.3ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 2]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 3]]
  [1m[35m (17.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:49:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 26.1ms | Allocations: 15150)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 29.8ms | ActiveRecord: 0.4ms | Allocations: 19221)


Started GET "/orders" for 127.0.0.1 at 2020-02-26 16:49:43 +0700
Processing by OrdersController#index as HTML
Completed 406 Not Acceptable in 1ms (ActiveRecord: 0.0ms | Allocations: 657)


  
ActionController::MissingExactTemplate (OrdersController#index is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:49:53 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 45.5ms | Allocations: 15032)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 51.1ms | ActiveRecord: 0.3ms | Allocations: 19087)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:50:48 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"HRcp/waJyHXsz/KhC1NuOKEUmbbdQEwiS9rKGsi9XDQVNGMh1V8qc+yaV7qRFsxplpcVysQ+AQ8JQias6K4QfQ==", "customer"=>{"name"=>"Huỳnh Thanh Tiến", "phone"=>"09876756788"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"2"}, "1"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"10"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '09876756788')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.6ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Huỳnh Thanh Tiến"], ["phone", "09876756788"], ["created_at", "2020-02-26 09:50:48.570792"], ["updated_at", "2020-02-26 09:50:48.570792"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (27.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 48ms (ActiveRecord: 29.8ms | Allocations: 10582)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:51:08 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 29.7ms | Allocations: 15014)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 34.9ms | ActiveRecord: 0.2ms | Allocations: 19068)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:53:42 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 36.5ms | Allocations: 18440)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 39.3ms | ActiveRecord: 15.4ms | Allocations: 33763)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:54:20 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"DjsB0tZEjwd9d1DCiICJnysr8Jmgq8wOC84ZdEQcafIGGEsMBZJtAX0i9dkSxSvOHKh85bnVgSNJVvXCZA8luw==", "customer"=>{"name"=>"Huỳnh Ngọc Thái", "phone"=>"6789876546"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '6789876546')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Huỳnh Ngọc Thái"], ["phone", "6789876546"], ["created_at", "2020-02-26 09:54:20.811728"], ["updated_at", "2020-02-26 09:54:20.811728"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 59ms (ActiveRecord: 25.9ms | Allocations: 19386)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:59:06 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:37: syntax error, unexpected tLABEL, expecting '='
            render, error: {error: '.........'}
                    ^~~~~~):
  
app/controllers/orders_controller.rb:37: syntax error, unexpected tLABEL, expecting '='
app/controllers/orders_controller.rb:37: syntax error, unexpected tLABEL, expecting '='
app/controllers/orders_controller.rb:37: syntax error, unexpected tLABEL, expecting '='
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 16:59:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 32.5ms | Allocations: 18420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 35.2ms | ActiveRecord: 6.5ms | Allocations: 33681)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 16:59:56 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"NynpJ37k+yTAjT9ps4Gc2OfJAIDEiiibC1uv2hAjkkQ/CqP5rTIZIsDYmnIpxD6J0EqM/N30ZbZJw0NsMDDeDQ==", "customer"=>{"name"=>"Lưu Anh Tuấn", "phone"=>"6578436789"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '6578436789')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lưu Anh Tuấn"], ["phone", "6578436789"], ["created_at", "2020-02-26 09:59:56.267861"], ["updated_at", "2020-02-26 09:59:56.267861"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (64.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:17:in `create'
Completed 500 Internal Server Error in 104ms (ActiveRecord: 70.2ms | Allocations: 19794)


  
ActionView::MissingTemplate (Missing template orders/create, application/create with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/daycd/research ruby/seven-system/app/views"
  * "/home/daycd/.rvm/gems/ruby-2.5.3/gems/actiontext-6.0.2.1/app/views"
  * "/home/daycd/.rvm/gems/ruby-2.5.3/gems/actionmailbox-6.0.2.1/app/views"
):
  
app/controllers/orders_controller.rb:37:in `create'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:01:41 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 130.5ms | Allocations: 32767)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 400ms (Views: 339.1ms | ActiveRecord: 10.2ms | Allocations: 59031)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:02:12 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"IeL3KBkb0aE7m0b6Jll4S80jPmCw+Gh0HYuKlfrV774pwb32ys0zpzvO4+G8HNoa+qCyHKmGJVlfE2Yj2saj9w==", "customer"=>{"name"=>"Test", "phone"=>"9807867897"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '9807867897')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Test"], ["phone", "9807867897"], ["created_at", "2020-02-26 10:02:12.290288"], ["updated_at", "2020-02-26 10:02:12.290288"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (26.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
Completed 500 Internal Server Error in 9679ms (ActiveRecord: 30.4ms | Allocations: 32570)


  
NoMethodError (undefined method `pluck' for #<Customer:0x00007f7ce412e220>):
  
app/services/order_services/create_order_service.rb:22:in `create'
app/controllers/orders_controller.rb:33:in `create'
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 9]]
  [1m[35m (19.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:05:46 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 46.0ms | Allocations: 32766)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 56.8ms | ActiveRecord: 7.4ms | Allocations: 59027)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:06:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"O1SvCQOz4ltdUxE302ZQ+TDV1lKYboTztFuoN61uFvEzd+XX0GUAXV0GtCxJI/KoB1ZaLoEQyd72w0SBjX1auA==", "customer"=>{"name"=>"Test", "phone"=>"4567808653"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"2", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '4567808653')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Test"], ["phone", "4567808653"], ["created_at", "2020-02-26 10:06:06.911965"], ["updated_at", "2020-02-26 10:06:06.911965"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (21.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 26.1ms | Allocations: 10274)


  
NoMethodError (undefined method `pluck' for #<Customer:0x00007f55580b8df8>):
  
app/services/order_services/create_order_service.rb:21:in `create'
app/controllers/orders_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 10]]
  [1m[35m (604.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:07:30 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 47.2ms | Allocations: 32766)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 55.0ms | ActiveRecord: 7.4ms | Allocations: 59028)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:08:01 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"cq0IZiDyoHA3h1FA2RjCx0/xYccRPu+ZFUeX6DDLBMJ6jkK48yRCdjfS9FtDXWCWeHLtuwhAorRX33teENhIiw==", "customer"=>{"name"=>"Test", "phone"=>"3333333333"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '3333333333')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.6ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Test"], ["phone", "3333333333"], ["created_at", "2020-02-26 10:08:01.337896"], ["updated_at", "2020-02-26 10:08:01.337896"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (28.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (pry):7:in `create'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."phone" = $1[0m  [["phone", "3333333333"]]
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
Completed 500 Internal Server Error in 194805ms (ActiveRecord: 35.1ms | Allocations: 83995)


  
NoMethodError (undefined method `pluck' for #<Customer:0x00007fa3f41376e0>):
  
app/services/order_services/create_order_service.rb:22:in `create'
app/controllers/orders_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from <top (required)> at /home/daycd/research ruby/seven-system/bin/rails:9)
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from <top (required)> at /home/daycd/research ruby/seven-system/bin/rails:9)
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from <top (required)> at /home/daycd/research ruby/seven-system/bin/rails:9)
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Destroy (0.6ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 11]]
  [1m[35m (192.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:11:50 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 53.0ms | Allocations: 32766)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 94ms (Views: 61.0ms | ActiveRecord: 7.1ms | Allocations: 59031)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:12:07 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"chpY6wCyE1EZKd0sMabODzEUiJBUFgD9viZzn+cGYHJ6ORI102TxVxl8eDer42xeBpcE7E1oTdD8vp8pxxUsOw==", "customer"=>{"name"=>"Test", "phone"=>"3333333333"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '3333333333')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Test"], ["phone", "3333333333"], ["created_at", "2020-02-26 10:12:07.048759"], ["updated_at", "2020-02-26 10:12:07.048759"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (58.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
Completed 500 Internal Server Error in 81ms (ActiveRecord: 62.4ms | Allocations: 10266)


  
NoMethodError (undefined method `pluck' for #<Customer:0x00007fcc34132f10>):
  
app/services/order_services/create_order_service.rb:21:in `create'
app/controllers/orders_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 12]]
  [1m[35m (22.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:12:57 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 41.7ms | Allocations: 18424)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 44.4ms | ActiveRecord: 7.0ms | Allocations: 33657)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:13:09 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"pClcXsUUB4uYE5Yl2JrUMlpIg4MOX4jZkyoWIV6eNBSsChaAFsLljZhGMz5C33ZjbcsP/xchxfTRsvqXfo14XQ==", "customer"=>{"name"=>"Test", "phone"=>"3333333333"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '3333333333')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Test"], ["phone", "3333333333"], ["created_at", "2020-02-26 10:13:09.090601"], ["updated_at", "2020-02-26 10:13:09.090601"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (251.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
Completed 500 Internal Server Error in 278ms (ActiveRecord: 255.5ms | Allocations: 9938)


  
NoMethodError (undefined method `pluck' for #<Customer:0x000055f60b4eafc8>):
  
app/services/order_services/create_order_service.rb:21:in `create'
app/controllers/orders_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 13]]
  [1m[35m (29.0ms)[0m  [1m[35mCOMMIT[0m
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:13:24 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 45.7ms | Allocations: 32766)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 86ms (Views: 53.4ms | ActiveRecord: 7.4ms | Allocations: 59024)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:13:37 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"THlecxh86oDGWl7nYWIZ69NW0A87TbBXvqY1UcD5bcBEWhSty6oIhsYP+/z7J7u65NVccyIz/Xr8Ptnn4OohiQ==", "customer"=>{"name"=>"Test", "phone"=>"3333333333"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"2", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '3333333333')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Test"], ["phone", "3333333333"], ["created_at", "2020-02-26 10:13:37.115059"], ["updated_at", "2020-02-26 10:13:37.115059"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (28.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 14]]
  [1m[35m (20.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:14:35 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 32.3ms | Allocations: 15136)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 36.1ms | ActiveRecord: 0.5ms | Allocations: 19204)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:14:48 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"0N5iUy1J1k8Af6XG3FnsxCuhhDFf0cmzxH3DZ2ts5uHY/SiN/p80SQAqAN1GHE6VHCIITUavhJ6G5S/RS3+qqA==", "customer"=>{"name"=>"Test", "phone"=>"3333333333"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '3333333333')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Test"], ["phone", "3333333333"], ["created_at", "2020-02-26 10:14:48.039179"], ["updated_at", "2020-02-26 10:14:48.039179"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (62.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
Completed 500 Internal Server Error in 22475ms (ActiveRecord: 63.6ms | Allocations: 19797)


  
NoMethodError (undefined method `pluck' for #<Customer:0x00007fb228329498>):
  
app/services/order_services/create_order_service.rb:21:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:15:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 31.3ms | Allocations: 15057)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.5ms | ActiveRecord: 0.4ms | Allocations: 19116)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:15:27 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ZXrV9FSSNMMCIM7FVnCBZ3J1xIxWC5LZ76TL8AmNX1ZtWZ8qh0TWxQJ1a97MNSM2RfZI8E913/StPCdGKZ4THw==", "customer"=>{"name"=>"Test", "phone"=>"3333333333"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (3.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '3333333333')[0m
  ↳ app/services/order_services/create_order_service.rb:12:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (pry):6:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."phone" = $1[0m  [["phone", "3333333333"]]
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."phone" = $1[0m  [["phone", "3333333333"]]
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (pry):9:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (pry):10:in `create'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."phone" = $1 LIMIT $2[0m  [["phone", "3333333333"], ["LIMIT", 1]]
  ↳ (pry):11:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-26 10:19:41.484319"], ["updated_at", "2020-02-26 10:19:41.484319"], ["customer_id", 15]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 5], ["price", 10000.0], ["quantity", 10], ["created_at", "2020-02-26 10:19:41.487502"], ["updated_at", "2020-02-26 10:19:41.487502"]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 5], ["price", 3000.0], ["quantity", 3], ["created_at", "2020-02-26 10:19:41.491060"], ["updated_at", "2020-02-26 10:19:41.491060"]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[35m (30.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 253992ms (ActiveRecord: 38.2ms | Allocations: 63437)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:19:41 +0700
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 412252ms (ActiveRecord: 32.3ms | Allocations: 348326)


  
NoMethodError (undefined method `pluck' for #<Customer:0x00007fb2280bf680>):
  
app/services/order_services/create_order_service.rb:21:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:20:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 30.7ms | Allocations: 18465)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 33.3ms | ActiveRecord: 7.8ms | Allocations: 33805)


Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 34.3ms | Allocations: 18432)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 37.3ms | ActiveRecord: 7.9ms | Allocations: 33649)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:29:29 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 55.0ms | Allocations: 32766)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 104ms (Views: 62.5ms | ActiveRecord: 8.6ms | Allocations: 59030)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:29:47 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"vhCkXYJMnuOgeWbJ1ifEtPo9XCXjpbUkcoVkTSPtL5S2M+6DUZp85aAsw9JMYmblzb7QWfrb+AkwHYj7A/5j3Q==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"2", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.8ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cao Dinh Day"], ["phone", "0396162108"], ["created_at", "2020-02-26 10:29:47.576681"], ["updated_at", "2020-02-26 10:29:47.576681"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (37.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
Completed 500 Internal Server Error in 62ms (ActiveRecord: 43.1ms | Allocations: 9722)


  
NameError (undefined local variable or method `customer' for #<CreateOrderService:0x00007f5be008bf18>
Did you mean?  @customer):
  
app/services/order_services/create_order_service.rb:20:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:30:12 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 34.6ms | Allocations: 18419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 33.3ms | ActiveRecord: 10.6ms | Allocations: 33641)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:30:28 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ApZ84xxh6YfO6/kWHXNeqn0v4Lpo50qHt9uBoQUBPSsKtTY9z7cLgc6+XA2HNvz7SqxsxnGZB6r1Q20XJRJxYg==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"5"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 4.2ms | Allocations: 7023)


  
NameError (undefined local variable or method `customer' for #<CreateOrderService:0x000055e42bedb3a8>
Did you mean?  @customer):
  
app/services/order_services/create_order_service.rb:20:in `create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:30:44 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 46.0ms | Allocations: 32767)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 53.3ms | ActiveRecord: 7.4ms | Allocations: 59027)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:30:57 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"MfadVtXKgrVdS8p0s/2OuW0hBpXT8ITzsTMNXecG16051deIBhxgs10eb28puCzoWqKK6cqOyd7zq+HrxxWb5A==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"5"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.5ms | Allocations: 7835)


  
NoMethodError (undefined method `pluck' for #<Customer:0x00007facc80b8408>):
  
app/services/order_services/create_order_service.rb:20:in `create'
app/controllers/orders_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."phone" = $1 LIMIT $2[0m  [["phone", "0396162108"], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:32:11 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:22: syntax error, unexpected tIVAR, expecting ')'
        @order = Order.new(temp)
        ^~~~~~):
  
app/services/order_services/create_order_service.rb:22: syntax error, unexpected tIVAR, expecting ')'
app/services/order_services/create_order_service.rb:22: syntax error, unexpected tIVAR, expecting ')'
app/services/order_services/create_order_service.rb:22: syntax error, unexpected tIVAR, expecting ')'
app/controllers/orders_controller.rb:3:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<top (required)>'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:32:29 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 46.5ms | Allocations: 32767)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 54.9ms | ActiveRecord: 8.0ms | Allocations: 59026)


Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:32:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"3KCVon67V7GgxxnH8VxwSYg7LoNSdcRfnQvRhIuGhSrUg998rW21t6CSvNxrGdIYv7ii/0sLiXLfkz0yq5XJYw==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"10"}, "1"=>{"product_id"=>"3", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-26 10:32:42.017167"], ["updated_at", "2020-02-26 10:32:42.017167"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 1], ["price", 10000.0], ["quantity", 10], ["created_at", "2020-02-26 10:32:42.019522"], ["updated_at", "2020-02-26 10:32:42.019522"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 1], ["price", 3000.0], ["quantity", 3], ["created_at", "2020-02-26 10:32:42.021696"], ["updated_at", "2020-02-26 10:32:42.021696"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[35m (28.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 67ms (ActiveRecord: 34.1ms | Allocations: 18044)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:32:42 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 31.9ms | Allocations: 14997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 36.3ms | ActiveRecord: 0.3ms | Allocations: 19052)


  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details"[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Started POST "/orders" for 127.0.0.1 at 2020-02-26 17:33:37 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"QctGyWcloctttTfuduheUBX5PzdU3QT7EKnXaVj6QOpJ6AwXtPNDzW3gkvXsrfwBInqzS02jSdZSMTvfeOkMow==", "customer"=>{"name"=>"Huỳnh Thanh Tiến", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"2", "price"=>"5000", "quantity"=>"5"}, "1"=>{"product_id"=>"2", "price"=>"3000", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987654321') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Huỳnh Thanh Tiến"], ["phone", "0987654321"], ["created_at", "2020-02-26 10:33:37.085420"], ["updated_at", "2020-02-26 10:33:37.085420"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-26 10:33:37.122602"], ["updated_at", "2020-02-26 10:33:37.122602"], ["customer_id", 2]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 2], ["price", 5000.0], ["quantity", 5], ["created_at", "2020-02-26 10:33:37.125573"], ["updated_at", "2020-02-26 10:33:37.125573"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 2], ["price", 3000.0], ["quantity", 3], ["created_at", "2020-02-26 10:33:37.128362"], ["updated_at", "2020-02-26 10:33:37.128362"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[35m (25.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 76ms (ActiveRecord: 51.5ms | Allocations: 12734)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-26 17:33:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 27.6ms | Allocations: 15001)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 32.2ms | ActiveRecord: 0.2ms | Allocations: 19052)


  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (32.0ms)[0m  [1m[34mSELECT SUM("order_details"."price") AS sum_price, "order_details"."order_id" AS order_details_order_id FROM "order_details" WHERE "order_details"."order_id" = $1 GROUP BY "order_details"."order_id"[0m  [["order_id", 2]]
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details"."order_id" FROM "order_details"[0m
  [1m[36mOrderDetail Load (34.5ms)[0m  [1m[34mSELECT "order_details"."order_id", SUM(quantity*price) FROM "order_details"[0m
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT "order_details"."order_id", SUM(quantity*price) FROM "order_details" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT "order_details"."order_id", SUM(quantity*price) AS total FROM "order_details"[0m
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT "order_details"."order_id", SUM(quantity*price) AS total FROM "order_details" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrderDetail Load (0.7ms)[0m  [1m[34mSELECT "order_details"."order_id", SUM(quantity*price) AS total FROM "order_details"[0m
  [1m[36mOrderDetail Load (0.7ms)[0m  [1m[34mSELECT "order_details"."order_id", SUM(quantity*price) AS total FROM "order_details" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details"."order_id" FROM "order_details"[0m
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT "order_details"."order_id", SUM(quantity*price) AS total FROM "order_details" WHERE "order_details"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT "order_details"."order_id", SUM(quantity*price) AS total FROM "order_details" WHERE "order_details"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 11]]
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" GROUP BY "order_details"."order_id"[0m
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" GROUP BY "order_details"."order_id"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."order_id" AS order_details_order_id FROM "order_details" GROUP BY "order_details"."order_id"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."order_id" AS order_details_order_id FROM "order_details" GROUP BY "order_details"."order_id"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."order_id" AS order_details_order_id FROM "order_details" WHERE "order_details"."order_id" = $1 GROUP BY "order_details"."order_id"[0m  [["order_id", 2]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."price") AS sum_price, "order_details"."order_id" AS order_details_order_id FROM "order_details" WHERE "order_details"."order_id" = $1 GROUP BY "order_details"."order_id"[0m  [["order_id", 2]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("order_details"."price") AS sum_price, "order_details"."order_id" AS order_details_order_id FROM "order_details" WHERE "order_details"."order_id" = $1 GROUP BY "order_details"."order_id"[0m  [["order_id", 2]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("order_details"."price") AS sum_price, "order_details"."order_id" AS order_details_order_id FROM "order_details" WHERE "order_details"."order_id" = $1 GROUP BY "order_details"."order_id"[0m  [["order_id", 2]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM(price * quantity) AS sum_price_all_quantity, "order_details"."order_id" AS order_details_order_id FROM "order_details" WHERE "order_details"."order_id" = $1 GROUP BY "order_details"."order_id"[0m  [["order_id", 2]]
Started GET "/" for 127.0.0.1 at 2020-02-27 11:33:52 +0700
  [1m[35m (29.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (52.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 170.1ms | Allocations: 20229)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 438ms (Views: 289.7ms | ActiveRecord: 83.8ms | Allocations: 29755)


Started GET "/orders/mew" for 127.0.0.1 at 2020-02-27 11:33:57 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for OrdersController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 11:34:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 163.1ms | Allocations: 30029)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 604ms (Views: 169.2ms | ActiveRecord: 7.8ms | Allocations: 47928)


  [1m[36mOrderDetail Load (49.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details"[0m
  [1m[36mOrderDetail Load (1.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" GROUP BY "order_details"."order_id"[0m
  [1m[36mOrderDetail Load (1.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" GROUP BY "order_details"."order_id"[0m
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (32.0ms)[0m  [1m[34mSELECT SUM(price * quantity) AS sum_price_all_quantity, "order_details"."order_id" AS order_details_order_id FROM "order_details" WHERE "order_details"."order_id" = $1 GROUP BY "order_details"."order_id"[0m  [["order_id", 2]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM(price * quantity) AS sum_price_all_quantity, "order_details"."order_id" AS order_details_order_id FROM "order_details" GROUP BY "order_details"."order_id" HAVING "order_details"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM(price * quantity) AS sum_price_all_quantity, "order_details"."order_id" AS order_details_order_id FROM "order_details" WHERE "order_details"."order_id" = $1 GROUP BY "order_details"."order_id"[0m  [["order_id", 2]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM(price * quantity) AS sum_price_all_quantity, "order_details"."order_id" AS order_details_order_id FROM "order_details" GROUP BY "order_details"."order_id" HAVING "order_details"."order_id" = $1[0m  [["order_id", 2]]
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 11:47:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 63.0ms | Allocations: 15577)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 70.5ms | ActiveRecord: 0.8ms | Allocations: 20568)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 11:48:03 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 31.4ms | Allocations: 15478)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 36.8ms | ActiveRecord: 0.3ms | Allocations: 20467)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 11:48:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 44.3ms | Allocations: 11284)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 0.3ms | Allocations: 12828)


  
ActionView::Template::Error (undefined method `price' for #<Product::ActiveRecord_Relation:0x00005595e58c6308>):
    18:         <%= f.nested_fields_for :order_details do |ff| %>
    19:         <tr>
    20:           <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
    21:           <td> <%= ff.text_field :price, value: @products.price, readonly: true %> </td>
    22:           <td> <%= ff.text_field :quantity %> </td>
    23:           <td> <%= ff.remove_nested_fields_link 'Remove', class: 'btn btn-danger' %> </td>
    24:         </tr>
  
app/views/orders/new.html.erb:21
app/views/orders/new.html.erb:18
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 11:48:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 39.3ms | Allocations: 11056)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 0.3ms | Allocations: 11845)


  
ActionView::Template::Error (undefined method `price' for #<Product::ActiveRecord_Relation:0x00007f77b960c1c8>):
    18:         <%= f.nested_fields_for :order_details do |ff| %>
    19:         <tr>
    20:           <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
    21:           <td> <%= ff.text_field :price, value: @product.price, readonly: true %> </td>
    22:           <td> <%= ff.text_field :quantity %> </td>
    23:           <td> <%= ff.remove_nested_fields_link 'Remove', class: 'btn btn-danger' %> </td>
    24:         </tr>
  
app/views/orders/new.html.erb:21
app/views/orders/new.html.erb:18
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 11:57:04 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 26.3ms | Allocations: 15595)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 32.3ms | ActiveRecord: 0.4ms | Allocations: 20591)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 12:00:15 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 24.9ms | Allocations: 15111)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 29.3ms | ActiveRecord: 0.2ms | Allocations: 19175)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 12:00:17 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 52.8ms | Allocations: 15095)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 58.9ms | ActiveRecord: 0.3ms | Allocations: 19170)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 12:01:04 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 48.9ms | Allocations: 15118)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 56.2ms | ActiveRecord: 0.3ms | Allocations: 19187)


Started POST "/orders" for 127.0.0.1 at 2020-02-27 12:06:01 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"a1aGjQrSRJ2O1l90/6Erw6RDvwzXJ3eJQZaH8KUHn8Ymcw+alq+3KWSm0i0j7TeMXHG+YCJ9MZbvBM9KkwTTeA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"2", "price"=>"", "quantity"=>""}, "1"=>{"product_id"=>"1", "price"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (25.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[36mCustomer Create (41.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["phone", ""], ["created_at", "2020-02-27 05:06:01.229644"], ["updated_at", "2020-02-27 05:06:01.229644"]]
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (29.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:14:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrder Create (26.1ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-27 05:06:01.324985"], ["updated_at", "2020-02-27 05:06:01.324985"], ["customer_id", 3]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (1.0ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 2], ["order_id", 3], ["created_at", "2020-02-27 05:06:01.353501"], ["updated_at", "2020-02-27 05:06:01.353501"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 1], ["order_id", 3], ["created_at", "2020-02-27 05:06:01.356293"], ["updated_at", "2020-02-27 05:06:01.356293"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[35m (29.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 210ms (ActiveRecord: 159.3ms | Allocations: 19420)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 12:06:01 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 32.8ms | Allocations: 15351)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 39.1ms | ActiveRecord: 0.4ms | Allocations: 20343)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 12:06:02 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 26.9ms | Allocations: 14947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 31.1ms | ActiveRecord: 0.2ms | Allocations: 19012)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 12:06:06 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 34.3ms | Allocations: 15300)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 41.2ms | ActiveRecord: 0.3ms | Allocations: 20291)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 12:06:20 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 42.1ms | Allocations: 15300)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 51.7ms | ActiveRecord: 0.3ms | Allocations: 20290)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 12:10:17 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 49.4ms | Allocations: 15348)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 58.4ms | ActiveRecord: 0.4ms | Allocations: 20345)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:26:52 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 27.6ms | Allocations: 15417)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 34.0ms | ActiveRecord: 0.4ms | Allocations: 20409)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:33:49 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 36.0ms | Allocations: 15579)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 42.2ms | ActiveRecord: 0.6ms | Allocations: 20576)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:36:40 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 29.3ms | Allocations: 18521)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 31.6ms | ActiveRecord: 8.1ms | Allocations: 33901)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:41:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 43.1ms | Allocations: 15588)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 48.5ms | ActiveRecord: 0.5ms | Allocations: 20589)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:41:57 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 30.8ms | Allocations: 15107)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.0ms | ActiveRecord: 0.3ms | Allocations: 19161)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:41:58 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 43.0ms | Allocations: 15095)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 47.8ms | ActiveRecord: 0.3ms | Allocations: 19157)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:41:58 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 54.3ms | Allocations: 15097)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 60.5ms | ActiveRecord: 0.5ms | Allocations: 19153)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:41:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 36.4ms | Allocations: 15095)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 42.6ms | ActiveRecord: 0.3ms | Allocations: 19155)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:43:43 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 34.7ms | Allocations: 18730)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 39.0ms | ActiveRecord: 7.5ms | Allocations: 34915)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:44:12 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 59.3ms | Allocations: 10381)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 69.8ms | ActiveRecord: 0.5ms | Allocations: 15374)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:44:13 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 19.8ms | Allocations: 10107)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.2ms | Allocations: 14160)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:44:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 17.4ms | Allocations: 10100)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.3ms | Allocations: 14154)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:48:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 51.3ms | Allocations: 10864)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 60.6ms | ActiveRecord: 0.6ms | Allocations: 15865)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:49:02 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 40.1ms | Allocations: 10149)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 44.6ms | ActiveRecord: 0.6ms | Allocations: 14208)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 13:49:03 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/checkout"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:52:17 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 23.1ms | Allocations: 13970)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 25.6ms | ActiveRecord: 6.5ms | Allocations: 29255)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 13:52:26 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/checkout"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/checkout" for 127.0.0.1 at 2020-02-27 13:52:56 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#checkout as HTML
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:52:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 40.0ms | Allocations: 28088)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 84ms (Views: 48.6ms | ActiveRecord: 9.0ms | Allocations: 54271)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 13:53:07 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/checkout"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 406 Not Acceptable in 41992ms (ActiveRecord: 0.0ms | Allocations: 258353)


  
ActionController::MissingExactTemplate (OrdersController#checkout is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/daycd/.rvm/gems/ruby-2.5.3/bin/rake:23)
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:54:09 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 41.5ms | Allocations: 28023)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 83ms (Views: 48.7ms | ActiveRecord: 7.6ms | Allocations: 54289)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 13:54:16 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/checkout"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/checkout" for 127.0.0.1 at 2020-02-27 13:54:46 +0700
Processing by OrdersController#checkout as HTML
Completed 406 Not Acceptable in 3ms (ActiveRecord: 0.0ms | Allocations: 1938)


  
ActionController::MissingExactTemplate (OrdersController#checkout is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/" for 127.0.0.1 at 2020-02-27 13:54:49 +0700
Processing by OrdersController#index as HTML
Completed 406 Not Acceptable in 4ms (ActiveRecord: 0.0ms | Allocations: 1943)


  
ActionController::MissingExactTemplate (OrdersController#index is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:54:52 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 22.9ms | Allocations: 13925)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 25.3ms | ActiveRecord: 10.2ms | Allocations: 29173)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:55:45 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 24.3ms | Allocations: 14200)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 27.8ms | ActiveRecord: 7.2ms | Allocations: 30180)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 13:55:51 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/checkout"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:56:05 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 38.9ms | Allocations: 28023)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 80ms (Views: 47.4ms | ActiveRecord: 7.4ms | Allocations: 54285)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 13:56:15 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/checkout"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:58:02 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 24.5ms | Allocations: 13929)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 26.4ms | ActiveRecord: 6.4ms | Allocations: 29159)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 13:58:09 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/checkout"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 13:59:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 35.1ms | Allocations: 10393)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 40.4ms | ActiveRecord: 0.3ms | Allocations: 15397)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 13:59:37 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/checkout"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/checkout" for 127.0.0.1 at 2020-02-27 14:00:15 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for OrdersController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:00:19 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:15
  Rendered orders/new.html.erb within layouts/application (Duration: 25.0ms | Allocations: 13926)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 25.7ms | ActiveRecord: 8.5ms | Allocations: 29187)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 14:00:25 +0700
Processing by OrdersController#checkout as HTML
  Parameters: {"authenticity_token"=>"JnK2CryWKVRJ6T7QUQF037XIipjohI8uE+iVQQBNJxxTaoeSLN3V/mMm6+yjZLcwD7ugiFBRPGKlli1wzvz0SQ==", "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12"}, "1"=>{"product_id"=>"2", "quantity"=>"11"}}}, "commit"=>"Check Out"}
  Rendering orders/checkout.html.erb within layouts/application
  Rendered orders/checkout.html.erb within layouts/application (Duration: 0.4ms | Allocations: 86)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1256478ms (Views: 9.6ms | ActiveRecord: 0.0ms | Allocations: 80175)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:21:27 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1103)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2645)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1> Saling </h1>
<%= form_tag :action => 'checkout' do%> 
    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Quantity</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td> <%= collection_select(:order_details, :product_id, @products, :id, :name)%> </td>
          <td> <%= text_field 'order_details', 'quantity' %> </td>
        </tr>
        <%end%>
      </tbody>
    </table>

    <%= f.submit 'Save' %>
    
<%end%>

):
1:    <h1> Saling </h1>
2:    <%= form_tag :action => 'checkout' do%> 
3:        <table class="table">
4:          <thead>
5:            <tr>
6:              <th>Name</th>
7:              <th>Quantity</th>
8:            </tr>
9:          </thead>
10:          <tbody>
11:            <tr>
12:              <td> <%= collection_select(:order_details, :product_id, @products, :id, :name)%> </td>
13:              <td> <%= text_field 'order_details', 'quantity' %> </td>
14:            </tr>
15:            <%end%>
16:          </tbody>
17:        </table>
18:    
19:        <%= f.submit 'Save' %>
20:        
21:    <%end%>
  
app/views/orders/new.html.erb:23: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:23: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:23: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:23: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:23: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:23: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:21:44 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:12
  Rendered orders/new.html.erb within layouts/application (Duration: 356.9ms | Allocations: 162227)
Completed 500 Internal Server Error in 365ms (ActiveRecord: 3.3ms | Allocations: 163772)


  
ActionView::Template::Error (undefined local variable or method `f' for #<#<Class:0x00007fa834ef2d68>:0x00007fa834ef05b8>):
    15:       </tbody>
    16:     </table>
    17: 
    18:     <%= f.submit 'Save' %>
    19:     
    20: <%end%>
  
app/views/orders/new.html.erb:18
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:22:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:12
  Rendered orders/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1240)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 17.2ms | ActiveRecord: 0.7ms | Allocations: 6332)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:22:39 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:12
  Rendered orders/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1443)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 11.0ms | ActiveRecord: 0.3ms | Allocations: 6521)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:25:07 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:12
  Rendered orders/new.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4953)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 12.6ms | ActiveRecord: 7.5ms | Allocations: 20234)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 14:25:14 +0700
Processing by OrdersController#checkout as HTML
  Parameters: {"authenticity_token"=>"538gDD1YNKSl8QrrsvFyq1jAWP1khox3ZdYoP9+8J6OSZxGUrRPIDo8+39dAlLFE4rNy7dxTPzvTqJAOEQ309g==", "order_details"=>{"product_id"=>"2", "quantity"=>"21"}, "commit"=>"Check Out"}
  Rendering orders/checkout.html.erb within layouts/application
  Rendered orders/checkout.html.erb within layouts/application (Duration: 0.4ms | Allocations: 89)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 173137ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 19218)


Started GET "/orders/checkout" for 127.0.0.1 at 2020-02-27 14:28:08 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for OrdersController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:28:11 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/new.html.erb within layouts/application (Duration: 296.6ms | Allocations: 174005)
Completed 500 Internal Server Error in 300ms (ActiveRecord: 0.5ms | Allocations: 175538)


  
ActionView::Template::Error (undefined local variable or method `ff' for #<#<Class:0x0000557648b5a928>:0x0000557648b10260>
Did you mean?  f):
    10:       <tbody>
    11:       <%= fields_for :form_fields do |f| %>
    12:         <tr>
    13:           <td> <%= ff.select collection_select(:order_details, :product_id, @products, :id, :name)%> </td>
    14:           <td> <%= text_field 'order_details', 'quantity' %> </td>
    15:         </tr>
    16: 
  
app/views/orders/new.html.erb:13
app/views/orders/new.html.erb:11
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:28:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/new.html.erb within layouts/application (Duration: 335.6ms | Allocations: 174107)
Completed 500 Internal Server Error in 339ms (ActiveRecord: 0.7ms | Allocations: 174895)


  
ActionView::Template::Error (undefined local variable or method `ff' for #<#<Class:0x0000557648b5a928>:0x0000557648c41a08>
Did you mean?  f):
    10:       <tbody>
    11:       <%= fields_for :form_fields do |f| %>
    12:         <tr>
    13:           <td> <%= f.select collection_select(:order_details, :product_id, @products, :id, :name)%> </td>
    14:           <td> <%= text_field 'order_details', 'quantity' %> </td>
    15:         </tr>
    16: 
  
app/views/orders/new.html.erb:13
app/views/orders/new.html.erb:11
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:28:47 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:13
  Rendered orders/new.html.erb within layouts/application (Duration: 324.3ms | Allocations: 7607)
Completed 500 Internal Server Error in 357ms (ActiveRecord: 7.2ms | Allocations: 28289)


  
ActionView::Template::Error (undefined method `map' for nil:NilClass):
    10:       <tbody>
    11:       <%= fields_for :form_fields do |f| %>
    12:         <tr>
    13:           <td> <%= f.select collection_select(:order_details, :product_id, @products, :id, :name)%> </td>
    14:           <td> <%= f.text_field 'order_details', 'quantity' %> </td>
    15:         </tr>
    16: 
  
app/views/orders/new.html.erb:13
app/views/orders/new.html.erb:11
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:33:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1136)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2680)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1> Saling </h1>
<%= form_tag @order :action => 'checkout' do |f| %> 
    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Quantity</th>
        </tr>
      </thead>
      <tbody>
        <%= f.nested_fields_for :order_details do |ff| %>
          <tr>
            <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
            <td> <%= ff.text_field :price, readonly: true %> </td>
            <td> <%= ff.text_field :quantity %> </td>
          </tr>
        <%end%> 
      </tbody>
    </table>

    <%= submit_tag 'Check Out' %>
    
<%end%>

):
1:    <h1> Saling </h1>
2:    <%= form_tag @order :action => 'checkout' do |f| %> 
3:        <table class="table">
4:          <thead>
5:            <tr>
6:              <th>Name</th>
7:              <th>Quantity</th>
8:            </tr>
9:          </thead>
10:          <tbody>
11:            <%= f.nested_fields_for :order_details do |ff| %>
12:              <tr>
13:                <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
14:                <td> <%= ff.text_field :price, readonly: true %> </td>
15:                <td> <%= ff.text_field :quantity %> </td>
16:              </tr>
17:            <%end%> 
18:          </tbody>
19:        </table>
20:    
21:        <%= submit_tag 'Check Out' %>
22:        
23:    <%end%>
  
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:34:06 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1563)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 3097)


  
ActionView::Template::Error (undefined method `nested_fields_for' for nil:NilClass):
     8:         </tr>
     9:       </thead>
    10:       <tbody>
    11:         <%= f.nested_fields_for :order_details do |ff| %>
    12:           <tr>
    13:             <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
    14:             <td> <%= ff.text_field :price, readonly: true %> </td>
  
app/views/orders/new.html.erb:11
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:34:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1552)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 3086)


  
ActionView::Template::Error (undefined method `fields_for' for nil:NilClass):
     8:         </tr>
     9:       </thead>
    10:       <tbody>
    11:         <%= f.fields_for :order_details do |ff| %>
    12:           <tr>
    13:             <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
    14:             <td> <%= ff.text_field :quantity %> </td>
  
app/views/orders/new.html.erb:11
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:35:15 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 55.7ms | Allocations: 17877)
Completed 500 Internal Server Error in 65ms (ActiveRecord: 0.0ms | Allocations: 19420)


  
ActionView::Template::Error (undefined method `model_name' for {:action=>"checkout"}:Hash):
    1: <h1> Saling </h1>
    2: <%= simple_form_for :action => 'checkout' do |f| %> 
    3:     <table class="table">
    4:       <thead>
    5:         <tr>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:35:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1116)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2651)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1> Saling </h1>
<%= simple_form_for @order :action => 'checkout' do |f| %> 
    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Quantity</th>
        </tr>
      </thead>
      <tbody>
        <%= f.nested_fields_for :order_details do |ff| %>
          <tr>
            <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
            <td> <%= ff.text_field :quantity %> </td>
          </tr>
        <%end%> 
      </tbody>
    </table>

    <%= submit_tag 'Check Out' %>
    
<%end%>

):
1:    <h1> Saling </h1>
2:    <%= simple_form_for @order :action => 'checkout' do |f| %> 
3:        <table class="table">
4:          <thead>
5:            <tr>
6:              <th>Name</th>
7:              <th>Quantity</th>
8:            </tr>
9:          </thead>
10:          <tbody>
11:            <%= f.nested_fields_for :order_details do |ff| %>
12:              <tr>
13:                <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
14:                <td> <%= ff.text_field :quantity %> </td>
15:              </tr>
16:            <%end%> 
17:          </tbody>
18:        </table>
19:    
20:        <%= submit_tag 'Check Out' %>
21:        
22:    <%end%>
  
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:35:31 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:13
  Rendered orders/new.html.erb within layouts/application (Duration: 51.5ms | Allocations: 12060)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 62.4ms | ActiveRecord: 0.5ms | Allocations: 18434)


Started POST "/orders" for 127.0.0.1 at 2020-02-27 14:35:56 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"McKlQYxd/TwOIpNwAoLvQcrzAa1dEuYi8BjiUCN+OXBE2pTZHBYBliTtRkzw5yyucIArveXHVW5GZlph7c/qJQ==", "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12"}, "1"=>{"product_id"=>"2", "quantity"=>"21"}}}, "commit"=>"Check Out"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 651)


  
ActionController::ParameterMissing (param is missing or the value is empty: customer):
  
app/controllers/orders_controller.rb:57:in `customer_params'
app/controllers/orders_controller.rb:38:in `create'
Started GET "/" for 127.0.0.1 at 2020-02-27 14:38:14 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 27.4ms | Allocations: 12498)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 30.2ms | ActiveRecord: 4.4ms | Allocations: 17148)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:38:28 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1116)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2643)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1> Saling </h1>
<%= simple_form_for , :action => 'checkout' do |f| %> 
    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Quantity</th>
        </tr>
      </thead>
      <tbody>
        <%= f.nested_fields_for :order_details do |ff| %>
          <tr>
            <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
            <td> <%= ff.text_field :quantity %> </td>
          </tr>
        <%end%> 
      </tbody>
    </table>

    <%= submit_tag 'Check Out' %>
    
<%end%>

):
1:    <h1> Saling </h1>
2:    <%= simple_form_for , :action => 'checkout' do |f| %> 
3:        <table class="table">
4:          <thead>
5:            <tr>
6:              <th>Name</th>
7:              <th>Quantity</th>
8:            </tr>
9:          </thead>
10:          <tbody>
11:            <%= f.nested_fields_for :order_details do |ff| %>
12:              <tr>
13:                <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id %> </td>
14:                <td> <%= ff.text_field :quantity %> </td>
15:              </tr>
16:            <%end%> 
17:          </tbody>
18:        </table>
19:    
20:        <%= submit_tag 'Check Out' %>
21:        
22:    <%end%>
  
app/views/orders/new.html.erb:2: syntax error, unexpected =>, expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected =>, expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected =>, expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected =>, expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected =>, expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:2: syntax error, unexpected =>, expecting keyword_end
app/views/orders/new.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/new.html.erb:24: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:38:35 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:13
  Rendered orders/new.html.erb within layouts/application (Duration: 57.5ms | Allocations: 10123)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 70.2ms | ActiveRecord: 0.5ms | Allocations: 15113)


Started POST "/orders" for 127.0.0.1 at 2020-02-27 14:38:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"qd81eeOjZJOzh7VZcT4SENE3D9mozdA3fVYPNzAcez/cxwThc+iYOZlIYGWDW9H/a0QlyRAYY3vLKLcG/q2oag==", "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"2", "quantity"=>"2"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Check Out"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 646)


  
ActionController::ParameterMissing (param is missing or the value is empty: customer):
  
app/controllers/orders_controller.rb:57:in `customer_params'
app/controllers/orders_controller.rb:38:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:39:20 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:12
  Rendered orders/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1453)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 1.0ms | Allocations: 6540)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 14:39:24 +0700
Processing by OrdersController#checkout as HTML
  Parameters: {"authenticity_token"=>"ULRwweTIMtTp5RAImz8Q+RT4vyldGwtP4hX9EPc+t/IlrEFZdIPOfsMqxTRpWtMWrouVOeXOuANUa0UhOY9kpw==", "order_details"=>{"product_id"=>"3", "quantity"=>""}, "commit"=>"Check Out"}
Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:40:38 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:12
  Rendered orders/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1321)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.4ms | Allocations: 5463)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 14:40:46 +0700
Processing by OrdersController#checkout as HTML
  Parameters: {"authenticity_token"=>"1LZeELbCNluNYwua+/vHsae0uahQ2b9C8k8Zj4dFbzOhrm+IJonK8aes3qYJngReHceTuOgMDA5EMaG+SfS8Zg==", "order_details"=>{"product_id"=>"1", "quantity"=>"2"}, "commit"=>"Check Out"}
  Rendering orders/checkout.html.erb within layouts/application
  Rendered orders/checkout.html.erb within layouts/application (Duration: 0.5ms | Allocations: 90)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 180103ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 10908)


Started GET "/" for 127.0.0.1 at 2020-02-27 14:46:06 +0700
Completed 500 Internal Server Error in 434775ms (ActiveRecord: 0.0ms | Allocations: 147436)


  
Errno::EIO (Input/output error @ io_writev - <STDOUT>):
  
app/controllers/orders_controller.rb:18:in `checkout'
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 17976)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 25.2ms | ActiveRecord: 7.6ms | Allocations: 26785)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 14:46:58 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:14
  Rendered orders/new.html.erb within layouts/application (Duration: 41.7ms | Allocations: 27742)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 50.6ms | ActiveRecord: 13.4ms | Allocations: 54009)


Started POST "/orders/checkout" for 127.0.0.1 at 2020-02-27 14:47:07 +0700
Processing by OrdersController#checkout as HTML
  Parameters: {"authenticity_token"=>"7P7/zbRhNjYRy45v3oTYO8YQbMD149d5Z16IPy6BoOqZ5s5VJCrKnDsEW1Ms4RvUfGNG0E02ZDXRIDAO4DBzvw==", "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12"}, "1"=>{"product_id"=>"2", "quantity"=>"11"}}}, "commit"=>"Save"}
Completed 500 Internal Server Error in 1661877ms (ActiveRecord: 0.0ms | Allocations: 44421)


  
Errno::EIO (Input/output error @ io_writev - <STDOUT>):
  
app/controllers/orders_controller.rb:18:in `checkout'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details"[0m
Started GET "/" for 127.0.0.1 at 2020-02-27 15:32:17 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 37.8ms | Allocations: 20253)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 45.0ms | ActiveRecord: 6.2ms | Allocations: 29871)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 15:32:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 47.7ms | Allocations: 30008)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 80ms (Views: 52.2ms | ActiveRecord: 6.7ms | Allocations: 47863)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 15:34:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 86.0ms | Allocations: 15438)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 104ms (Views: 94.9ms | ActiveRecord: 0.5ms | Allocations: 20427)


Started POST "/orders" for 127.0.0.1 at 2020-02-27 15:34:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"0T0j/KLRqkEqgcyZn7Yg/huhbfGTHXMLfAVJfe1skkCkJRJkMppW6wBOGaVt0+MRodJH4SvIwEfKe/FMI91BFQ==", "customer"=>{"name"=>"Huỳnh Thanh Tiến", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "price"=>"10000", "quantity"=>"12"}, "1"=>{"product_id"=>"2", "price"=>"3000", "quantity"=>"33"}}}, "commit"=>"Save"}
[31mUnpermitted parameter: :price[0m
[31mUnpermitted parameter: :price[0m
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987654321') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-27 08:34:41.162680"], ["updated_at", "2020-02-27 08:34:41.162680"], ["customer_id", 2]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 4], ["quantity", 12], ["created_at", "2020-02-27 08:34:41.165036"], ["updated_at", "2020-02-27 08:34:41.165036"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 2], ["order_id", 4], ["quantity", 33], ["created_at", "2020-02-27 08:34:41.167743"], ["updated_at", "2020-02-27 08:34:41.167743"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[35m (278.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 314ms (ActiveRecord: 283.8ms | Allocations: 17025)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 15:34:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 52.1ms | Allocations: 15090)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 57.8ms | ActiveRecord: 0.5ms | Allocations: 19148)


  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."id" = $1[0m  [["id", 1]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" = $1[0m  [["created_at", "2020-02-27 08:45:40.072243"]]
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" = $1[0m  [["created_at", "2020-02-27"]]
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" = $1[0m  [["created_at", "2020-02-27"]]
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT "order_details"."order_id" FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[36mOrderDetail Load (1.6ms)[0m  [1m[34mSELECT "order_details"."order_id" FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "oprder_id"[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[36mOrderDetail Load (1.8ms)[0m  [1m[34mSELECT "order_details"."order_id" FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "oprder_id" LIMIT $3[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"], ["LIMIT", 11]]
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details"."order_id" FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."order_id"[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT MAX("order_details"."quantity") FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-02-27 00:00:00"], ["created_at", "2020-02-27 23:59:59.999999"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 1]]
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id"[0m
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id"[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE "customers"."name" = $1[0m  [["name", "daycd"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-02-26 17:00:00"], ["created_at", "2020-02-27 16:59:59.999999"]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id"[0m
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE (customer.name = 'daycd')[0m
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE (customer.name = 'daycd') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (1.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE (customer.name = 'daycd')[0m
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE (customer.name = 'daycd') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id"[0m
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE (customer.name = 'daycd')[0m
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE (customer.name = 'daycd') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customer.name = 'daycd')[0m
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customer.name = 'daycd') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customer.name = 'daycd')[0m
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customer.name = 'daycd') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."name" = $1[0m  [["name", "daycd"]]
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id"[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108')[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id"[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers"."id" FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" INNER JOIN "orders" "orders_customers_join" ON "orders_customers_join"."customer_id" = "customers"."id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders_customers_join"."id" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" INNER JOIN "orders" "orders_customers_join" ON "orders_customers_join"."customer_id" = "customers"."id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders_customers_join"."id" WHERE "customers"."phone" = $1 LIMIT $2[0m  [["phone", "0396162108"], ["LIMIT", 11]]
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT DISTINCT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" INNER JOIN "orders" "orders_customers_join" ON "orders_customers_join"."customer_id" = "customers"."id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders_customers_join"."id" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT DISTINCT order_details.product_id FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id" INNER JOIN "orders" "orders_customers_join" ON "orders_customers_join"."customer_id" = "customers"."id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders_customers_join"."id" WHERE "customers"."phone" = $1[0m  [["phone", "0396162108"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id"[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT order_details.product_id FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id"[0m
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 11]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT DISTINCT order.id, order_details.order_id FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT DISTINCT order.id, order_details.order_id FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 11]]
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT DISTINCT orders.id FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT DISTINCT orders.id, 8 FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id"[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id"[0m
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id"[0m
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from <top (required)> at /home/daycd/research ruby/seven-system/bin/rails:9)
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from <top (required)> at /home/daycd/research ruby/seven-system/bin/rails:9)
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from <top (required)> at /home/daycd/research ruby/seven-system/bin/rails:9)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-02-26 17:00:00"], ["created_at", "2020-02-27 16:59:59.999999"]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-02-26 17:00:00"], ["created_at", "2020-02-27 16:59:59.999999"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-02-26 17:00:00"], ["created_at", "2020-02-27 16:59:59.999999"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-02-26 17:00:00"], ["created_at", "2020-02-27 16:59:59.999999"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id"[0m
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE (order.customer_id = 1)[0m
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE (order.customer_id = 1) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT order_details.product_id FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT order_details.quantity FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id"[0m
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customer_id = 2 AND created_at = range)[0m
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customer_id = 2 AND created_at = range) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE "orders"."customer_id" = $1 AND "order_details"."order_id" = $2[0m  [["customer_id", 2], ["order_id", 4]]
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE "orders"."customer_id" = $1 AND "order_details"."order_id" = $2[0m  [["customer_id", 2], ["order_id", 4]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."name" = $1[0m  [["name", "daycd"]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."name" = $1[0m  [["name", "tienth"]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."name" = $1[0m  [["name", "thinhpth"]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."name" = $1[0m  [["name", "thinhph"]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."name" = $1[0m  [["name", "tienht"]]
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.7ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM(quantity * price) AS sum_quantity_all_price, "order_details"."order_id" AS order_details_order_id FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE "orders"."customer_id" = $1 GROUP BY "order_details"."order_id"[0m  [["customer_id", 2]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM(quantity * price) AS sum_quantity_all_price, "order_details"."order_id" AS order_details_order_id FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE "orders"."customer_id" = $1 GROUP BY "order_details"."order_id" HAVING (order_id > 3)[0m  [["customer_id", 2]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-01-27 17:00:00"], ["created_at", "2020-02-27 16:59:59.999999"]]
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" INNER JOIN "orders" ON "orders"."customer_id" = "customers"."id"[0m
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id"[0m
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT customer.*, COUNT(orders.*) AS post_count FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" GROUP BY customer_id[0m
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT customer.*, COUNT(orders.*) AS post_count FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" GROUP BY customer_id LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT customer.*, COUNT(orders.*) AS post_count FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" GROUP BY "customers"."id"[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT customer.*, COUNT(orders.*) AS post_count FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" GROUP BY "customers"."id" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT customers.*, COUNT(orders.*) AS post_count FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" GROUP BY customers.id[0m
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT customers.id FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" GROUP BY customers.id[0m
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT customers.id, orders.id FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" GROUP BY customers.id[0m
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT customers.id, orders.id FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" GROUP BY customers.id LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT customers.id FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id"[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT customers.id, orders.id FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id"[0m
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT orders.id FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id"[0m
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT orders.created_at FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id"[0m
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id"[0m
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" GROUP BY "order_id"[0m
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" GROUP BY "order_id" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id"[0m
  [1m[36mOrderDetail Load (1.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" GROUP BY "order_details"."order_id"[0m
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM(quantity * price) AS sum_quantity_all_price, "order_details"."order_id" AS order_details_order_id FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE "orders"."customer_id" = $1 GROUP BY "order_details"."order_id" HAVING (order_id > 3)[0m  [["customer_id", 2]]
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" GROUP BY "order_id"[0m
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" GROUP BY "order_id" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id"[0m
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id"[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-02-26 17:00:00"], ["created_at", "2020-02-27 16:59:59.999999"]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-02-26 17:00:00"], ["created_at", "2020-02-27 16:59:59.999999"]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-02-26 17:00:00"], ["created_at", "2020-02-27 16:59:59.999999"]]
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."name" = $1[0m  [["name", "tienht"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "customers"."name" = $1[0m  [["name", "tienht"]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."name" = $1[0m  [["name", "tienht"]]
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT order_details.product_id FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "customers"."name" = $1[0m  [["name", "tienht"]]
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT order,_id FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "customers"."name" = $1[0m  [["name", "tienht"]]
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT order,_id FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "customers"."name" = $1 LIMIT $2[0m  [["name", "tienht"], ["LIMIT", 11]]
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT order.id FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "customers"."name" = $1[0m  [["name", "tienht"]]
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT order.id FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "customers"."name" = $1 LIMIT $2[0m  [["name", "tienht"], ["LIMIT", 11]]
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT orders.id FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "customers"."name" = $1[0m  [["name", "tienht"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT order_details.id FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "customers"."name" = $1[0m  [["name", "tienht"]]
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT order_details.product_id FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" INNER JOIN "order_details" ON "order_details"."order_id" = "orders"."id" WHERE "customers"."name" = $1[0m  [["name", "tienht"]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT products.name FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT products.name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (1.0ms)[0m  [1m[34mSELECT products.name as product_name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT products.name AS product_name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (1.2ms)[0m  [1m[34mSELECT product.name AS product_name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT product.name AS product_name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 11]]
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT products.name AS product_name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT products.name as product_name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT products.id, products.name as product_name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT products.id, products.name as product_name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (1.0ms)[0m  [1m[34mSELECT products.id, products.name as product_name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (1.0ms)[0m  [1m[34mSELECT products.id, products.name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mOrderDetail Load (1.0ms)[0m  [1m[34mSELECT products.id, products.name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1 ORDER BY "order_details"."id" DESC LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT products.id, products.name, order_details.quantity FROM "order_details" INNER JOIN "orders" ON "orders"."id" = "order_details"."order_id" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "orders"."customer_id" = $1 ORDER BY "order_details"."id" DESC LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2020-02-27 17:42:41 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 25.8ms | Allocations: 12971)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 30.4ms | ActiveRecord: 2.3ms | Allocations: 20267)


Started GET "/products/new" for 127.0.0.1 at 2020-02-27 17:43:23 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 15.3ms | Allocations: 5913)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 0.0ms | Allocations: 9808)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 17:51:57 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 25.9ms | Allocations: 15255)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 30.0ms | ActiveRecord: 0.4ms | Allocations: 29532)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 18:23:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 32.7ms | Allocations: 18577)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 39.2ms | ActiveRecord: 0.6ms | Allocations: 34258)


Started POST "/orders" for 127.0.0.1 at 2020-02-27 18:23:51 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"dP5RhLrkIFlVi2yOuRjceOh0jho8/KhDbJjTQZqP054B5mAcKq/c839EubJLfR+XUgekCoQpGw/a5mtwVD4Ayw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"3", "quantity"=>"23"}, "1"=>{"product_id"=>"2", "quantity"=>"32"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-27 11:23:51.373944"], ["updated_at", "2020-02-27 11:23:51.373944"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (1.2ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 3], ["order_id", 5], ["quantity", 23], ["created_at", "2020-02-27 11:23:51.376653"], ["updated_at", "2020-02-27 11:23:51.376653"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 2], ["order_id", 5], ["quantity", 32], ["created_at", "2020-02-27 11:23:51.379791"], ["updated_at", "2020-02-27 11:23:51.379791"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[35m (25.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 59ms (ActiveRecord: 29.8ms | Allocations: 16881)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 18:23:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 30.5ms | Allocations: 14933)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.3ms | ActiveRecord: 0.3ms | Allocations: 18986)


Started POST "/orders" for 127.0.0.1 at 2020-02-27 18:24:55 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"B7lh+DZ42PsZ25/QWVT3pYoUhk/1Kv0CGz8DVWUHrr1yoVBgpjMkUTMUSuyrMTRKMGesX03/Tk6tQbtkq7Z96A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-27 11:28:37.662129"], ["updated_at", "2020-02-27 11:28:37.662129"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 6], ["quantity", 2], ["created_at", "2020-02-27 11:28:37.665280"], ["updated_at", "2020-02-27 11:28:37.665280"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 2], ["order_id", 6], ["quantity", 2], ["created_at", "2020-02-27 11:28:37.667644"], ["updated_at", "2020-02-27 11:28:37.667644"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[35m (33.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 221684ms (ActiveRecord: 47.7ms | Allocations: 98882)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 18:28:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 35.6ms | Allocations: 15111)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 40.0ms | ActiveRecord: 0.3ms | Allocations: 19320)


Started POST "/orders" for 127.0.0.1 at 2020-02-27 18:32:22 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"E7cc8N/l/PLyGOwFK6pOhDp8lcSub6kUYlzRofy76LRmry1oT64AWNjXOTnZz41rgA+/1Ba6GljUImmQMgo74Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-27 11:41:36.680975"], ["updated_at", "2020-02-27 11:41:36.680975"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 7], ["quantity", 1], ["created_at", "2020-02-27 11:41:36.683368"], ["updated_at", "2020-02-27 11:41:36.683368"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 2], ["order_id", 7], ["quantity", 1], ["created_at", "2020-02-27 11:41:36.685402"], ["updated_at", "2020-02-27 11:41:36.685402"]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 553795ms (ActiveRecord: 21.0ms | Allocations: 26255)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-27 18:41:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 44.1ms | Allocations: 14950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 48.4ms | ActiveRecord: 0.3ms | Allocations: 19009)


  [1m[36mOrderDetail Load (89.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details"[0m
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mProduct Load (6.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 2]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "orice" FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "orice" FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 11]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products"."price" FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products"."price" FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 11]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mOrderDetail Load (0.7ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mOrderDetail Load (0.7ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id"[0m
  [1m[36mOrderDetail Load (0.7ms)[0m  [1m[34mSELECT order_details.product_id, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE (product_id = '1')[0m
  [1m[36mOrderDetail Load (79.6ms)[0m  [1m[34mSELECT order_details.product_id, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY "order_details"."product_id" HAVING (product_id = '1')[0m
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT order_details.product_id, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY "order_details"."product_id" HAVING (product_id = '1') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrderDetail Load (1.2ms)[0m  [1m[34mSELECT order_details.product_id, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY "order_details"."product_id"[0m
  [1m[36mOrderDetail Load (1.2ms)[0m  [1m[34mSELECT order_details.product_id, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY "order_details"."product_id" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT order_details.product_id, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id"[0m
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT order_details.product_id, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "products"."id" = $1[0m  [["id", 1]]
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT order_details.product_id, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT order_details.product_id, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products"."price" FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products"."price" FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products"."price" FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = 2) LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2020-02-28 11:17:31 +0700
  [1m[35m (28.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (43.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 139.3ms | Allocations: 20253)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 355ms (Views: 284.8ms | ActiveRecord: 52.7ms | Allocations: 29785)


Started GET "/orders/mew" for 127.0.0.1 at 2020-02-28 11:17:36 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for OrdersController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:17:39 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 165.7ms | Allocations: 29864)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 319ms (Views: 171.2ms | ActiveRecord: 7.5ms | Allocations: 47756)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:17:56 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"u5zK4AsIVCgN6fwqe2YSp+gj1hWaQEGfRCf25ADJBZD0EkckE+Y5dWWCq/jdwPKUGCBBgh4PhT3JMua8C6Zilg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"3", "quantity"=>"11"}, "1"=>{"product_id"=>"2", "quantity"=>"8"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (27.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
Completed 500 Internal Server Error in 10799ms (ActiveRecord: 31.4ms | Allocations: 31208)


  
NameError (undefined local variable or method `order' for #<CreateOrderService:0x00007f922d4a4c20>):
  
app/services/order_services/create_order_service.rb:11:in `merge_params'
app/services/order_services/create_order_service.rb:30:in `create'
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:18:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 35.5ms | Allocations: 18368)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 38.6ms | ActiveRecord: 6.8ms | Allocations: 33645)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:19:08 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"pQuelu1Rs2hN0pdve945DO/50lV7PVqGFojt/07ldXLqhRNS9b/eNSW5wL3deNk/H/pFwv9yniSbnf2nRYoSdA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"2", "quantity"=>"6"}, "1"=>{"product_id"=>"3", "quantity"=>"8"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 5.9ms | Allocations: 7060)


  
NameError (undefined local variable or method `order' for #<CreateOrderService:0x00005624b269f460>):
  
app/services/order_services/create_order_service.rb:11:in `merge_params'
app/services/order_services/create_order_service.rb:30:in `create'
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:19:22 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 47.3ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 54.5ms | ActiveRecord: 7.5ms | Allocations: 58866)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:19:36 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"4FEf6HUfOkCeasW3InFh0D66LInxZ6RL1f1+mVqAJmiv35IsbfFXHfYBkmWE14Hjzrm7HnUoYOlY6G7BUe9Bbg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"2", "quantity"=>"3"}, "1"=>{"product_id"=>"3", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:23:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 8.0ms | Allocations: 6826)


  
NoMethodError (undefined method `first' for #<ActionController::Parameters:0x00007f9ee407dbd8>):
  
app/services/order_services/create_order_service.rb:12:in `block in merge_params'
app/services/order_services/create_order_service.rb:11:in `merge_params'
app/services/order_services/create_order_service.rb:30:in `create'
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:22:39 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 48.2ms | Allocations: 32600)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 90ms (Views: 56.4ms | ActiveRecord: 7.5ms | Allocations: 58862)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:22:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"0V+WhIPD+4aSZIw5eMjf6DJALMX2uy0yTlH2As7DDXOe0RtAmy2W2/oP2+vebj/bwkO7UnL06ZDDROZaxaxqdQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"3"}, "1"=>{"product_id"=>"2", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
Completed 500 Internal Server Error in 224437ms (ActiveRecord: 6.6ms | Allocations: 45512)


  
NoMethodError (undefined method `first' for #<ActionController::Parameters:0x00007feed007c968>):
  
app/services/order_services/create_order_service.rb:13:in `block in merge_params'
app/services/order_services/create_order_service.rb:11:in `merge_params'
app/services/order_services/create_order_service.rb:31:in `create'
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:26:45 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 46.3ms | Allocations: 32600)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 53.2ms | ActiveRecord: 7.6ms | Allocations: 58860)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:26:58 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"GrHUDFOle0qgnBy0C9Sz77Oe9HDheXAaQuG2P6+Jk/BVP1nIS0sWF8j3S2atclPcQ51j52U2tLjP9KZnpOb09g==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"3"}, "1"=>{"product_id"=>"2", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = 'product_id') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block (2 levels) in merge_params'
Completed 500 Internal Server Error in 6507ms (ActiveRecord: 10.1ms | Allocations: 25111)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "product_id"
LINE 1: SELECT "products".* FROM "products" WHERE (id = 'product_id'...
                                                        ^
):
  
app/services/order_services/create_order_service.rb:16:in `block (2 levels) in merge_params'
app/services/order_services/create_order_service.rb:15:in `each'
app/services/order_services/create_order_service.rb:15:in `block in merge_params'
app/services/order_services/create_order_service.rb:11:in `merge_params'
app/services/order_services/create_order_service.rb:31:in `create'
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:29:33 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 39.6ms | Allocations: 14924)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 44.1ms | ActiveRecord: 0.5ms | Allocations: 18992)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:29:46 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"AKU0qQcKgudRTrOgdpjbBcPjthXlt326cfnKviHIWsRPK7ltH+Tvujkl5HLQPjs2M+AhgmH4uRj87NrmKqc9wg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"4"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = 'product_id') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block (2 levels) in merge_params'
Completed 500 Internal Server Error in 33840ms (ActiveRecord: 2.2ms | Allocations: 12017)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "product_id"
LINE 1: SELECT "products".* FROM "products" WHERE (id = 'product_id'...
                                                        ^
):
  
app/services/order_services/create_order_service.rb:16:in `block (2 levels) in merge_params'
app/services/order_services/create_order_service.rb:15:in `each'
app/services/order_services/create_order_service.rb:15:in `block in merge_params'
app/services/order_services/create_order_service.rb:11:in `merge_params'
app/services/order_services/create_order_service.rb:31:in `create'
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:30:34 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 47.1ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 89ms (Views: 55.2ms | ActiveRecord: 8.2ms | Allocations: 58867)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:32:33 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"8h1Qm8orDl4WrZ5YrQq4mqLjy0a//qTlrpkN5xXHuR+9k91f0sVjA37GyYoLrFipUuBc0TuxYEcjjB2/HqjeGQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = 'product_id') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block (2 levels) in merge_params'
Completed 500 Internal Server Error in 52338ms (ActiveRecord: 4.5ms | Allocations: 28747)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "product_id"
LINE 1: SELECT "products".* FROM "products" WHERE (id = 'product_id'...
                                                        ^
):
  
app/services/order_services/create_order_service.rb:16:in `block (2 levels) in merge_params'
app/services/order_services/create_order_service.rb:15:in `each'
app/services/order_services/create_order_service.rb:15:in `block in merge_params'
app/services/order_services/create_order_service.rb:11:in `merge_params'
app/services/order_services/create_order_service.rb:31:in `create'
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:33:36 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 48.1ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 90ms (Views: 55.1ms | ActiveRecord: 8.7ms | Allocations: 58867)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:33:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"cFTQk9/Zyq6VtZuzytkCnehny0bQwTyiPz1T24/Vvfk/2l1Xxzen8/3ezGFsf+KuGGRc0VSO+ACyKEODhLra/w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"3"}, "1"=>{"product_id"=>"1", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mOrder Create (190.1ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 04:33:54.892511"], ["updated_at", "2020-02-28 04:33:54.892511"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mOrderDetail Create (1.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 8], ["quantity", 3], ["created_at", "2020-02-28 04:33:55.086269"], ["updated_at", "2020-02-28 04:33:55.086269"]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 8], ["quantity", 6], ["created_at", "2020-02-28 04:33:55.091255"], ["updated_at", "2020-02-28 04:33:55.091255"]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[35m (42.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 292ms (ActiveRecord: 240.1ms | Allocations: 17924)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:33:55 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 57.3ms | Allocations: 14848)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 65.1ms | ActiveRecord: 0.5ms | Allocations: 18908)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:34:38 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"5Nc087dfqadtAhPuTXXlTVVROeuXh7TD3ywuLl6KV26rWbk3r7HE+gVpRDzr0wV+pVKufBPIcGFSOT52VeUwaA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"99"}, "1"=>{"product_id"=>"2", "quantity"=>"999"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (2.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `create'
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mProduct Load (4.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 04:34:38.796555"], ["updated_at", "2020-02-28 04:34:38.796555"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 9], ["quantity", 99], ["created_at", "2020-02-28 04:34:38.799788"], ["updated_at", "2020-02-28 04:34:38.799788"]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 2], ["order_id", 9], ["quantity", 999], ["created_at", "2020-02-28 04:34:38.810568"], ["updated_at", "2020-02-28 04:34:38.810568"]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[35m (15.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 66ms (ActiveRecord: 26.0ms | Allocations: 10448)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:34:38 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 27.4ms | Allocations: 14852)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 32.9ms | ActiveRecord: 0.2ms | Allocations: 18909)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:40:33 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 49.0ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 90ms (Views: 56.9ms | ActiveRecord: 7.3ms | Allocations: 58867)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:40:46 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"70GJ6OLFz1QfwowGnirtUJgG7me9jEzO/GEK66ZZn86gzwQs+iuiCXep29Q4jA1jaAV58DnDiGxxdBqzrTb4yA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:29:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 04:42:20.575388"], ["updated_at", "2020-02-28 04:42:20.575388"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 10], ["quantity", 2], ["created_at", "2020-02-28 04:42:20.579444"], ["updated_at", "2020-02-28 04:42:20.579444"]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 2], ["order_id", 10], ["quantity", 3], ["created_at", "2020-02-28 04:42:20.583401"], ["updated_at", "2020-02-28 04:42:20.583401"]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[35m (24.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 94144ms (ActiveRecord: 32.3ms | Allocations: 82479)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:42:25 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 48.3ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 92ms (Views: 59.1ms | ActiveRecord: 7.4ms | Allocations: 58857)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:42:36 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"shKGb0oL5/tGxMSUtietU/N4IYNIED4JV22JEprYBmz9nAurUuWKpi6vk0YQgU1gA3u2FMxf+qvaeJlKkbdhag==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"66"}, "1"=>{"product_id"=>"2", "quantity"=>"69"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (4.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 04:42:36.390720"], ["updated_at", "2020-02-28 04:42:36.390720"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 11], ["quantity", 66], ["created_at", "2020-02-28 04:42:36.393917"], ["updated_at", "2020-02-28 04:42:36.393917"]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 2], ["order_id", 11], ["quantity", 69], ["created_at", "2020-02-28 04:42:36.397385"], ["updated_at", "2020-02-28 04:42:36.397385"]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 115ms (ActiveRecord: 55.1ms | Allocations: 18013)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:42:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 32.1ms | Allocations: 14848)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 36.9ms | ActiveRecord: 0.3ms | Allocations: 18904)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:43:07 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 45.5ms | Allocations: 32600)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 55.2ms | ActiveRecord: 6.9ms | Allocations: 58860)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:43:23 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"rpFsDCj7S/B3E5L62j5YicnBMXCMoKPy+6oZgebWtDnhH+HIMBUmrR94xSh8mLi6OcKm5wjvZ1B2vwnZ7bnTPw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"32"}, "1"=>{"product_id"=>"3", "quantity"=>"3333"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 04:43:24.026693"], ["updated_at", "2020-02-28 04:43:24.026693"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 12], ["quantity", 32], ["created_at", "2020-02-28 04:43:24.029653"], ["updated_at", "2020-02-28 04:43:24.029653"]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 3], ["order_id", 12], ["quantity", 3333], ["created_at", "2020-02-28 04:43:24.032009"], ["updated_at", "2020-02-28 04:43:24.032009"]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[35m (26.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 86ms (ActiveRecord: 33.1ms | Allocations: 18006)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:43:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 36.4ms | Allocations: 14848)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 43.3ms | ActiveRecord: 0.3ms | Allocations: 18906)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:43:50 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 48.0ms | Allocations: 32600)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 90ms (Views: 57.4ms | ActiveRecord: 7.1ms | Allocations: 58865)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:44:03 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"39SEjhPBA9n6EK4Oio3yqC3HcIsuYbg0PQQP7srTdkCQWglKCy9uhJJ7+dwsKxKb3cTnHKoufJawER+2wbwRRg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"3", "quantity"=>"9"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:29:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 04:44:03.808779"], ["updated_at", "2020-02-28 04:44:03.808779"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 13], ["quantity", 2], ["created_at", "2020-02-28 04:44:03.811505"], ["updated_at", "2020-02-28 04:44:03.811505"]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 3], ["order_id", 13], ["quantity", 9], ["created_at", "2020-02-28 04:44:03.814276"], ["updated_at", "2020-02-28 04:44:03.814276"]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[35m (255.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 310ms (ActiveRecord: 264.9ms | Allocations: 18013)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:44:04 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 68.6ms | Allocations: 14852)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 80ms (Views: 75.9ms | ActiveRecord: 0.6ms | Allocations: 18905)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:44:36 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 46.2ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 53.4ms | ActiveRecord: 8.2ms | Allocations: 58861)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:44:53 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"xliV+cM4EdtvD8UFDT3Tm/EAfiT+j3TLm9vovhlGq7eJ1hg929Z8hgdkktermzOoAQPps3rAsGkWzvjmEinMsQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"22"}, "1"=>{"product_id"=>"2", "quantity"=>"11"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:29:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 04:44:53.453864"], ["updated_at", "2020-02-28 04:44:53.453864"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 14], ["quantity", 22], ["created_at", "2020-02-28 04:44:53.456867"], ["updated_at", "2020-02-28 04:44:53.456867"]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 2], ["order_id", 14], ["quantity", 11], ["created_at", "2020-02-28 04:44:53.460221"], ["updated_at", "2020-02-28 04:44:53.460221"]]
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
  [1m[35m (17.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:41:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 69ms (ActiveRecord: 26.4ms | Allocations: 18012)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:44:53 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 27.4ms | Allocations: 14848)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.8ms | ActiveRecord: 0.2ms | Allocations: 18903)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:45:21 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 51.1ms | Allocations: 32600)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 58.8ms | ActiveRecord: 9.0ms | Allocations: 58868)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:45:31 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"0YRje3/1sJGskAJeF80T6+uXVnGZ7bkPOIgxRxXAqTSeCu6/ZxvdzMT7VYyxa/PYG5TB5h2ifa21nSEfHq/OMg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"3"}, "1"=>{"product_id"=>"3", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:31:in `create'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = 'product_id') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (pry):5:in `block (2 levels) in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (pry):6:in `block (2 levels) in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 04:48:14.584620"], ["updated_at", "2020-02-28 04:48:14.584620"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["order_id", 15], ["quantity", 3], ["created_at", "2020-02-28 04:48:14.588380"], ["updated_at", "2020-02-28 04:48:14.588380"]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 3], ["order_id", 15], ["quantity", 6], ["created_at", "2020-02-28 04:48:14.591095"], ["updated_at", "2020-02-28 04:48:14.591095"]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[35m (21.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 163326ms (ActiveRecord: 30.0ms | Allocations: 96793)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:48:20 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 51.1ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 56.9ms | ActiveRecord: 9.5ms | Allocations: 58862)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 11:48:35 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"zcE7hK6o88BO+J1sU0Yc43H13TsfHSnvlucNaTQMumuCT7ZAtkaenSaTyr714PzQgfZKrJtS7U0b8h0xP2PdbQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"19"}, "1"=>{"product_id"=>"3", "quantity"=>"05"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `block in merge_params'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mCustomer Load (2.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 04:48:55.946090"], ["updated_at", "2020-02-28 04:48:55.946090"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 16], ["price", 10000.0], ["quantity", 19], ["created_at", "2020-02-28 04:48:55.951134"], ["updated_at", "2020-02-28 04:48:55.951134"]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 16], ["price", 3000.0], ["quantity", 5], ["created_at", "2020-02-28 04:48:55.955726"], ["updated_at", "2020-02-28 04:48:55.955726"]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[35m (12.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 20505ms (ActiveRecord: 29.6ms | Allocations: 77473)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 11:48:55 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 23.4ms | Allocations: 14884)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 27.9ms | ActiveRecord: 0.3ms | Allocations: 18940)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 12:00:04 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"YWWxZ9OLstBuo/d2TfY/C03VQ+70jza40scKGepE0Lwu6zyjy2XfjQbIoKTrUN84vdbUeXDA8hpf0hpB4Su3ug==", "customer"=>{"name"=>"Cao Đình Đầy", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"10"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:30:in `create'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cao Đình Đầy"], ["phone", "0396162108"], ["created_at", "2020-02-28 05:00:04.745195"], ["updated_at", "2020-02-28 05:00:04.745195"]]
  ↳ app/services/order_services/create_order_service.rb:30:in `create'
  [1m[35m (13.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:30:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 05:00:09.292026"], ["updated_at", "2020-02-28 05:00:09.292026"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 1], ["price", 10000.0], ["quantity", 10], ["created_at", "2020-02-28 05:00:09.294507"], ["updated_at", "2020-02-28 05:00:09.294507"]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 1], ["price", 5000.0], ["quantity", 2], ["created_at", "2020-02-28 05:00:09.296848"], ["updated_at", "2020-02-28 05:00:09.296848"]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[35m (18.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 4584ms (ActiveRecord: 36.6ms | Allocations: 75412)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 12:00:09 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 23.7ms | Allocations: 15028)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 29.0ms | ActiveRecord: 0.3ms | Allocations: 19240)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 12:02:31 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"qbadOM2LEoLqdteUnT3wK/2fZmILojccRvgXssQCPFbmOBD81WV/34IdgEY7mxAYDZzx9Y/t877L7Qfqz21bUA==", "customer"=>{"name"=>"Huỳnh Thanh Tiến", "phone"=>"01234567890"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"2", "quantity"=>"3"}, "1"=>{"product_id"=>"3", "quantity"=>"5"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '01234567890') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `create'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:30:in `create'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Huỳnh Thanh Tiến"], ["phone", "01234567890"], ["created_at", "2020-02-28 05:02:31.917744"], ["updated_at", "2020-02-28 05:02:31.917744"]]
  ↳ app/services/order_services/create_order_service.rb:30:in `create'
  [1m[35m (21.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:30:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 05:02:37.951800"], ["updated_at", "2020-02-28 05:02:37.951800"], ["customer_id", 2]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 2], ["price", 5000.0], ["quantity", 3], ["created_at", "2020-02-28 05:02:37.954919"], ["updated_at", "2020-02-28 05:02:37.954919"]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 2], ["price", 3000.0], ["quantity", 5], ["created_at", "2020-02-28 05:02:37.957893"], ["updated_at", "2020-02-28 05:02:37.957893"]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[35m (25.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 6075ms (ActiveRecord: 53.0ms | Allocations: 54880)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 12:02:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 28.8ms | Allocations: 14877)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 32.6ms | ActiveRecord: 0.3ms | Allocations: 18939)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 12:08:11 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"gQBccs0aZEPeFxXv65b8YvvtVpAAlgdTIlc5fQvdNXjOjtG21fQJHrZ8Qj1NMBxRC+7BB4TZw/GvQiklALJSfg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"22"}, "1"=>{"product_id"=>"2", "quantity"=>"11"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:20:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:13:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:13:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:32:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:32:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:32:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:32:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 05:08:11.884181"], ["updated_at", "2020-02-28 05:08:11.884181"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:32:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 3], ["price", 10000.0], ["quantity", 22], ["created_at", "2020-02-28 05:08:11.886854"], ["updated_at", "2020-02-28 05:08:11.886854"]]
  ↳ app/services/order_services/create_order_service.rb:32:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 3], ["price", 5000.0], ["quantity", 11], ["created_at", "2020-02-28 05:08:11.889061"], ["updated_at", "2020-02-28 05:08:11.889061"]]
  ↳ app/services/order_services/create_order_service.rb:32:in `create'
  [1m[35m (483.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:32:in `create'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 552ms (ActiveRecord: 496.2ms | Allocations: 40688)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 12:08:12 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 73.8ms | Allocations: 29232)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 94ms (Views: 87.0ms | ActiveRecord: 0.3ms | Allocations: 38213)


  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id 1 AND quantity >= 10)[0m
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id 1 AND quantity >= 10) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = 1 AND quantity >= 10)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM(quantity - 10) FROM "inventories" WHERE (product_id = 1 AND quantity >= 10)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM(quantity - 100) FROM "inventories" WHERE (product_id = 1 AND quantity >= 100)[0m
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = 1 AND quantity >= 100)[0m
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = 1 AND quantity >= 10)[0m
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = array[0] AND quantity >= array[1])[0m
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = array[0] AND quantity >= array[1]) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1')[0m
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1')[0m
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = 1 AND quantity >= 1)[0m
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = 1 AND quantity >= 100)[0m
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = 1 AND quantity >= 10)[0m
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = 1 AND quantity >= 10) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = 1 AND quantity >= 100) LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:04:32 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 51.5ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 97ms (Views: 58.7ms | ActiveRecord: 12.0ms | Allocations: 58863)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:04:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"jff1SwB5lGLg9LfDehDbL47TxOMzEnDhw0lg2/53EmvCeXiPGJf5P4if4BHctjscftBTdLddtENOXHCD9Rh1bQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1200"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1200') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:19:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:19:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1200') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:19:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:19:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 61521ms (ActiveRecord: 6.0ms | Allocations: 195105)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:05:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 34.0ms | Allocations: 14892)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 38.6ms | ActiveRecord: 0.4ms | Allocations: 18946)


  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = 1 AND quantity >= 1000)[0m
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = 1 AND quantity >= 1000)[0m
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:21:01 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:22
  Rendered orders/new.html.erb within layouts/application (Duration: 55.7ms | Allocations: 32626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 62.7ms | ActiveRecord: 8.5ms | Allocations: 58887)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:21:19 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"GO3Ie95egquVIgsFUv9FHxBtozXkUa6O1p96hg4+BRVXY0W/xrDv9v1JXNf0WaUs4G40omAeaixbimreBVFiEw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1243123"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1243123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1243123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 35ms (ActiveRecord: 9.2ms | Allocations: 7570)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:21:19 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:22
  Rendered orders/new.html.erb within layouts/application (Duration: 26.4ms | Allocations: 14848)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.8ms | ActiveRecord: 0.2ms | Allocations: 18903)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:24:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:22
  Rendered orders/new.html.erb within layouts/application (Duration: 29.6ms | Allocations: 18249)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 32.9ms | ActiveRecord: 7.1ms | Allocations: 33465)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:25:10 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fCFNzylhmBSLQPWWV9YYQQmPNC8vjxgvBsBabjfAQk8zr8ALMY/1SeMrokTxcPhy+YyjuKvA3I2L1Uo2PK8lSQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1232144"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1232144') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1232144') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1857)
Completed 500 Internal Server Error in 49ms (ActiveRecord: 8.2ms | Allocations: 8977)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    2: <% if !@remained_lists.blank? %>
    3:   <p> Sorry </p>
    4: <%end%>
    5: <%= simple_form_for @order do |f| %>
    6:     <%= simple_fields_for :customer do |ff| %>
    7:       <%= ff.input :name, label: 'Name: ' %>
    8:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:5
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:31:25 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:22
  Rendered orders/new.html.erb within layouts/application (Duration: 31.7ms | Allocations: 18192)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 36.4ms | ActiveRecord: 0.5ms | Allocations: 33031)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:31:43 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"2JJ7E8k6tCsUqG7SAT+BKmL8GKxIs8CvYAsk54HtpQCXHPbX0dTZdnzDOQCnmWEZkv+PO8z8BA3tHjS/ioLCBg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"124312"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '124312') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '124312') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 19ms (ActiveRecord: 1.5ms | Allocations: 7265)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:31:43 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:22
  Rendered orders/new.html.erb within layouts/application (Duration: 25.7ms | Allocations: 14869)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 0.2ms | Allocations: 18917)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:33:31 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 31.4ms | Allocations: 18620)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 34.9ms | ActiveRecord: 8.3ms | Allocations: 34633)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:33:45 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Eza4ZEhwjJdMFapJ6xyiQ8szAy8JJc30g/Y8EudZ4TRcuDWgUJ7hyiR+/ZtNukJwOzCUuI1qCVYO4yxK7DaGMg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"24122"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '24122') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '24122') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template within layouts/application
  Rendered html template within layouts/application (Duration: 0.1ms | Allocations: 4)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 159ms (Views: 118.1ms | ActiveRecord: 9.0ms | Allocations: 10633)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:33:50 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 35.2ms | Allocations: 14881)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 40.0ms | ActiveRecord: 0.3ms | Allocations: 18940)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:43:11 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 31.5ms | Allocations: 18171)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 35.7ms | ActiveRecord: 0.5ms | Allocations: 33015)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:43:24 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"AywJA/AQrq85CRXLaOSmmLpsEn95G/nclXR2Y6oDJg5MooTH6P7D8lFiQhnOQkarSm+F6P1UPX4YYWY7oWxBCA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"123132"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123132') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123132') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template within layouts/application
  Rendered html template within layouts/application (Duration: 0.0ms | Allocations: 3)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 6.1ms | ActiveRecord: 1.1ms | Allocations: 10225)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:46:41 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:44: syntax error, unexpected ':', expecting keyword_end
                inline: 
                      ^):
  
app/controllers/orders_controller.rb:44: syntax error, unexpected ':', expecting keyword_end
app/controllers/orders_controller.rb:44: syntax error, unexpected ':', expecting keyword_end
app/controllers/orders_controller.rb:44: syntax error, unexpected ':', expecting keyword_end
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:47:01 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 37.9ms | Allocations: 18294)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 41.1ms | ActiveRecord: 8.5ms | Allocations: 33589)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:47:16 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"j62UXabBxif0GfdYEdzSKfyj0Z6laC5ous8OpPbR2e/AIxmZvi+repxyoIq3ejIaDKBGCSEn6so32h78/b6+6Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12323"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12323') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12323') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  Rendered inline template (Duration: 1.2ms | Allocations: 944)
Completed 500 Internal Server Error in 150ms (ActiveRecord: 5.4ms | Allocations: 12647)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <table> 
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Quantity</th>
                        </tr>
                    </thead>

                    <tbody>
                        <%= @remained_lists.each do |i| %>
                        <tr>
                            <td>
                                i.name
                            </td>
                            <td>
                                i.quantity
                            </td>
                        </tr>
                    </tbody>
                </table>
):
1:    <table> 
2:                        <thead>
3:                            <tr>
4:                                <th>Name</th>
5:                                <th>Quantity</th>
6:                            </tr>
7:                        </thead>
8:    
9:                        <tbody>
10:                            <%= @remained_lists.each do |i| %>
11:                            <tr>
12:                                <td>
13:                                    i.name
14:                                </td>
15:                                <td>
16:                                    i.quantity
17:                                </td>
18:                            </tr>
19:                        </tbody>
20:                    </table>
  
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:49:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 34.9ms | Allocations: 18268)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 37.0ms | ActiveRecord: 7.2ms | Allocations: 33495)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:49:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"zw++uSxhBMdZ6YYD1BKJ5hLWu8STr6ue7onMvIn8QN6AgTN9NI9pmjGC0dFytGnV4tUsUxfgbzxjnNzkgpMn2A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"123124"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123124') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123124') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  Rendered inline template (Duration: 0.8ms | Allocations: 983)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.2ms | Allocations: 8027)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <table> <thead> <tr> <th>Name</th> <th>Quantity</th> </tr> </thead> <tbody> <%= @remained_lists.each do |i| %> <tr> <td> i.name </td> <td> i.quantity </td> </tr> </tbody> </table>
):
1:    <table> <thead> <tr> <th>Name</th> <th>Quantity</th> </tr> </thead> <tbody> <%= @remained_lists.each do |i| %> <tr> <td> i.name </td> <td> i.quantity </td> </tr> </tbody> </table>
  
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:50:47 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 29.0ms | Allocations: 18276)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 31.6ms | ActiveRecord: 7.0ms | Allocations: 33514)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:50:55 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"zt/UHAT5wQmDB9y546gwoD4jtuT3xQ99Rq62ep4ibCeBUVnYHBesVOtsi2tFDtCTziAhc3OKy9/Lu6YilU0LIQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"41344"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '41344') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '41344') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  Rendered inline template (Duration: 0.3ms | Allocations: 72)
Completed 200 OK in 36ms (Views: 0.9ms | ActiveRecord: 7.7ms | Allocations: 7111)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:50:58 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 44.1ms | Allocations: 14874)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 48.8ms | ActiveRecord: 0.3ms | Allocations: 18932)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:52:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 30.3ms | Allocations: 18273)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 32.8ms | ActiveRecord: 6.5ms | Allocations: 33493)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:52:24 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"lzVmRJTsU4Erk0GlOCZQq54WTxJgdqWlKrwW7YFHelnYu+uAjAI+3EP4FneegLCYbhXYheQ5YQenqQa1iigdXw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1234"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1234') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1234') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  Rendered inline template (Duration: 1.9ms | Allocations: 975)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 7.2ms | Allocations: 8000)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% @remained_lists.each do |i| %> <p> i.name </p> </br> <p> i.quantity </p> 
):
1:    <% @remained_lists.each do |i| %> <p> i.name </p> </br> <p> i.quantity </p> 
  
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new/" for 127.0.0.1 at 2020-02-28 16:52:48 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 31.8ms | Allocations: 18268)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 35.0ms | ActiveRecord: 6.3ms | Allocations: 33485)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:52:57 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"XAuGfzL5h44ZS8hxkgBYSvjlZqp5kk7yuEsObDFk6J8ThQu7Khfq03Egn6M0prh5CObxPf3dilA1Xh40OguPmQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"45243"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (2.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '45243') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '45243') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  Rendered inline template (Duration: 0.7ms | Allocations: 106)
Completed 200 OK in 45ms (Views: 1.9ms | ActiveRecord: 8.8ms | Allocations: 7145)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:53:25 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 29.7ms | Allocations: 18272)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 32.0ms | ActiveRecord: 6.5ms | Allocations: 33489)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:53:34 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"IdzM2GAWC7q7A6Q2HOcTeTQTiVO9l4R6Wj6ZmF/8JjZuUkEcePhm59No8+S6QfNKxBAexDnYQNjXK4nAVJNBMA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1234"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1234') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1234') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:43:in `create'
  Rendered inline template (Duration: 24.4ms | Allocations: 3931)
Completed 500 Internal Server Error in 66ms (ActiveRecord: 9.7ms | Allocations: 10959)


  
ActionView::Template::Error (undefined method `quantity' for #<Inventory::ActiveRecord_Relation:0x00007fb9c10044c0>):
    1: <% @remained_lists.each do |i| %> <p> <%= i.name %> </p> </br> <p> <%= i.quantity %> </p> <%end%>
  
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:53:53 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 30.3ms | Allocations: 18284)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 32.8ms | ActiveRecord: 6.7ms | Allocations: 33545)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:54:07 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"YC0URzPVFiicD9e0W57kVw0K5/+6x2DrpgmCDqSwhlYvo5mDKzt7dfRkgGb9OARk/QlwaD6IpEkrHJJWr9/hUA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1244"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1244') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (10.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1244') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  Rendered inline template (Duration: 0.6ms | Allocations: 165)
Completed 200 OK in 52ms (Views: 1.4ms | ActiveRecord: 15.5ms | Allocations: 11694)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 16:54:40 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 30.2ms | Allocations: 18269)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 32.2ms | ActiveRecord: 7.2ms | Allocations: 33492)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 16:54:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Is2V2xFQr52rXWRl0O1Jjk7+/pLDGFNv/U53qDzUls5tQxgfCb7CwMM2M7d2S6m9vv1pBUdXl81wW2fwN7vxyA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"234245"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '234245') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '234245') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:01:30 +0700
  Rendering inline template
  Rendered inline template (Duration: 1.1ms | Allocations: 132)
Completed 200 OK in 404361ms (Views: 2.1ms | ActiveRecord: 4.1ms | Allocations: 106658)


Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 30.1ms | Allocations: 18302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 32.7ms | ActiveRecord: 7.2ms | Allocations: 33542)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:01:46 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"OAnfp+kaBwbpYbqZzkOLl7h5aryBKeLmtGZ9hPDtI4R3h1Jj8fRqW4EK7Uto5WukSHr9KwVmJkQ5c23c+4JEgg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"264234"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '264234') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '264234') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  Rendered inline template (Duration: 1.7ms | Allocations: 1575)
Completed 500 Internal Server Error in 3681ms (ActiveRecord: 4.0ms | Allocations: 23064)


  
ActionView::Template::Error (undefined method `each' for 1:Integer):
    1: <% for i in @remained_lists.size %> <p> <%= @remained_lists[i].take.name %> </p> </br> <%end%>
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:02:20 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 32.5ms | Allocations: 18298)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 39.9ms | ActiveRecord: 6.6ms | Allocations: 33522)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:02:29 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"FyKQzvuDr6BKdTx7Ys5XmuUKOxVq+tD9jAXJSvgcIWFYrB0K423C/SIea6nEaLepFQmsgu61FF8BENkS83NGZw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1233"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1233') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1233') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  Rendered inline template (Duration: 3.8ms | Allocations: 1572)
Completed 500 Internal Server Error in 1577ms (ActiveRecord: 11.8ms | Allocations: 23062)


  
ActionView::Template::Error (undefined method `each' for 1:Integer):
    1: <% for i in @remained_lists.size do %> <p> <%= @remained_lists[i].take.name %> </p> </br> <%end%>
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:02:49 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 55.1ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 62.5ms | ActiveRecord: 6.7ms | Allocations: 58858)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:02:57 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"8gp22g02UHtVjtfxtx5S2ZTZRgZs5iij1ovOT8oTWte9hPseFdg9Jj3lgCMRuLLqZNrRkeip7AFbnt4XwXw90Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"4135"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '4135') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '4135') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  Rendered inline template (Duration: 5.1ms | Allocations: 2219)
Completed 500 Internal Server Error in 2283ms (ActiveRecord: 4.0ms | Allocations: 33922)


  
ActionView::Template::Error (undefined method `each' for 1:Integer):
    1: <% for i in @remained_lists.size do %> <p> <%= @remained_lists[i].take.name %> </p> </br> <%end%>
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:04:42 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 33.3ms | Allocations: 18298)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 36.6ms | ActiveRecord: 7.1ms | Allocations: 33535)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:04:51 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ZWeG/QpTMfyc+Nx5lfsEHZwrGhfY+tymRyMKAhMApWMq6Qs5Er1cofSTi6szXeQubCiNgFy1GATKNhpaGG/CZQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"5113"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '5113') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '5113') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/orders_controller.rb:40:in `create'
  Rendering inline template
  Rendered inline template (Duration: 2.3ms | Allocations: 1573)
Completed 500 Internal Server Error in 230407ms (ActiveRecord: 5.7ms | Allocations: 64953)


  
ActionView::Template::Error (undefined method `each' for 1:Integer):
    1: <% for i in @remained_lists.size do %> <p> <%= @remained_lists[i].take.name %> </p> <br> <%end%>
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:08:44 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 30.8ms | Allocations: 18293)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 33.6ms | ActiveRecord: 7.0ms | Allocations: 33514)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:08:53 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"1tWVu8qVjKDBFdVxzVx/Or2Ouy5AgSmbRLcvdtTvsS+ZWxh/0nvh/al+gqNr+p8JTY0sucTO7TnJoj8u34DWKQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"124213"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '124213') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '124213') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  Rendered inline template (Duration: 323.2ms | Allocations: 169291)
Completed 500 Internal Server Error in 2266ms (ActiveRecord: 4.9ms | Allocations: 191260)


  
ActionView::Template::Error (undefined local variable or method `d' for #<#<Class:0x00007fab5101f2f8>:0x000055579f69c3e0>):
    1: <% for i in 0..d do %> <p> <%= @remained_lists[i].take.name %> </p> <br> <%end%>
  
app/controllers/orders_controller.rb:45:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:09:54 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 28.9ms | Allocations: 18301)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 32.7ms | ActiveRecord: 6.8ms | Allocations: 33561)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:10:02 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"AUD+8/lwuDG9bYx1toQeLKCxH5+bO//6z9aXvl316mNOznM34Z7VbNUG26cQIv4fULKICB90O1hCw4fmVpqNZQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1231243"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1231243') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1231243') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:45:in `create'
  Rendered inline template (Duration: 294.8ms | Allocations: 169275)
Completed 500 Internal Server Error in 1707ms (ActiveRecord: 6.4ms | Allocations: 191238)


  
ActionView::Template::Error (undefined local variable or method `d' for #<#<Class:0x00007fab5848ec60>:0x00007fab514b2c20>):
    1: <% for i in 0...d do %> <p> <%= @remained_lists[i].take.name %> </p> <br> <%end%>
  
app/controllers/orders_controller.rb:45:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:12:34 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 28.1ms | Allocations: 18301)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 30.5ms | ActiveRecord: 6.9ms | Allocations: 33553)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:12:43 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"3yuzcVCMqrJFbbzuphnEfHNdQxDg4ZjGfTP7LSe4ljSQpT61SGLH7y0G6zwAvyRPg17Uh2SuXGTwJut1LNfxMg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1242332"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1242332') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1242332') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  Rendered inline template (Duration: 0.8ms | Allocations: 77)
Completed 200 OK in 2487ms (Views: 1.8ms | ActiveRecord: 5.8ms | Allocations: 22074)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:12:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 30.8ms | Allocations: 14899)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 34.9ms | ActiveRecord: 0.3ms | Allocations: 18955)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:13:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"sIPtifSdyHqp5QZrlAdejsTNmpQ89ivinKdm8a9e03z/DWBN7HOlJ8GOUbkyob69NM4NA7i570ARsnappDG0eg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1221413"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1221413') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1221413') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering inline template
  Rendered inline template (Duration: 0.6ms | Allocations: 70)
Completed 200 OK in 2774ms (Views: 1.5ms | ActiveRecord: 0.9ms | Allocations: 18203)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:13:58 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 36.8ms | Allocations: 14899)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 40.0ms | ActiveRecord: 0.8ms | Allocations: 18953)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:26:34 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 28.0ms | Allocations: 18199)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 32.0ms | ActiveRecord: 0.5ms | Allocations: 33033)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:26:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"+dOYOyOrCpRrstz6H5o6XBjlkDCkiJATfrbmbPuhbl+2XRX/O0VnyQPZiyi5PNpv6OYHpyDHVLHzo/Y08M4JWQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1112"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1112') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1112') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.8ms | Allocations: 7050)


  
ArgumentError (too few arguments):
  
app/controllers/orders_controller.rb:45:in `format'
app/controllers/orders_controller.rb:45:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:27:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 31.5ms | Allocations: 18293)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 32.8ms | ActiveRecord: 9.2ms | Allocations: 33535)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:27:29 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"XwnQ3/m9kuflOfLz//Y+BDXGSc9rK7jTRCB0akUXgOsQh10b4VP/uo1SpSFZUN43xcXeWO9kfHHJNWQyTnjn7Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"11234"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '11234') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '11234') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 3.3ms | Allocations: 7241)


  
ArgumentError (too few arguments):
  
app/controllers/orders_controller.rb:43:in `format'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:29:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 30.2ms | Allocations: 18293)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 32.5ms | ActiveRecord: 6.8ms | Allocations: 33514)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:29:21 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"622sdZbIelXSvPQTLJtPbXa3gUlCCOVVwn0+FqOwE+ak4yGxjiYXCLrXo8GKPa9ehrQW3sZHIfdPaC5OqN904A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"124123"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '124123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '124123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1162)
Completed 500 Internal Server Error in 15947ms (ActiveRecord: 15.4ms | Allocations: 26324)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:44:in `block (2 levels) in create'
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:36:19 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 26.5ms | Allocations: 18195)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 30.7ms | ActiveRecord: 0.4ms | Allocations: 33025)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:36:29 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"nD+pk5c+w6Xb0IjGffsSbWL13tiRbRvaJuPY6KY+HDLTsSRXj9Cu+LO73xTbXfJekvZJTxUi33ir9siwrVF7NA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"123123"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 1.0ms | Allocations: 8152)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:37:18 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:43: syntax error, unexpected '[', expecting '('
            flash.[:alert] = "Your book was not ...
                  ^):
  
app/controllers/orders_controller.rb:43: syntax error, unexpected '[', expecting '('
app/controllers/orders_controller.rb:43: syntax error, unexpected '[', expecting '('
app/controllers/orders_controller.rb:43: syntax error, unexpected '[', expecting '('
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:37:30 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 31.2ms | Allocations: 18301)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 33.9ms | ActiveRecord: 10.7ms | Allocations: 33564)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:37:37 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"JeCkOFp8Y1HB4Vychm3Blw7naFtOLRDwzoG/77C1e6dqbin8QpIODKmKC04gyyGk/uT/zMpi1FJDlK+3u9ocoQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12414"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12414') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12414') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1207)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 6.1ms | Allocations: 8334)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:45:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:38:11 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 44.6ms | Allocations: 32600)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 84ms (Views: 51.7ms | ActiveRecord: 7.8ms | Allocations: 58864)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:38:19 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"/TqMZx2yuFSyCJ+IqINB7IJoJErUWV07PdKKUD79SAuytAGjBVzVCdpjyFoOJaHfcmuz3VAWmZmwx5oINZIvDQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"123423"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123423') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123423') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1857)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 11.5ms | Allocations: 9094)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:45:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:39:21 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 47.6ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 55.0ms | ActiveRecord: 7.6ms | Allocations: 58865)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:39:28 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"VDVXYfdeIk5AAHj3cJWuZTIz1YAenwztAeTBgN0aWO0bu9ql77BPEyhrLyXWM05WwjBCF5rQyE+M8dHY1nU/6w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2114"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (2.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2114') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2114') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1857)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 6.9ms | Allocations: 9096)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:41:in `create'
Started GET "/" for 127.0.0.1 at 2020-02-28 17:45:24 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 36.9ms | Allocations: 20237)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 40.6ms | ActiveRecord: 6.7ms | Allocations: 29854)


Started GET "/new" for 127.0.0.1 at 2020-02-28 17:45:26 +0700
  
ActionController::RoutingError (No route matches [GET] "/new"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:45:30 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 43.6ms | Allocations: 29605)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 49.2ms | ActiveRecord: 5.0ms | Allocations: 47460)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:45:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"byjiI4FvXi9ci52MR/mb5s7xVEVv/q5LSzKvNki6ETogpm/nmYEzcjTgyl7hX3vVPvLD0uuxaunGJ79uQ9V2PA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"3"}, "1"=>{"product_id"=>"3", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-02-28 10:45:41.706182"], ["updated_at", "2020-02-28 10:45:41.706182"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 4], ["price", 10000.0], ["quantity", 3], ["created_at", "2020-02-28 10:45:41.708517"], ["updated_at", "2020-02-28 10:45:41.708517"]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 4], ["price", 3000.0], ["quantity", 2], ["created_at", "2020-02-28 10:45:41.710504"], ["updated_at", "2020-02-28 10:45:41.710504"]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[35m (12.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1151)
Completed 500 Internal Server Error in 53ms (ActiveRecord: 20.1ms | Allocations: 22368)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:47:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 39.0ms | Allocations: 18347)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 40.0ms | ActiveRecord: 8.0ms | Allocations: 33642)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:47:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"CbGoahf9OsCFZuR0ZIvC8CZ8ZTM0Hx8BBn8kbbboqNZGPyWuDxNXne0Ns6bCLSLD1n/ypLBQ26OLajQ1vYfP0A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"123231"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123231') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123231') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1148)
Completed 500 Internal Server Error in 2590ms (ActiveRecord: 6.7ms | Allocations: 32916)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:47:35 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 29.4ms | Allocations: 18368)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 31.7ms | ActiveRecord: 6.5ms | Allocations: 33688)


Started POST "/orders" for 127.0.0.1 at 2020-02-28 17:47:44 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"NRNchO2gQDCeW6k8ure0lOHBcpoLGqCcz68+bL8SNW56ndFA9U4tbfYw/u4cEVSnEcLlDY9VZD5Cui40tH1SaA==", "customer"=>{"name"=>"daycd", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"132"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '132') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '132') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 2709ms (ActiveRecord: 2.6ms | Allocations: 122756)


Started GET "/orders/new" for 127.0.0.1 at 2020-02-28 17:47:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 23.7ms | Allocations: 14985)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 27.9ms | ActiveRecord: 0.2ms | Allocations: 19041)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:02:41 +0700
  [1m[35m (29.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 273.4ms | Allocations: 32647)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 542ms (Views: 423.1ms | ActiveRecord: 13.5ms | Allocations: 58813)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:02:56 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"J0uFc3QrDezONKpWcE0RjzfVXeWmirGXy4UAH3ebwOFlJakkJRFYbE+j2/pA5F9jjlgFLLJTp8xriL3DXNETbQ==", "customer"=>{"name"=>"daycd", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2323"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
Completed 500 Internal Server Error in 25669ms (ActiveRecord: 0.0ms | Allocations: 24400)


  
Errno::EIO (Input/output error @ io_write - <STDOUT>):
  
app/controllers/orders_controller.rb:34:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:04:09 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 49.4ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 58.3ms | ActiveRecord: 8.3ms | Allocations: 58868)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:04:38 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"5MC51F8eWHmIiBV2yywpgGzepUWMpcEQOov5eHSDtRimrpWDDiQN+QkfZNr7hWds1VP9jJh810uahkSkX8lmlA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"15133"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (212.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '15133') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '15133') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Completed 200 OK in 277ms (Views: 0.2ms | ActiveRecord: 220.7ms | Allocations: 7040)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:13:52 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 30.5ms | Allocations: 18146)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 34.8ms | ActiveRecord: 0.4ms | Allocations: 32973)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:13:59 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"qNU5KOZnUHahCP1rc7Ukkf/L637tWMY/XA8fAPL2g9LquxV/t10F9iCfjMdDHGp9Rkazt/mB0GT8AqLc2bxQXg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"3214"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3214') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3214') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 2.1ms | Allocations: 8515)


  
ActionView::MissingTemplate (Missing template orders/create, application/create with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/daycd/research ruby/seven-system/app/views"
  * "/home/daycd/.rvm/gems/ruby-2.5.3/gems/actiontext-6.0.2.1/app/views"
  * "/home/daycd/.rvm/gems/ruby-2.5.3/gems/actionmailbox-6.0.2.1/app/views"
):
  
app/controllers/orders_controller.rb:38:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:15:35 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 33.4ms | Allocations: 18273)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 36.9ms | ActiveRecord: 8.1ms | Allocations: 33531)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:15:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"F30zGgmaGBlKa1Z1axHWuYl/FTJIQiM7+JzX3D9qDy9VEx9NWKBNmcv8J9lbuJhVMPJN+1ybNWBYkWoAFCDcow==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2314124"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2314124') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2314124') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1214)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 7.5ms | Allocations: 8341)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:16:30 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 36.1ms | Allocations: 14883)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 40.6ms | ActiveRecord: 0.3ms | Allocations: 18933)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:16:48 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"uquZ4MIejGQARrFlIRYtePauS+dvw/WWA6p3uu/aR+D4xbW3kyTZ5IHRwMkRv2OUTyMTLnsa482jp8pmxJCUbA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"2", "quantity"=>"2"}, "1"=>{"product_id"=>"3", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (135.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrder Create (52.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-01 17:16:49.188757"], ["updated_at", "2020-03-01 17:16:49.188757"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrderDetail Create (14.0ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 5], ["price", 5000.0], ["quantity", 2], ["created_at", "2020-03-01 17:16:49.244880"], ["updated_at", "2020-03-01 17:16:49.244880"]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 5], ["price", 3000.0], ["quantity", 2], ["created_at", "2020-03-01 17:16:49.263363"], ["updated_at", "2020-03-01 17:16:49.263363"]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[35m (36.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1149)
Completed 500 Internal Server Error in 431ms (ActiveRecord: 249.4ms | Allocations: 27310)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:22:12 +0700
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1467)


  
NoMethodError (undefined method `order_details' for nil:NilClass):
  
app/controllers/orders_controller.rb:12:in `new'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:22:17 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 32.6ms | Allocations: 18375)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 35.2ms | ActiveRecord: 8.7ms | Allocations: 33761)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:24:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 41.1ms | Allocations: 18264)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 45.4ms | ActiveRecord: 7.9ms | Allocations: 33464)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:24:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"qFVlLn1iQ6O/apyr5jfxua2Fk5XDIIaIIjSv5eWTSsfqO0l5LFgWIz797QfWnr9VFAjLXNf5kNOCORI5ztmZSw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1242412"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1242412') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1242412') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1207)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 8.7ms | Allocations: 8351)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:25:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 37.4ms | Allocations: 18288)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 40.2ms | ActiveRecord: 7.3ms | Allocations: 33508)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:25:32 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"7Xp7bLltIeueJfTMq6l/wtrW739mB/bScTpGe5mNMdqvFFc76Fd0ax+yhWCbADEuY1u3tnLe4InRN/unssfiVg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12334"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12334') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12334') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1148)
Completed 500 Internal Server Error in 13390ms (ActiveRecord: 8.2ms | Allocations: 32808)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:25:55 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 33.1ms | Allocations: 18293)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 35.9ms | ActiveRecord: 7.1ms | Allocations: 33516)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:26:02 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"kLdstMqdqSguiGl53JrZ/Wk9hFAs1Wtk/CjpA8CQLR3S2UDjm6f8qK8fGNXsM5cR0LDcmTgMfT9cJVTf69r+kQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"135324"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '135324') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '135324') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1148)
Completed 500 Internal Server Error in 6455ms (ActiveRecord: 12.2ms | Allocations: 22309)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:26:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 32.9ms | Allocations: 14916)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 37.0ms | ActiveRecord: 0.3ms | Allocations: 18977)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:26:29 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"hRA/imFpJWdMvWAPAYNX7SXzGSzdbYPsi9TMzSxt3mbHfhPdMFNw580qEaMxKhkBnH5B5cm0lbcr2XERBycN6g==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"3", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (2.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-01 17:26:29.828949"], ["updated_at", "2020-03-01 17:26:29.828949"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 6], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-01 17:26:29.831877"], ["updated_at", "2020-03-01 17:26:29.831877"]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 6], ["price", 3000.0], ["quantity", 1], ["created_at", "2020-03-01 17:26:29.835198"], ["updated_at", "2020-03-01 17:26:29.835198"]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[35m (14.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1147)
Completed 500 Internal Server Error in 94210ms (ActiveRecord: 32.3ms | Allocations: 55237)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:30:02 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 52.3ms | Allocations: 32600)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 94ms (Views: 59.5ms | ActiveRecord: 7.9ms | Allocations: 58866)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:30:15 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"vmx9ylvlHjO4QzUvmggVK3T5y+qey+5+aB5pHv9cl+/8AlGdCt9LsznURIOqoVvHzXSTI4oS+CXIE9TC1BZEYw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"3"}, "1"=>{"product_id"=>"3", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-01 17:30:15.939970"], ["updated_at", "2020-03-01 17:30:15.939970"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 7], ["price", 10000.0], ["quantity", 3], ["created_at", "2020-03-01 17:30:15.942712"], ["updated_at", "2020-03-01 17:30:15.942712"]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 7], ["price", 3000.0], ["quantity", 3], ["created_at", "2020-03-01 17:30:15.945031"], ["updated_at", "2020-03-01 17:30:15.945031"]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[35m (283.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1798)
Completed 500 Internal Server Error in 14083ms (ActiveRecord: 298.2ms | Allocations: 51965)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:30:37 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 49.7ms | Allocations: 32599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 94ms (Views: 57.5ms | ActiveRecord: 8.1ms | Allocations: 58855)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:30:44 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"5Scjq2HXfdxwZqnoV/vR4pN3KDqXWtMApvldDjYvV1GnSQ/8MO0oXPHx2ERnUp8OKvpw84ODxVsG9ODSHWWE3Q==", "customer"=>{"name"=>"daycd", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"3"}, "1"=>{"product_id"=>"3", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987654321') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mCustomer Create (41.9ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "daycd"], ["phone", "0987654321"], ["created_at", "2020-03-01 17:30:44.271478"], ["updated_at", "2020-03-01 17:30:44.271478"]]
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[35m (48.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-01 17:30:44.405899"], ["updated_at", "2020-03-01 17:30:44.405899"], ["customer_id", 3]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrderDetail Create (1.0ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 8], ["price", 10000.0], ["quantity", 3], ["created_at", "2020-03-01 17:30:44.411531"], ["updated_at", "2020-03-01 17:30:44.411531"]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mOrderDetail Create (1.1ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 8], ["price", 3000.0], ["quantity", 3], ["created_at", "2020-03-01 17:30:44.418580"], ["updated_at", "2020-03-01 17:30:44.418580"]]
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[35m (46.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `create'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 241ms (ActiveRecord: 152.3ms | Allocations: 28268)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:30:44 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 44.6ms | Allocations: 14848)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 56.8ms | ActiveRecord: 0.3ms | Allocations: 18909)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:31:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Q31NUO/GO6wDub1/RDsfReaTc1bdKhO5pjx6mhIV5RsBE2EHvvxuLIIuzNN0klGpXx4rn8nzBeIGMcdGOV82lw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2344213"}, "1"=>{"product_id"=>"3", "quantity"=>"213434"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2344213') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '213434') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2344213') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '213434') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1797)
Completed 500 Internal Server Error in 3181ms (ActiveRecord: 1.4ms | Allocations: 33782)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>
    3:     <%= simple_fields_for :customer do |ff| %>
    4:       <%= ff.input :name, label: 'Name: ' %>
    5:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:32:28 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 58.5ms | Allocations: 32604)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 100ms (Views: 65.7ms | ActiveRecord: 9.1ms | Allocations: 58872)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:32:36 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"GQZ1aqVM0FR0MveKoZvCsGpINulCPD+WpAm3w6fKi+xbaFk99HaF1PWlhiaRMoxc08VuIFblKc0EBAofjIBYYA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"133214"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '133214') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '133214') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 2070ms (ActiveRecord: 8.2ms | Allocations: 31666)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:32:38 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 32.3ms | Allocations: 14883)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 37.8ms | ActiveRecord: 0.3ms | Allocations: 18940)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:38:52 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"D0IZhQb6FTJEGlv3XzfT1NLs7n6qTaVpaModaavRwWlNLDXSV8BAssWNKltvnp04a2G2t76UszLIx6C1gJsS5Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"233"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '233') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '233') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 24ms (ActiveRecord: 4.8ms | Allocations: 9656)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:39:42 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 57.0ms | Allocations: 32636)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 111ms (Views: 67.7ms | ActiveRecord: 9.6ms | Allocations: 57747)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:39:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"qutgIa4tyGweH55CznKkA3UXEdBIlOoimqmHrIB2AGDohUx2/xed7J+I7+7+2+rvzJpJGVxN/Hk6pDpwqzzT7A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2134"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2134') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2134') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 37ms (ActiveRecord: 6.1ms | Allocations: 7488)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:39:49 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 27.3ms | Allocations: 14861)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 0.3ms | Allocations: 18918)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:41:35 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 35.0ms | Allocations: 18257)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 38.9ms | ActiveRecord: 7.4ms | Allocations: 33458)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:41:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"+cYrzF25E1PCxne5jCG7VlA8z3AnJW8UfbVK+Mc3qGW7qAebDING00NRBhW8iPW66bGXuTP8eU/duPck7H176Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"21342134"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '21342134') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '21342134') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 7.5ms | Allocations: 8334)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:47:53 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 38.1ms | Allocations: 18155)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 45.5ms | ActiveRecord: 0.5ms | Allocations: 32976)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:48:00 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"lzAFrxNLazgKM4GuuAcCPiriH+xeZgiHHV8kN7N5Y6PVXin4QnE+uIuk8AKIrkzSk29HJUq/Hty9UpnrmDOwLw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12334"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12334') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12334') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 10.5ms | Allocations: 1871)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 2.5ms | Allocations: 8821)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    4:   </div>
    5: <% end %>
    6: <h1> Saling </h1>
    7: <%= simple_form_for @order do |f| %>
    8:     <%= simple_fields_for :customer do |ff| %>
    9:       <%= ff.input :name, label: 'Name: ' %>
   10:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:7
app/controllers/orders_controller.rb:38:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:48:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 34.6ms | Allocations: 18286)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 37.6ms | ActiveRecord: 8.4ms | Allocations: 33525)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:48:55 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"erEEHnsr2lz8nSdySsQM7ZGG9NVHAmzTNmd1RrX2OHM43yhJKhGP3H0KVt56bUIBKAusHFPbeoiWasianrzr/w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"21341"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '21341') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '21341') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 5.4ms | Allocations: 6955)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:50:16 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:42: syntax error, unexpected keyword_end
          end    
          ^~~
/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:54: syntax error, unexpected keyword_end, expecting '}'):
  
app/controllers/orders_controller.rb:42: syntax error, unexpected keyword_end
app/controllers/orders_controller.rb:54: syntax error, unexpected keyword_end, expecting '}'
app/controllers/orders_controller.rb:42: syntax error, unexpected keyword_end
app/controllers/orders_controller.rb:54: syntax error, unexpected keyword_end, expecting '}'
app/controllers/orders_controller.rb:42: syntax error, unexpected keyword_end
app/controllers/orders_controller.rb:54: syntax error, unexpected keyword_end, expecting '}'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:50:45 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 39.2ms | Allocations: 18281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 42.6ms | ActiveRecord: 7.5ms | Allocations: 33548)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:50:52 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"OeVFJrteW57LEphVJTEty4mtBd2fvwlo3zkVGRjern17i2lx6mQOHkqF6fkVmGMnMCBdFItmHzN/NKjFM5R98Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2352345"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2352345') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2352345') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
No template found for OrdersController#create, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 3.2ms | Allocations: 11498)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:51:33 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 33.2ms | Allocations: 18282)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 35.7ms | ActiveRecord: 7.2ms | Allocations: 33503)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:51:50 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"xM+NhiK7Rk7vRCRsfKpM4JsNP6GFT/bClxVFD7wdmqWGoaHRc4ETzm7TVcBMAwIMIoBnaJGW4Jk3GPjTl1dJKQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"21341342"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '21341342') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '21341342') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1213)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 4.8ms | Allocations: 8341)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    4:   </div>
    5: <% end %>
    6: <h1> Saling </h1>
    7: <%= simple_form_for @order do |f| %>
    8:     <%= simple_fields_for :customer do |ff| %>
    9:       <%= ff.input :name, label: 'Name: ' %>
   10:       <%= ff.input :phone, label: 'Phone: ' %>
  
app/views/orders/new.html.erb:7
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:54:06 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 34.4ms | Allocations: 18281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 37.2ms | ActiveRecord: 8.0ms | Allocations: 33499)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:54:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"cQdHchLj0cTbVONl4W5VsADy5rU5LD0e0Ld/z/UyojwzaWslQ9mERFrDksnRxxtcuX++fC31K0VwusIT3nhxsA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1342342"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1342342') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1342342') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 4)
Completed 200 OK in 81ms (Views: 39.2ms | ActiveRecord: 9.3ms | Allocations: 7258)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:54:49 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 42.0ms | Allocations: 18303)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 43.9ms | ActiveRecord: 7.1ms | Allocations: 33523)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 00:56:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"LarZts7C4t+M1j1IMBt0moM0HH4Bp5Zj5Kkr6c1xdHVvxPXhn/i3Xw1BTOQAsjp2OrlEtxV+gDhEpJY15jun+Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"342134"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '342134') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '342134') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 47ms (Views: 0.8ms | ActiveRecord: 8.5ms | Allocations: 11534)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 00:56:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 35.5ms | Allocations: 14887)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 39.8ms | ActiveRecord: 0.2ms | Allocations: 18945)


  [1m[36mInventory Load (36.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from __pry__ at (pry):2)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Load (6.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 20], ["updated_at", "2020-03-02 02:42:18.137157"], ["id", 1]]
  [1m[35m (33.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = 1) LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from __pry__ at (pry):2)
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from __pry__ at (pry):3)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 50], ["updated_at", "2020-03-02 02:52:12.238775"], ["id", 1]]
  [1m[35m (10.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2020-03-02 09:54:45 +0700
  [1m[35m (29.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 78.6ms | Allocations: 20253)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 297ms (Views: 268.6ms | ActiveRecord: 10.1ms | Allocations: 29781)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 09:54:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 165.6ms | Allocations: 29908)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 229ms (Views: 170.4ms | ActiveRecord: 7.8ms | Allocations: 47766)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 09:55:03 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"sulNxsZ+KjI3btvmFFC2qC925C9N+d9gA1CY/dTjHHG87R+jkvjGa+peVCfarwfskHMfzW5BiN+ajk2gokfviA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"32352"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '32352') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '32352') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 0.7ms | Allocations: 3546)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 09:55:21 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"sulNxsZ+KjI3btvmFFC2qC925C9N+d9gA1CY/dTjHHG87R+jkvjGa+peVCfarwfskHMfzW5BiN+ajk2gokfviA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"49"}, "1"=>{"product_id"=>"2", "quantity"=>"22"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '49') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '22') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '49') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '22') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 4)
Completed 200 OK in 19ms (Views: 1.6ms | ActiveRecord: 1.8ms | Allocations: 3284)


Started GET "/" for 127.0.0.1 at 2020-03-02 09:55:30 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (2.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 23.6ms | Allocations: 3986)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 26.6ms | ActiveRecord: 4.8ms | Allocations: 7866)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-02 09:55:33 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 47.2ms | Allocations: 10190)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 52.0ms | ActiveRecord: 0.6ms | Allocations: 14722)


Started PATCH "/products/3" for 127.0.0.1 at 2020-03-02 09:55:35 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"Efr0DnXLIZJdmIuv89sdXiigFM2bmKXP79HKOJaQ87xFGvwY2YGVrb/cboMTw+s4oQH09Ne631jEBRd79eU1hA==", "product"=>{"name"=>"Quyt", "price"=>"3000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"3"}}, "commit"=>"Save", "id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-03-02 02:55:35.531398"], ["id", 3]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (162.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 182ms (ActiveRecord: 164.5ms | Allocations: 4857)


Started GET "/" for 127.0.0.1 at 2020-03-02 09:55:36 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 20.6ms | Allocations: 3968)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 25.1ms | ActiveRecord: 2.5ms | Allocations: 7836)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 09:55:42 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 32.6ms | Allocations: 14943)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 37.4ms | ActiveRecord: 0.3ms | Allocations: 19004)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 09:55:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ZvoHN7LdfQYMyGo4y7+1DRIAksU06h4mxqWkRQ9Y/Q5o/lVS5luRX9H45fkFQARJrQVpJxdSSZlfe3EYefwO9w==", "customer"=>{"name"=>"daycd", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"49"}, "1"=>{"product_id"=>"3", "quantity"=>"22"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '49') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '22') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (50.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:46:in `create'
  [1m[36mCustomer Create (69.3ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "daycd"], ["phone", ""], ["created_at", "2020-03-02 02:55:54.292364"], ["updated_at", "2020-03-02 02:55:54.292364"]]
  ↳ app/services/order_services/create_order_service.rb:46:in `create'
  [1m[35m (15.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:46:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (86.1ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 02:55:54.419691"], ["updated_at", "2020-03-02 02:55:54.419691"], ["customer_id", 4]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (73.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 9], ["price", 10000.0], ["quantity", 49], ["created_at", "2020-03-02 02:55:54.509421"], ["updated_at", "2020-03-02 02:55:54.509421"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 9], ["price", 3000.0], ["quantity", 22], ["created_at", "2020-03-02 02:55:54.587267"], ["updated_at", "2020-03-02 02:55:54.587267"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
Completed 500 Internal Server Error in 605ms (ActiveRecord: 325.0ms | Allocations: 124032)


  
TypeError (String can't be coerced into Integer):
  
app/services/order_services/create_order_service.rb:37:in `-'
app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
app/services/order_services/create_order_service.rb:34:in `update_inventory'
app/services/order_services/create_order_service.rb:56:in `create'
app/controllers/orders_controller.rb:34:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 09:56:39 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 48.0ms | Allocations: 32672)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 89ms (Views: 55.2ms | ActiveRecord: 8.0ms | Allocations: 58931)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 09:57:47 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"NxQ7zWOD9mLMTfvyRm4Qx7vFSbZhRQH4qGQ7eg/toOc5EGmoNwUaOxF9dDOIkaGDBMCyVEL9Vkcxuu4neUlTHg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"22"}, "1"=>{"product_id"=>"3", "quantity"=>"11"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '22') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '11') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 02:57:47.926157"], ["updated_at", "2020-03-02 02:57:47.926157"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 10], ["price", 10000.0], ["quantity", 22], ["created_at", "2020-03-02 02:57:47.928138"], ["updated_at", "2020-03-02 02:57:47.928138"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 10], ["price", 3000.0], ["quantity", 11], ["created_at", "2020-03-02 02:57:47.930107"], ["updated_at", "2020-03-02 02:57:47.930107"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[35m (186.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
Completed 500 Internal Server Error in 30469ms (ActiveRecord: 196.4ms | Allocations: 53051)


  
TypeError (String can't be coerced into Integer):
  
app/services/order_services/create_order_service.rb:39:in `-'
app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
app/services/order_services/create_order_service.rb:34:in `update_inventory'
app/services/order_services/create_order_service.rb:58:in `create'
app/controllers/orders_controller.rb:34:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 09:58:32 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 47.5ms | Allocations: 32672)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 54.3ms | ActiveRecord: 7.4ms | Allocations: 58931)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 09:58:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"adxxi53qjNfbwcrFUx13gPodmBOsTPvgl7bL6hcS5MFn2CPuyWxgjgbxRQSd4sbERRhj8Y/0rF8OaB63YbYXOA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"49"}, "1"=>{"product_id"=>"3", "quantity"=>"22"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '49') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '22') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 02:58:42.919491"], ["updated_at", "2020-03-02 02:58:42.919491"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 11], ["price", 10000.0], ["quantity", 49], ["created_at", "2020-03-02 02:58:42.922319"], ["updated_at", "2020-03-02 02:58:42.922319"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 11], ["price", 3000.0], ["quantity", 22], ["created_at", "2020-03-02 02:58:42.924794"], ["updated_at", "2020-03-02 02:58:42.924794"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[35m (18.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 1], ["updated_at", "2020-03-02 02:58:46.458973"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (33.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 78], ["updated_at", "2020-03-02 02:58:48.355061"], ["id", 3]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (92.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '49') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '22') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 5620ms (Views: 1.4ms | ActiveRecord: 166.5ms | Allocations: 60553)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 09:58:54 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 30.0ms | Allocations: 14905)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.8ms | ActiveRecord: 0.3ms | Allocations: 18973)


Started GET "/" for 127.0.0.1 at 2020-03-02 10:01:37 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 38.9ms | Allocations: 21015)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 41.5ms | ActiveRecord: 7.3ms | Allocations: 30631)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-02 10:01:41 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 41.9ms | Allocations: 24129)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 45.8ms | ActiveRecord: 0.6ms | Allocations: 28685)


Started PATCH "/products/3" for 127.0.0.1 at 2020-03-02 10:01:44 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"vXEmjB6NLgRMTnVgJuYwlMpr5CZSeTG7UhQVsHDecJLpkS6asseaO64KkEzG/sbyQ8oEHx5bSyx5wMjzE6u2qg==", "product"=>{"name"=>"Quyt", "price"=>"3000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"3"}}, "commit"=>"Save", "id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-03-02 03:01:44.362566"], ["id", 3]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (1015.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 1029ms (ActiveRecord: 1016.4ms | Allocations: 4901)


Started GET "/" for 127.0.0.1 at 2020-03-02 10:01:45 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 24.2ms | Allocations: 4698)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 30.9ms | ActiveRecord: 3.5ms | Allocations: 8565)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-03-02 10:01:47 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 17.1ms | Allocations: 9272)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 21.9ms | ActiveRecord: 0.5ms | Allocations: 13564)


Started PATCH "/products/1" for 127.0.0.1 at 2020-03-02 10:01:50 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"5FS7Etedh8azclzyAe4Bi9sThB+lCakmscPZ7u07GaXjRh7JuTSBF+XrL+Wg1hMZCSscHAxBC+yB45q3fesOBw==", "product"=>{"name"=>"Sua", "price"=>"10000.0", "inventory_attributes"=>{"quantity"=>"1000", "id"=>"1"}}, "commit"=>"Save", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 1000], ["updated_at", "2020-03-02 03:01:50.891439"], ["id", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (469.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 483ms (ActiveRecord: 471.2ms | Allocations: 4591)


Started GET "/" for 127.0.0.1 at 2020-03-02 10:01:51 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 3968)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 20.1ms | ActiveRecord: 3.0ms | Allocations: 7839)


Started GET "/products/2/edit" for 127.0.0.1 at 2020-03-02 10:01:53 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 18.5ms | Allocations: 9268)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.4ms | ActiveRecord: 0.5ms | Allocations: 13541)


Started PATCH "/products/2" for 127.0.0.1 at 2020-03-02 10:01:56 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"iGJzzMonmbEK8zIkeZk8ZkQnVYNNe/6g0/Vb3YfJZQ2Sajq8941wLycOjEp/eC9tjsvY9+xffjJSlZrX0+Mn+Q==", "product"=>{"name"=>"Cam", "price"=>"5000.0", "inventory_attributes"=>{"quantity"=>"50", "id"=>"2"}}, "commit"=>"Save", "id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 50], ["updated_at", "2020-03-02 03:01:56.403545"], ["id", 2]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (1240.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 1254ms (ActiveRecord: 1241.8ms | Allocations: 4570)


Started GET "/" for 127.0.0.1 at 2020-03-02 10:01:57 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 3967)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 24.7ms | ActiveRecord: 2.5ms | Allocations: 7833)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 10:02:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 26.6ms | Allocations: 15954)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 30.9ms | ActiveRecord: 4.5ms | Allocations: 33785)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 10:02:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"qW76ZhXzkg5rt0M8xNrJkcJk5Hps1iMLmXRADiK6Kg+naqgDQXV+V7aHzP0KJXjVfWEfmE9udLQAqpVTVB7Z9g==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"19"}, "1"=>{"product_id"=>"2", "quantity"=>"5"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '19') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 03:02:18.378272"], ["updated_at", "2020-03-02 03:02:18.378272"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 12], ["price", 10000.0], ["quantity", 19], ["created_at", "2020-03-02 03:02:18.380919"], ["updated_at", "2020-03-02 03:02:18.380919"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 12], ["price", 5000.0], ["quantity", 5], ["created_at", "2020-03-02 03:02:18.383517"], ["updated_at", "2020-03-02 03:02:18.383517"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (407.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '19') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 981], ["updated_at", "2020-03-02 03:02:37.670248"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (39.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 45], ["updated_at", "2020-03-02 03:02:37.725599"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (12.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '19') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 19411ms (ActiveRecord: 475.1ms | Allocations: 58617)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 10:02:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 31.2ms | Allocations: 14964)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 35.2ms | ActiveRecord: 0.2ms | Allocations: 19021)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 10:03:07 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"3SsfzhRt7tChm4oiHorfOu+8XsTAjMAtrdX+Arw5Qc/TL02rQOsCiXyrBePQdW5+ULmlJuM0l5I0Cytfyp2yNg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1000"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1000') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (2.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1000') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 4)
Completed 200 OK in 182ms (Views: 162.6ms | ActiveRecord: 3.2ms | Allocations: 104957)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 10:03:13 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"3SsfzhRt7tChm4oiHorfOu+8XsTAjMAtrdX+Arw5Qc/TL02rQOsCiXyrBePQdW5+ULmlJuM0l5I0Cytfyp2yNg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"10"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 03:03:13.611442"], ["updated_at", "2020-03-02 03:03:13.611442"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 13], ["price", 10000.0], ["quantity", 10], ["created_at", "2020-03-02 03:03:13.615396"], ["updated_at", "2020-03-02 03:03:13.615396"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 13], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-02 03:03:13.619838"], ["updated_at", "2020-03-02 03:03:13.619838"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (27.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 971], ["updated_at", "2020-03-02 03:03:15.593866"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (928.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 44], ["updated_at", "2020-03-02 03:03:16.535395"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 2987ms (ActiveRecord: 983.5ms | Allocations: 36869)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 10:03:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 28.4ms | Allocations: 14972)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 33.2ms | ActiveRecord: 0.2ms | Allocations: 19028)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 10:16:59 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 52.3ms | Allocations: 32672)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 99ms (Views: 60.3ms | ActiveRecord: 8.4ms | Allocations: 58934)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:17:05 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for OrdersController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:18:20 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"index"}
Completed 406 Not Acceptable in 2ms (ActiveRecord: 0.0ms | Allocations: 1940)


  
ActionController::MissingExactTemplate (OrdersController#show is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:19:00 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"index"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:11:in `show'
Completed 404 Not Found in 9ms (ActiveRecord: 3.1ms | Allocations: 3751)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=index):
  
app/controllers/orders_controller.rb:11:in `show'
Started GET "/" for 127.0.0.1 at 2020-03-02 10:19:58 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 28.0ms | Allocations: 15587)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 33.5ms | ActiveRecord: 5.5ms | Allocations: 20568)


Started GET "/products/new" for 127.0.0.1 at 2020-03-02 10:20:01 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 204.2ms | Allocations: 5923)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 214ms (Views: 212.6ms | ActiveRecord: 0.0ms | Allocations: 9819)


Started POST "/products" for 127.0.0.1 at 2020-03-02 10:20:15 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"L9LEK56C3Ni9bw4Myn+GK6cuYadHcr1GGbpOtFzbaFbA1R8pRKb3YiD93cAcoH7JFEojSpba4Okq2A6EtSG76g==", "product"=>{"name"=>"Sushi", "price"=>"13000"}, "commit"=>"Create"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (47.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Sushi"], ["price", 13000.0], ["created_at", "2020-03-02 03:20:15.712256"], ["updated_at", "2020-03-02 03:20:15.712256"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (77.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (50.0ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 4], ["quantity", 0], ["created_at", "2020-03-02 03:20:15.842193"], ["updated_at", "2020-03-02 03:20:15.842193"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (76.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 265ms (ActiveRecord: 251.9ms | Allocations: 5149)


Started GET "/" for 127.0.0.1 at 2020-03-02 10:20:15 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 18.7ms | Allocations: 5558)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 20.6ms | ActiveRecord: 3.4ms | Allocations: 9435)


Started GET "/products/new" for 127.0.0.1 at 2020-03-02 10:20:18 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 13.3ms | Allocations: 5446)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.0ms | Allocations: 9195)


Started POST "/products" for 127.0.0.1 at 2020-03-02 10:20:26 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"k8opnqjTIeUkjeibJU+iTd+7qZGICY+eDf9By8K6hAV8zfKccvcKX7kfO1fzkFqvbN/rfFmh0jE+nQH7K0BXuQ==", "product"=>{"name"=>"Rau Cau", "price"=>"8000"}, "commit"=>"Create"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Rau Cau"], ["price", 8000.0], ["created_at", "2020-03-02 03:20:26.681334"], ["updated_at", "2020-03-02 03:20:26.681334"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (220.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 5], ["quantity", 0], ["created_at", "2020-03-02 03:20:26.907992"], ["updated_at", "2020-03-02 03:20:26.907992"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (402.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 638ms (ActiveRecord: 624.6ms | Allocations: 4844)


Started GET "/" for 127.0.0.1 at 2020-03-02 10:20:27 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 6375)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 27.4ms | ActiveRecord: 3.3ms | Allocations: 10250)


Started GET "/products/new" for 127.0.0.1 at 2020-03-02 10:20:28 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 12.4ms | Allocations: 5435)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.1ms | ActiveRecord: 0.0ms | Allocations: 9180)


Started POST "/products" for 127.0.0.1 at 2020-03-02 10:20:49 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"2U7CXTZAqrGIIspx0oewLSTHFnJ+YpRllsbPcJ/TzAc2SRlf7GSBCxWwGb0EWEjPl6NUn6/KycqlpI9Adikfuw==", "product"=>{"name"=>"Banh Mi KHONG CO", "price"=>"100000"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Banh Mi KHONG CO"], ["price", 100000.0], ["created_at", "2020-03-02 03:20:49.779610"], ["updated_at", "2020-03-02 03:20:49.779610"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (38.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 6], ["quantity", 0], ["created_at", "2020-03-02 03:20:49.822521"], ["updated_at", "2020-03-02 03:20:49.822521"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (53.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 102ms (ActiveRecord: 93.6ms | Allocations: 4836)


Started GET "/" for 127.0.0.1 at 2020-03-02 10:20:49 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 7217)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 17.5ms | ActiveRecord: 2.2ms | Allocations: 11083)


Started GET "/products/new" for 127.0.0.1 at 2020-03-02 10:20:51 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 14.3ms | Allocations: 5435)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.0ms | Allocations: 9191)


Started POST "/products" for 127.0.0.1 at 2020-03-02 10:20:57 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"4vM/NmKhapi7qBDKtOJeDBl6N84eUDfJCIOuCtN7A1YN9OQ0uIVBIiY6wwZiPabuqh51I8/4amY74e46OoHQ6g==", "product"=>{"name"=>"Banh mi SG", "price"=>"2000"}, "commit"=>"Create"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Banh mi SG"], ["price", 2000.0], ["created_at", "2020-03-02 03:20:57.744752"], ["updated_at", "2020-03-02 03:20:57.744752"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (53.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 7], ["quantity", 0], ["created_at", "2020-03-02 03:20:57.803880"], ["updated_at", "2020-03-02 03:20:57.803880"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (110.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 178ms (ActiveRecord: 165.6ms | Allocations: 4835)


Started GET "/" for 127.0.0.1 at 2020-03-02 10:20:57 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (4.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 30.3ms | Allocations: 8061)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 28.6ms | ActiveRecord: 7.6ms | Allocations: 11927)


Started GET "/products/new" for 127.0.0.1 at 2020-03-02 10:21:01 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 13.9ms | Allocations: 5438)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.0ms | Allocations: 9191)


Started POST "/products" for 127.0.0.1 at 2020-03-02 10:21:12 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"bqsOnxXzVTbQdihZrwmAFPj+RnxNRlQHGYg7eT9B5WSBrNWdz9d+jE3k+5V51nj2S5oEkZzuCagq6ntJ1rs22A==", "product"=>{"name"=>"Banh Bao", "price"=>"17000"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Banh Bao"], ["price", 17000.0], ["created_at", "2020-03-02 03:21:12.267903"], ["updated_at", "2020-03-02 03:21:12.267903"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (18.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 8], ["quantity", 0], ["created_at", "2020-03-02 03:21:12.292536"], ["updated_at", "2020-03-02 03:21:12.292536"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (29.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 60ms (ActiveRecord: 49.2ms | Allocations: 4844)


Started GET "/" for 127.0.0.1 at 2020-03-02 10:21:12 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 16.3ms | Allocations: 8905)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 17.7ms | ActiveRecord: 2.4ms | Allocations: 12775)


Started GET "/products/new" for 127.0.0.1 at 2020-03-02 10:21:14 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 13.9ms | Allocations: 5454)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.0ms | Allocations: 9207)


Started POST "/products" for 127.0.0.1 at 2020-03-02 10:21:25 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"kgfy6xKcmgTNJ2AqWFfg534X7C9a8bhDG0HPfrlxnrB9ACnpyLixvlC1s+aOiBgFzXOuwotZ5ewoI49OUItNDA==", "product"=>{"name"=>"Snack", "price"=>"6000"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Snack"], ["price", 6000.0], ["created_at", "2020-03-02 03:21:25.955563"], ["updated_at", "2020-03-02 03:21:25.955563"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (28.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 9], ["quantity", 0], ["created_at", "2020-03-02 03:21:25.989504"], ["updated_at", "2020-03-02 03:21:25.989504"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (26.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 69ms (ActiveRecord: 56.5ms | Allocations: 4834)


Started GET "/" for 127.0.0.1 at 2020-03-02 10:21:26 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 27.8ms | Allocations: 9747)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 28.5ms | ActiveRecord: 3.6ms | Allocations: 13612)


Started GET "/products/new" for 127.0.0.1 at 2020-03-02 10:21:32 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 13.7ms | Allocations: 5435)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.0ms | Allocations: 9188)


Started POST "/products" for 127.0.0.1 at 2020-03-02 10:21:42 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"3DV+CBNMRD4cCJli7k8+W6IEDquiAeSIHmvHQHQSXmIzMqUKyWhvhIGaSq44kMa5EWBMRnOpuSctCYdwneiN3g==", "product"=>{"name"=>"Khau Trang ", "price"=>"45000"}, "commit"=>"Create"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Khau Trang "], ["price", 45000.0], ["created_at", "2020-03-02 03:21:42.886013"], ["updated_at", "2020-03-02 03:21:42.886013"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 10], ["quantity", 0], ["created_at", "2020-03-02 03:21:42.923210"], ["updated_at", "2020-03-02 03:21:42.923210"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (41.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 84ms (ActiveRecord: 74.6ms | Allocations: 4837)


Started GET "/" for 127.0.0.1 at 2020-03-02 10:21:42 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 21.1ms | Allocations: 10590)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 22.7ms | ActiveRecord: 2.7ms | Allocations: 14459)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:28:16 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"index"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:11:in `show'
Completed 404 Not Found in 3ms (ActiveRecord: 0.6ms | Allocations: 1201)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=index):
  
app/controllers/orders_controller.rb:11:in `show'
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:29:56 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"index"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:11:in `show'
Completed 404 Not Found in 14ms (ActiveRecord: 3.8ms | Allocations: 5314)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=index):
  
app/controllers/orders_controller.rb:11:in `show'
Started GET "/orders/1" for 127.0.0.1 at 2020-03-02 10:30:21 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:11:in `show'
Completed 406 Not Acceptable in 7ms (ActiveRecord: 0.4ms | Allocations: 5082)


  
ActionController::MissingExactTemplate (OrdersController#show is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/daycd/.rvm/gems/ruby-2.5.3/bin/rake:23)
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:31:38 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"index"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:11:in `show'
Completed 404 Not Found in 15ms (ActiveRecord: 4.0ms | Allocations: 5314)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=index):
  
app/controllers/orders_controller.rb:11:in `show'
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:32:01 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"index"}
Completed 406 Not Acceptable in 6ms (ActiveRecord: 0.0ms | Allocations: 3597)


  
ActionController::MissingExactTemplate (OrdersController#show is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:32:02 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"index"}
Completed 406 Not Acceptable in 1ms (ActiveRecord: 0.0ms | Allocations: 673)


  
ActionController::MissingExactTemplate (OrdersController#show is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:32:02 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"index"}
Completed 406 Not Acceptable in 2ms (ActiveRecord: 0.0ms | Allocations: 673)


  
ActionController::MissingExactTemplate (OrdersController#show is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:32:03 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"index"}
Completed 406 Not Acceptable in 2ms (ActiveRecord: 0.0ms | Allocations: 665)


  
ActionController::MissingExactTemplate (OrdersController#show is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:33:05 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:12
  Rendered orders/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 4392)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 13.7ms | ActiveRecord: 2.8ms | Allocations: 12905)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:33:36 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:12
  Rendered orders/index.html.erb within layouts/application (Duration: 9.6ms | Allocations: 4840)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 15.5ms | ActiveRecord: 3.7ms | Allocations: 16087)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:33:53 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:12
  Rendered orders/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 4030)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 2.4ms | Allocations: 9606)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:33:55 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:12
  Rendered orders/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1368)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.4ms | Allocations: 5205)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:33:56 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:12
  Rendered orders/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1368)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.3ms | Allocations: 5211)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:36:52 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:12
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:15
  Rendered orders/index.html.erb within layouts/application (Duration: 58.3ms | Allocations: 22978)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 58.7ms | ActiveRecord: 6.7ms | Allocations: 27663)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:53:48 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 32.4ms | Allocations: 18081)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 35.5ms | ActiveRecord: 2.4ms | Allocations: 24393)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 10:53:50 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3872)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 4488)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 10:54:20 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1161)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2372)


  
ActionView::Template::Error (No route matches {:action=>"tmp", :controller=>"orders"}):
    1: <h1>top saling</h1>
    2: <%= form_tag :action => 'tmp' do %>
    3: <p>CHoose Date</p>
    4: <%= text_field(type: 'date') %>
    5: <% end %>
  
app/views/orders/report.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:57:45 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1658)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 4507)


  
ActionView::Template::Error (No route matches {:action=>"tmp", :controller=>"orders"}):
    1: <h1>Total</h1>
    2: <%= form_tag :action => 'tmp' do %>
    3: <p>CHoose Date</p>
    4: <%= text_field(type: 'date') %>
    5: <% end %>
  
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 10:57:58 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1228)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 2454)


  
ActionView::Template::Error (wrong number of arguments (given 1, expected 2..3)):
    1: <h1>Total</h1>
    2: <%= form_tag :action => 'report' do %>
    3: <p>CHoose Date</p>
    4: <%= text_field(type: 'date') %>
    5: <% end %>
    6: <table class="table">
    7:     <thead>
  
app/views/orders/index.html.erb:4
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:01:09 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1152)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2373)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Total</h1>
<%= simple_form_for @order_detail :action => 'report' do |form| %>
    <%= form.label :starts_at_date, 'Date' %>
    <%= form.text_field :starts_at_date, id: 'date' %>
<% end %>
<table class="table">
    <thead>
        <tr>
            <th>Order</th>
            <th>User</th>
            <th>Date</th>
        </tr>
    </thead>

    <tbody>
        <% @orders.each do |o| %>
        <tr>
            <td><%= o.id %></td>
            <td><%= o.customer.name%></td>
            <td><%= o.created_at %></td>
        </tr>
        <% end %>
    </tbody>
</table>
):
1:    <h1>Total</h1>
2:    <%= simple_form_for @order_detail :action => 'report' do |form| %>
3:        <%= form.label :starts_at_date, 'Date' %>
4:        <%= form.text_field :starts_at_date, id: 'date' %>
5:    <% end %>
6:    <table class="table">
7:        <thead>
8:            <tr>
9:                <th>Order</th>
10:                <th>User</th>
11:                <th>Date</th>
12:            </tr>
13:        </thead>
14:    
15:        <tbody>
16:            <% @orders.each do |o| %>
17:            <tr>
18:                <td><%= o.id %></td>
19:                <td><%= o.customer.name%></td>
20:                <td><%= o.created_at %></td>
21:            </tr>
22:            <% end %>
23:        </tbody>
24:    </table>
  
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:26:10 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1146)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2367)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Total</h1>
<%= simple_form_for @order_detail :action => 'report' do |form| %>
    <%= form.label :created_at, 'Date' %>
    <%= form.text_field :created_at, as: :date %>
<% end %>
<table class="table">
    <thead>
        <tr>
            <th>Order</th>
            <th>User</th>
            <th>Date</th>
        </tr>
    </thead>

    <tbody>
        <% @orders.each do |o| %>
        <tr>
            <td><%= o.id %></td>
            <td><%= o.customer.name%></td>
            <td><%= o.created_at %></td>
        </tr>
        <% end %>
    </tbody>
</table>
):
1:    <h1>Total</h1>
2:    <%= simple_form_for @order_detail :action => 'report' do |form| %>
3:        <%= form.label :created_at, 'Date' %>
4:        <%= form.text_field :created_at, as: :date %>
5:    <% end %>
6:    <table class="table">
7:        <thead>
8:            <tr>
9:                <th>Order</th>
10:                <th>User</th>
11:                <th>Date</th>
12:            </tr>
13:        </thead>
14:    
15:        <tbody>
16:            <% @orders.each do |o| %>
17:            <tr>
18:                <td><%= o.id %></td>
19:                <td><%= o.customer.name%></td>
20:                <td><%= o.created_at %></td>
21:            </tr>
22:            <% end %>
23:        </tbody>
24:    </table>
  
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:26: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:29:48 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1128)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2349)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Total</h1>
<%= simple_form_for @order :action => 'report' do |form| %>
    <%= form.date_field :order, :created_at %>
<% end %>
<table class="table">
    <thead>
        <tr>
            <th>Order</th>
            <th>User</th>
            <th>Date</th>
        </tr>
    </thead>

    <tbody>
        <% @orders.each do |o| %>
        <tr>
            <td><%= o.id %></td>
            <td><%= o.customer.name%></td>
            <td><%= o.created_at %></td>
        </tr>
        <% end %>
    </tbody>
</table>
):
1:    <h1>Total</h1>
2:    <%= simple_form_for @order :action => 'report' do |form| %>
3:        <%= form.date_field :order, :created_at %>
4:    <% end %>
5:    <table class="table">
6:        <thead>
7:            <tr>
8:                <th>Order</th>
9:                <th>User</th>
10:                <th>Date</th>
11:            </tr>
12:        </thead>
13:    
14:        <tbody>
15:            <% @orders.each do |o| %>
16:            <tr>
17:                <td><%= o.id %></td>
18:                <td><%= o.customer.name%></td>
19:                <td><%= o.created_at %></td>
20:            </tr>
21:            <% end %>
22:        </tbody>
23:    </table>
  
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/index.html.erb:2: syntax error, unexpected ':', expecting keyword_end
app/views/orders/index.html.erb:2: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/orders/index.html.erb:25: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:30:07 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 51.4ms | Allocations: 17469)
Completed 500 Internal Server Error in 57ms (ActiveRecord: 0.0ms | Allocations: 18689)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Total</h1>
    2: <%= simple_form_for @order, :action => 'report' do |form| %>
    3:     <%= form.date_field :order, :created_at %>
    4: <% end %>
    5: <table class="table">
  
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:30:31 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1183)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 3437)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Total</h1>
    2: <%= simple_form_for @orders, :action => 'report' do |form| %>
    3:     <%= form.date_field :order, :created_at %>
    4: <% end %>
    5: <table class="table">
  
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:30:32 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/index.html.erb within layouts/application (Duration: 27.9ms | Allocations: 7625)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 10.4ms | Allocations: 8845)


  
ActionView::Template::Error (undefined method `to_key' for #<Order::ActiveRecord_Relation:0x00007fdd39051068>
Did you mean?  to_set
               to_ary):
    1: <h1>Total</h1>
    2: <%= simple_form_for @orders, :action => 'report' do |form| %>
    3:     <%= form.date_field :order, :created_at %>
    4: <% end %>
    5: <table class="table">
  
app/views/orders/index.html.erb:2
Started GET "/orders" for 127.0.0.1 at 2020-03-02 11:31:36 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 4365)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.5ms | Allocations: 4839)


  
ActionView::Template::Error (undefined method `to_key' for #<Order::ActiveRecord_Relation:0x00007fdd3913a6c8>
Did you mean?  to_set
               to_ary):
    1: <h1>Total</h1>
    2: <%= simple_form_for @orders, :action => 'report' do |form| %>
    3:     <%= form.date_field :order, :created_at %>
    4: <% end %>
    5: <table class="table">
  
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:33:06 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 4608)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.5ms | Allocations: 5828)


  
ActionView::Template::Error (undefined method `to_key' for #<Order::ActiveRecord_Relation:0x00007fdd3c0b9e30>
Did you mean?  to_set
               to_ary):
    1: <h1>Total</h1>
    2: <%= simple_form_for @orders, :action => 'report' do |form| %>
    3:     <%= u.text_field :date %>
    4: <% end %>
    5: <table class="table">
  
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:33:50 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 4609)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.3ms | Allocations: 5829)


  
ActionView::Template::Error (undefined method `to_key' for #<Order::ActiveRecord_Relation:0x00007fdd3c344420>
Did you mean?  to_set
               to_ary):
    1: <h1>Total</h1>
    2: <%= simple_form_for @orders, :url => {:action => "report"} do |form| %>
    3:     <%= form.text_field :date %>
    4: <% end %>
    5: <table class="table">
  
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:33:51 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/index.html.erb within layouts/application (Duration: 21.1ms | Allocations: 4360)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.7ms | Allocations: 4834)


  
ActionView::Template::Error (undefined method `to_key' for #<Order::ActiveRecord_Relation:0x00007fdd3c4a9b30>
Did you mean?  to_set
               to_ary):
    1: <h1>Total</h1>
    2: <%= simple_form_for @orders, :url => {:action => "report"} do |form| %>
    3:     <%= form.text_field :date %>
    4: <% end %>
    5: <table class="table">
  
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:33:52 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (2.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 4357)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 2.0ms | Allocations: 4830)


  
ActionView::Template::Error (undefined method `to_key' for #<Order::ActiveRecord_Relation:0x00007fdd3c55cb40>
Did you mean?  to_set
               to_ary):
    1: <h1>Total</h1>
    2: <%= simple_form_for @orders, :url => {:action => "report"} do |form| %>
    3:     <%= form.text_field :date %>
    4: <% end %>
    5: <table class="table">
  
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:33:52 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4357)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms | Allocations: 4830)


  
ActionView::Template::Error (undefined method `to_key' for #<Order::ActiveRecord_Relation:0x00007fdd3c56e0e8>
Did you mean?  to_set
               to_ary):
    1: <h1>Total</h1>
    2: <%= simple_form_for @orders, :url => {:action => "report"} do |form| %>
    3:     <%= form.text_field :date %>
    4: <% end %>
    5: <table class="table">
  
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:33:52 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (2.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 5460)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.5ms | Allocations: 6073)


  
ActionView::Template::Error (undefined method `to_key' for #<Order::ActiveRecord_Relation:0x0000558c09f82bf0>
Did you mean?  to_set
               to_ary):
    1: <h1>Total</h1>
    2: <%= simple_form_for @orders, :url => {:action => "report"} do |form| %>
    3:     <%= form.text_field :date %>
    4: <% end %>
    5: <table class="table">
  
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:34:20 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 4572)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.3ms | Allocations: 5793)


  
ActionView::Template::Error (undefined method `to_key' for #<Order::ActiveRecord_Relation:0x00007fdd3c03f5b8>
Did you mean?  to_set
               to_ary):
    1: <h1>Total</h1>
    2: <%= form_for @orders, :url => {:action => "report"} do |form| %>
    3:     <%= form.text_field :date %>
    4: <% end %>
    5: <table class="table">
  
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:35:46 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1661)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2881)


  
ActionView::Template::Error (wrong number of arguments (given 1, expected 2..3)):
    1: <h1>Total</h1>
    2: <%= form_tag :action => "report" do %>
    3:     <%= text_field :date %>
    4: <% end %>
    5: <table class="table">
    6:     <thead>
  
app/views/orders/index.html.erb:3
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:37:12 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1217)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2437)


  
ActionView::Template::Error (wrong number of arguments (given 1, expected 2..4)):
    1: <h1>Total</h1>
    2: <%= form_tag :action => "report" do %>
    3:     <%= date_select :date %>
    4: <% end %>
    5: <table class="table">
    6:     <thead>
  
app/views/orders/index.html.erb:3
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:38:58 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/index.html.erb within layouts/application (Duration: 56.7ms | Allocations: 9692)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 0.3ms | Allocations: 10912)


  
ActionView::Template::Error (undefined method `creadted_at' for #<Order::ActiveRecord_Relation:0x0000558c0cec7de8>
Did you mean?  create):
    1: <h1>Total</h1>
    2: <%= form_tag :action => "report" do %>
    3:     <%= date_select 'orders', 'creadted_at' %>
    4: <% end %>
    5: <table class="table">
    6:     <thead>
  
app/views/orders/index.html.erb:3
app/views/orders/index.html.erb:2
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 11:44:00 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 38.6ms | Allocations: 22210)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 41.8ms | ActiveRecord: 6.9ms | Allocations: 33360)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:44:02 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.2ms | Allocations: 98)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms | Allocations: 4067)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:46:26 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1633)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2861)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <h1>top saling</h1>
    2: 
    3: <%= form_for @order do |f| %>
    4:     <%= f.date_field :created_at %>
    5: <%end%>
    6: 
  
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:46:48 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 2.3ms | Allocations: 898)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 10.6ms | ActiveRecord: 2.4ms | Allocations: 9409)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:47:42 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.4ms | Allocations: 385)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.0ms | Allocations: 5169)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:48:56 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 3.0ms | Allocations: 444)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.0ms | Allocations: 5219)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:49:58 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.2ms | Allocations: 495)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 5272)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:49:59 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.9ms | Allocations: 305)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 4151)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:50:00 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.8ms | Allocations: 298)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms | Allocations: 4135)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:50:00 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.9ms | Allocations: 298)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.0ms | Allocations: 4133)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:50:01 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.4ms | Allocations: 298)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.0ms | Allocations: 4133)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:50:38 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 37.5ms | Allocations: 16618)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 46.0ms | ActiveRecord: 0.0ms | Allocations: 21302)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:50:39 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.7ms | Allocations: 326)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 4159)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 11:52:26 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.5ms | Allocations: 515)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms | Allocations: 5289)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 11:52:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ECYjQpxSEY3t8jv6lZSMnKHVJ8s/9Cun+d53jL3EyxEeInEnyNT91DDCtDtbaz3YHtDcKRxMfBhgAKLRy2A46A==", "order"=>{"created_at"=>"2020-03-04"}, "commit"=>"Find"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 643)


  
ActionController::ParameterMissing (param is missing or the value is empty: customer):
  
app/controllers/orders_controller.rb:58:in `customer_params'
app/controllers/orders_controller.rb:38:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 12:15:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 31.6ms | Allocations: 21255)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 34.8ms | ActiveRecord: 8.1ms | Allocations: 40150)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 12:15:47 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 30.3ms | Allocations: 15725)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 30.5ms | ActiveRecord: 3.8ms | Allocations: 19638)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 12:15:50 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 12.5ms | Allocations: 2928)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 3551)


  
ActionView::Template::Error (undefined method `created_at2' for #<Order:0x00007f59ed0d9550>
Did you mean?  created_at
               created_at?
               created_at=):
    2: 
    3: <%= simple_form_for @order do |f| %>
    4:     <p> start_date: <%= f.date_field :created_at %> </p> 
    5:     <p> end_date: <%= f.date_field  :created_at2 %> </p> 
    6: 
    7: 
    8:     <%= f.submit "Find"%>
  
app/views/orders/report.html.erb:5
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 12:19:21 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2886)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 4117)


  
ActionView::Template::Error (undefined method `created_at2' for #<Order:0x000055dc3cda4a80>
Did you mean?  created_at
               created_at?
               created_at=):
    2: 
    3: <%= simple_form_for @order do |f| %>
    4:     <p> start_date: <%= f.date_field :created_at %> </p> 
    5:     <p> end_date: <%= f.date_field  :created_at2 %> </p> 
    6: <input type="date" id="start_date">
    7: <input type="date" id="end_date">
    8: 
  
app/views/orders/report.html.erb:5
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 12:19:22 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 10.6ms | Allocations: 2691)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 3175)


  
ActionView::Template::Error (undefined method `created_at2' for #<Order:0x00007f59ed28dec8>
Did you mean?  created_at
               created_at?
               created_at=):
    2: 
    3: <%= simple_form_for @order do |f| %>
    4:     <p> start_date: <%= f.date_field :created_at %> </p> 
    5:     <p> end_date: <%= f.date_field  :created_at2 %> </p> 
    6: <input type="date" id="start_date">
    7: <input type="date" id="end_date">
    8: 
  
app/views/orders/report.html.erb:5
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 12:19:26 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 2.6ms | Allocations: 519)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 16.8ms | ActiveRecord: 0.0ms | Allocations: 5301)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 12:20:58 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1086)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2321)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>top saling</h1>

<%= form_tag %>
    <%= text_field_tag 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
    <%= text_field_tag 'end_date', params[:end_date], placeholder: "Enter End Date" %>
    <%= submit_tag 'Search' %>
<%end%>

<table>
    <thead>
        <tr>
            <th>Name</th>
            <th></th>
        </tr>
    </thead>
</table>
):
1:    <h1>top saling</h1>
2:    
3:    <%= form_tag %>
4:        <%= text_field_tag 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
5:        <%= text_field_tag 'end_date', params[:end_date], placeholder: "Enter End Date" %>
6:        <%= submit_tag 'Search' %>
7:    <%end%>
8:    
9:    <table>
10:        <thead>
11:            <tr>
12:                <th>Name</th>
13:                <th></th>
14:            </tr>
15:        </thead>
16:    </table>
  
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 12:21:44 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1084)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2324)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>top saling</h1>

<%= form_tag action: 'find' %>
    <%= text_field_tag 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
    <%= text_field_tag 'end_date', params[:end_date], placeholder: "Enter End Date" %>
    <%= submit_tag 'Search' %>
<%end%>

<table>
    <thead>
        <tr>
            <th>Name</th>
            <th></th>
        </tr>
    </thead>
</table>
):
1:    <h1>top saling</h1>
2:    
3:    <%= form_tag action: 'find' %>
4:        <%= text_field_tag 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
5:        <%= text_field_tag 'end_date', params[:end_date], placeholder: "Enter End Date" %>
6:        <%= submit_tag 'Search' %>
7:    <%end%>
8:    
9:    <table>
10:        <thead>
11:            <tr>
12:                <th>Name</th>
13:                <th></th>
14:            </tr>
15:        </thead>
16:    </table>
  
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:18: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 12:22:01 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1199)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2438)


  
ActionView::Template::Error (No route matches {:action=>"find", :controller=>"orders"}):
    1: <h1>top saling</h1>
    2: 
    3: <%= form_tag action: 'find' do %>
    4:     <%= text_field_tag 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
    5:     <%= text_field_tag 'end_date', params[:end_date], placeholder: "Enter End Date" %>
    6:     <%= submit_tag 'Search' %>
  
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 12:22:02 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.6ms | Allocations: 990)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1483)


  
ActionView::Template::Error (No route matches {:action=>"find", :controller=>"orders"}):
    1: <h1>top saling</h1>
    2: 
    3: <%= form_tag action: 'find' do %>
    4:     <%= text_field_tag 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
    5:     <%= text_field_tag 'end_date', params[:end_date], placeholder: "Enter End Date" %>
    6:     <%= submit_tag 'Search' %>
  
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 12:22:36 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.9ms | Allocations: 744)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 4889)


Started POST "/orders/find" for 127.0.0.1 at 2020-03-02 12:23:24 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/find"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 13:31:59 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.8ms | Allocations: 741)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 4683)


Started POST "/orders/find" for 127.0.0.1 at 2020-03-02 13:32:04 +0700
Processing by OrdersController#find as HTML
  Parameters: {"authenticity_token"=>"hlDXKK4csfO6c0PBVED0WJ0c4TtwTfZtg0WmVNOxx4GIVIVN+ppdqmdDzACav0UcIhka2VP1odIam3MJpRU0eA==", "start_date"=>"26/2/2019", "end_date"=>"22/11/2020", "commit"=>"Search"}
No template found for OrdersController#find, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 0.0ms | Allocations: 1679)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 13:38:13 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.1ms | Allocations: 496)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 5225)


Started POST "/orders/find" for 127.0.0.1 at 2020-03-02 13:38:18 +0700
Processing by OrdersController#find as HTML
  Parameters: {"authenticity_token"=>"oQcU1uh5xNk2f407Yyzhhl0xqtY5BatroocWTKF7ufevA0azvP8ogOtPAvqt01DC4jRRNBq9/NQ7WcMR199KDg==", "start_date"=>"2020-03-03", "end_date"=>"2020-03-19", "commit"=>"Search"}
No template found for OrdersController#find, rendering head :no_content
Completed 204 No Content in 5ms (ActiveRecord: 0.0ms | Allocations: 1663)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 13:38:28 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.7ms | Allocations: 1388)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2009)


  
ActionView::Template::Error (No route matches {:action=>"find", :controller=>"orders"}):
    1: <h1>top saling</h1>
    2: 
    3: <%= form_tag action: 'find' do %>
    4:     <%= date_field_tag 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
    5:     <%= date_field_tag 'end_date', params[:end_date], placeholder: "Enter End Date" %>
    6:     <%= submit_tag 'Search' %>
  
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 13:38:36 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.2ms | Allocations: 747)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.0ms | Allocations: 4697)


Started POST "/orders/find" for 127.0.0.1 at 2020-03-02 13:38:41 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/find"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (created_at = '2020-03-02') LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" IN ($1, $2, $3)[0m  [["id", nil], ["id", 2020], ["id", 2020]]
  [1m[36mOrder Load (32.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (date(created_at) BETWEEN '2020-28-02' AND '2020-03-02' )[0m
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (date(created_at) BETWEEN '2020-28-02' AND '2020-03-02' ) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" IN ($1, $2)[0m  [["id", nil], ["id", nil]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" IN ($1, $2)[0m  [["id", nil], ["id", nil]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-02-28 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
Started GET "/orders/re" for 127.0.0.1 at 2020-03-02 14:01:55 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"re"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:11:in `show'
Completed 404 Not Found in 14ms (ActiveRecord: 3.2ms | Allocations: 5318)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=re):
  
app/controllers/orders_controller.rb:11:in `show'
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 14:01:59 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1666)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2902)


  
ActionView::Template::Error (wrong number of arguments (given 4, expected 1..3)):
    1: <h1>top saling</h1>
    2: 
    3: <%= form_tag action: 'find' do %>
    4:     <%= date_field_tag 'orders', 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
    5:     <%= date_field_tag 'orders', 'end_date', params[:end_date], placeholder: "Enter End Date" %>
    6:     <%= submit_tag 'Search' %>
    7: <%end%>
  
app/views/orders/report.html.erb:4
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 14:03:09 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.8ms | Allocations: 969)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1443)


  
ActionView::Template::Error (wrong number of arguments (given 4, expected 1..3)):
    1: <h1>top saling</h1>
    2: 
    3: <%= form_tag action: 'find' do %>
    4:     <%= date_field_tag 'orders', 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
    5:     <%= date_field_tag 'orders', 'end_date', params[:end_date], placeholder: "Enter End Date" %>
    6:     <%= submit_tag 'Search' %>
    7: <%end%>
  
app/views/orders/report.html.erb:4
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 14:03:15 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.1ms | Allocations: 969)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1442)


  
ActionView::Template::Error (wrong number of arguments (given 4, expected 1..3)):
    1: <h1>top saling</h1>
    2: 
    3: <%= form_tag action: 'find' do %>
    4:     <%= date_field_tag 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
    5:     <%= date_field_tag 'end_date', params[:end_date], placeholder: "Enter End Date" %>
    6:     <%= submit_tag 'Search' %>
    7: <%end%>
  
app/views/orders/report.html.erb:4
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 14:03:30 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1271)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 13.2ms | ActiveRecord: 0.0ms | Allocations: 9145)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 14:03:50 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1820)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3004)


  
ActionView::Template::Error (wrong number of arguments (given 4, expected 1..3)):
    1: <h1>top saling</h1>
    2: 
    3: <%= form_tag action: 'find' do %>
    4:     <%= date_field_tag 'orders', 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
    5:     <%= date_field_tag 'orders', 'end_date', params[:end_date], placeholder: "Enter End Date" %>
    6:     <%= submit_tag 'Search' %>
    7: <%end%>
  
app/views/orders/report.html.erb:4
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 14:04:01 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2574)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 4778)


  
ActionView::Template::Error (wrong number of arguments (given 4, expected 1..3)):
    1: <h1>top saling</h1>
    2: 
    3: <%= form_tag action: 'find' do %>
    4:     <%= date_field_tag 'orders', 'start_date', params[:start_date], placeholder: "Enter Start Date" %>
    5:     <%= date_field_tag 'orders', 'end_date', params[:end_date], placeholder: "Enter End Date" %>
    6:     <%= submit_tag 'Search' %>
    7: <%end%>
  
app/views/orders/report.html.erb:4
app/views/orders/report.html.erb:3
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 14:04:12 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.4ms | Allocations: 512)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 7359)


Started POST "/orders/find" for 127.0.0.1 at 2020-03-02 14:04:17 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/find"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-03-02 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "prod"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "prod" LIMIT $3[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"], ["LIMIT", 11]]
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "prod"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[36mOrderDetail Load (1.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "prod" LIMIT $3[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"], ["LIMIT", 11]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" >= $1 AND "order_details"."created_at" < $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" >= $1 AND "order_details"."created_at" < $2[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" >= $1 AND "order_details"."created_at" < $2[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-02 00:00:00"]]
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" = $1[0m  [["created_at", "2020-03-02 00:00:00"]]
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[36mOrderDetail Load (0.7ms)[0m  [1m[34mSELECT SUM(quantity) as temp FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY temp desc[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[36mOrderDetail Load (1.3ms)[0m  [1m[34mSELECT "order_details"."id", SUM(quantity) as temp FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY temp desc[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[36mOrderDetail Load (1.0ms)[0m  [1m[34mSELECT "order_details"."id", SUM(quantity) as temp FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY temp desc LIMIT $3[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"], ["LIMIT", 11]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity ASC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 14:36:18 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1271)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 12.8ms | ActiveRecord: 0.0ms | Allocations: 9145)


Started POST "/orders/find" for 127.0.0.1 at 2020-03-02 14:36:28 +0700
Processing by OrdersController#find as HTML
  Parameters: {"authenticity_token"=>"43tGJIBSOAjam5370UqpuAzOXCRforq48opqxkhRCt3tfxRB1NTUUQerEjoftRj8s8unxnwa7QdrVL+bPvX5JA==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", nil], ["created_at", nil]]
  ↳ app/controllers/orders_controller.rb:49:in `find'
No template found for OrdersController#find, rendering head :no_content
Completed 204 No Content in 50019ms (ActiveRecord: 3.1ms | Allocations: 30745)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 14:37:50 +0700
Processing by OrdersController#report as HTML
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.8ms | Allocations: 751)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms | Allocations: 4692)


Started POST "/orders/find" for 127.0.0.1 at 2020-03-02 14:37:54 +0700
Processing by OrdersController#find as HTML
  Parameters: {"authenticity_token"=>"9ZodIjPKbxG+pk5wlDKSnHwYerqsTga4HwmVPEjSu//7nk9HZ0yDSGOWwbFazSPYwx2BWI/2UQeG10BhPnZIBg==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `find'
No template found for OrdersController#find, rendering head :no_content
Completed 204 No Content in 98570ms (ActiveRecord: 4.0ms | Allocations: 10463)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 14:53:41 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 52.7ms | Allocations: 21383)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 51.2ms | ActiveRecord: 8.0ms | Allocations: 28289)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-02 14:53:45 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 1.2ms | Allocations: 493)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms | Allocations: 4422)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 14:53:50 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"FgUpMPXfMiciCM//JtYvDQd9oAk5vMd3muEGk9mAagWXuvu2DfbvX0z6XJAHfccd/WQQ1Vb3Jf8QWzEoSfIFhQ==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (1.5ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2030)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.5ms | Allocations: 4475)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
     7:     </thead>
     8: 
     9:     <tbody>
    10:         <%= @lists.each do |l|%>
    11:         <tr>
    12:             <td><%= l.keys %></td>
    13:             <td><%= l.values %></td>
  
app/views/orders/report.html.erb:10
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 14:54:15 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 22.1ms | Allocations: 9904)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 28.1ms | ActiveRecord: 1.7ms | Allocations: 14675)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-02 14:54:17 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 0.9ms | Allocations: 491)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 4417)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 14:54:20 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"jDjyIomRJctZchKzwQVWgeaZj7tMWMqCgQ/mV9UtprwNhyCkcbj4szeAgdzgrr6RHIA/ZyMTKAoLtdHsRV/JPA==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (3.4ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 2.4ms | Allocations: 999)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.4ms | Allocations: 2497)


  
ActionView::Template::Error (wrong number of arguments (given 0, expected 1)):
     8: 
     9:     <tbody>
    10:         <tr>
    11:             <td><%= l.keys %></td>
    12:             <td><%= l.values %></td>
    13:         </tr>
    14:     </tbody>
  
app/views/orders/report.html.erb:11
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 14:54:56 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 22.0ms | Allocations: 9904)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 27.1ms | ActiveRecord: 1.3ms | Allocations: 14674)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-02 14:54:58 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 1.5ms | Allocations: 493)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 4424)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 14:55:01 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"xFy0HQvmCSl1fBZ23OfBCs+/WWt47hh68RzuswXvULxF42ab88/UURuOhRn9TCkaNabptxel+vJ7ptkIlZ0/PA==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1062)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.8ms | Allocations: 2577)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Quantity</th>
        </tr>
    </thead>

    <tbody>
        <%= @lists.each |k, v| do %>
        <tr>
            <td><%= k %></td>
            <td><%= v %></td>
        </tr>
        <%end%>
    </tbody>

</table>
):
1:    <table>
2:        <thead>
3:            <tr>
4:                <th>Name</th>
5:                <th>Quantity</th>
6:            </tr>
7:        </thead>
8:    
9:        <tbody>
10:            <%= @lists.each |k, v| do %>
11:            <tr>
12:                <td><%= k %></td>
13:                <td><%= v %></td>
14:            </tr>
15:            <%end%>
16:        </tbody>
17:    
18:    </table>
  
app/views/orders/report.html.erb:10: syntax error, unexpected keyword_do_block
app/views/orders/report.html.erb:20: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:10: syntax error, unexpected keyword_do_block
app/views/orders/report.html.erb:20: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:10: syntax error, unexpected keyword_do_block
app/views/orders/report.html.erb:20: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:10: syntax error, unexpected keyword_do_block
app/views/orders/report.html.erb:20: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:10: syntax error, unexpected keyword_do_block
app/views/orders/report.html.erb:20: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/report.html.erb:10: syntax error, unexpected keyword_do_block
app/views/orders/report.html.erb:20: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/index/" for 127.0.0.1 at 2020-03-02 14:55:28 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 24.1ms | Allocations: 9916)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.0ms | ActiveRecord: 1.5ms | Allocations: 14698)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-02 14:55:30 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 4.2ms | Allocations: 490)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 4428)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 14:55:34 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"UEzcACR0qDQKobf5Wrq1SzuVLoJmhLfQ2qXIm6ruCWDR8w6G3F11TGRTJJZ7EV1bwYyeXgnPVVhQH/8gOpxm4A==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1376)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.9ms | Allocations: 2890)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
     7:     </thead>
     8: 
     9:     <tbody>
    10:         <%= @lists.each do |k, v| %>
    11:         <tr>
    12:             <td><%= k %></td>
    13:             <td><%= v %></td>
  
app/views/orders/report.html.erb:10
Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 14:57:25 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 30.0ms | Allocations: 18113)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 29.4ms | ActiveRecord: 5.3ms | Allocations: 23638)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-02 14:57:33 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 0.9ms | Allocations: 287)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 4101)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 14:57:39 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"ANxEFYxARPkWbgpU67J9fZfBqRSeaTo4kHA8fZTjvxSBY5aTdGmZgXicmTvKGZVtbdgZyPEi2LAaygvGBJHQlA==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.1ms | Allocations: 18)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 7.1ms | ActiveRecord: 3.8ms | Allocations: 5867)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 14:58:26 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"report"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:11:in `show'
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1221)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=report):
  
app/controllers/orders_controller.rb:11:in `show'
Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 14:58:31 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"ANxEFYxARPkWbgpU67J9fZfBqRSeaTo4kHA8fZTjvxSBY5aTdGmZgXicmTvKGZVtbdgZyPEi2LAaygvGBJHQlA==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (1.3ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 1.1ms | Allocations: 194)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 15.7ms | ActiveRecord: 1.3ms | Allocations: 5840)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 14:59:14 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"ANxEFYxARPkWbgpU67J9fZfBqRSeaTo4kHA8fZTjvxSBY5aTdGmZgXicmTvKGZVtbdgZyPEi2LAaygvGBJHQlA==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 24.3ms | Allocations: 6298)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 33.6ms | ActiveRecord: 2.9ms | Allocations: 11853)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 14:59:31 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"ANxEFYxARPkWbgpU67J9fZfBqRSeaTo4kHA8fZTjvxSBY5aTdGmZgXicmTvKGZVtbdgZyPEi2LAaygvGBJHQlA==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  [1m[36mProduct Load (3.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  Rendered orders/report.html.erb within layouts/application (Duration: 16.5ms | Allocations: 4703)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 18.7ms | ActiveRecord: 6.7ms | Allocations: 10356)


  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "name" FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "name" FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT products.name, sum(quantity) FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT products.name, sum(quantity) FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT products.name, sum(order_details.quantity) FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT products.name, sum(quantity) as quantity_sum FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT products.name, sum(quantity) as quantity_sum FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT products.name, sum(quantity) as quantity_sum FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT products.name, sum(quantity) as quantity_sum FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT products.name, sum(quantity) as quantity_sum FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id"[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT products.name, sum(quantity) as quantity_sum FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY order_details.product_id[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[36mOrderDetail Load (1.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY order_details.product_id[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[36mOrderDetail Load (1.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY order_details.product_id LIMIT $3[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"], ["LIMIT", 11]]
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY order_detail.product_id[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY order_detail.product_id LIMIT $3[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"], ["LIMIT", 11]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM(order_details.quantity) AS sum_order_details_quantity, order_details.product_id AS order_details_product_id FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY order_details.product_id[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM(order_details.quantity) AS sum_order_details_quantity, order_details.product_id AS order_details_product_id FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY order_details.product_id[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM(order_details.quantity) AS sum_order_details_quantity, order_details.product_id AS order_details_product_id FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY order_details.product_id[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM(order_details.quantity) AS sum_order_details_quantity, order_details.product_id AS order_details_product_id FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY order_details.product_id[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
Started GET "/" for 127.0.0.1 at 2020-03-02 15:31:16 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 39.6ms | Allocations: 18933)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 37.3ms | ActiveRecord: 7.2ms | Allocations: 23663)


Started GET "/products/4/edit" for 127.0.0.1 at 2020-03-02 15:31:21 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1150)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 2415)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Edit Edtails</h1>

<%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>

  <%= f.input :name, require: true %>
  <%= f.input :price, require: true, %>
  <%= f.simple_fields_for :inventory do |ff| %>
      <%= ff.input :quantity, require: true, %>
  <%end%>
  <br>
	
	<%= f.add_nested_fields_link :inventory %>
	<%= f.submit "Save" %>
<%end%>


<%= link_to 'Back', {:action => 'index'} %>
):
1:    <h1>Edit Edtails</h1>
2:    
3:    <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
4:    
5:      <%= f.input :name, require: true %>
6:      <%= f.input :price, require: true, %>
7:      <%= f.simple_fields_for :inventory do |ff| %>
8:          <%= ff.input :quantity, require: true, %>
9:      <%end%>
10:      <br>
11:    	
12:    	<%= f.add_nested_fields_link :inventory %>
13:    	<%= f.submit "Save" %>
14:    <%end%>
15:    
16:    
17:    <%= link_to 'Back', {:action => 'index'} %>
  
app/views/products/edit.html.erb:6: syntax error, unexpected ')'
app/views/products/edit.html.erb:8: syntax error, unexpected ')'
app/views/products/edit.html.erb:9: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:14: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:6: syntax error, unexpected ')'
app/views/products/edit.html.erb:8: syntax error, unexpected ')'
app/views/products/edit.html.erb:9: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:14: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:6: syntax error, unexpected ')'
app/views/products/edit.html.erb:8: syntax error, unexpected ')'
app/views/products/edit.html.erb:9: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:14: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:6: syntax error, unexpected ')'
app/views/products/edit.html.erb:8: syntax error, unexpected ')'
app/views/products/edit.html.erb:9: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:14: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:6: syntax error, unexpected ')'
app/views/products/edit.html.erb:8: syntax error, unexpected ')'
app/views/products/edit.html.erb:9: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:14: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:6: syntax error, unexpected ')'
app/views/products/edit.html.erb:8: syntax error, unexpected ')'
app/views/products/edit.html.erb:9: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:14: syntax error, unexpected keyword_end, expecting ')'
app/views/products/edit.html.erb:19: syntax error, unexpected keyword_end, expecting ')'
Started GET "/products/4/edit" for 127.0.0.1 at 2020-03-02 15:31:35 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 85.5ms | Allocations: 24148)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 93.1ms | ActiveRecord: 0.8ms | Allocations: 29366)


Started PATCH "/products/4" for 127.0.0.1 at 2020-03-02 15:31:39 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"gVVAHvzW33utO1ZUIm6icKG7ZUTpBLseX1Q2XA0g5GOPURJ7qFAzInAL2ZXskRM0Hr6epsq87KHGiuMBe4QXmg==", "product"=>{"name"=>"Sushi", "price"=>"13000.0", "inventory_attributes"=>{"quantity"=>"0", "id"=>"4"}}, "commit"=>"Save", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 19ms (ActiveRecord: 1.7ms | Allocations: 3584)


Started GET "/" for 127.0.0.1 at 2020-03-02 15:31:39 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 30.7ms | Allocations: 10903)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 31.3ms | ActiveRecord: 3.6ms | Allocations: 14916)


Started GET "/products/4/edit" for 127.0.0.1 at 2020-03-02 15:31:41 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 24.1ms | Allocations: 9328)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 29.0ms | ActiveRecord: 0.7ms | Allocations: 13606)


Started PATCH "/products/4" for 127.0.0.1 at 2020-03-02 15:31:45 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"nhn9X+2hDGpoo6U05jMC3rEj96RXoLSb9Rx4mo82EJkKHvxNrJJoJYtGZsQQe16UKuQpwF7ErD9y9Lck1AA1tw==", "product"=>{"name"=>"", "price"=>"", "inventory_attributes"=>{"quantity"=>"", "id"=>"4"}}, "commit"=>"Save", "id"=>"4"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mProduct Update (0.8ms)[0m  [1m[33mUPDATE "products" SET "name" = $1, "price" = $2, "updated_at" = $3 WHERE "products"."id" = $4[0m  [["name", ""], ["price", nil], ["updated_at", "2020-03-02 08:31:45.833321"], ["id", 4]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (1.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", nil], ["updated_at", "2020-03-02 08:31:45.839483"], ["id", 4]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 49ms (ActiveRecord: 21.1ms | Allocations: 5515)


Started GET "/" for 127.0.0.1 at 2020-03-02 15:31:45 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 28.5ms | Allocations: 10575)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 28.5ms | ActiveRecord: 6.1ms | Allocations: 14442)


Started GET "/products/4/edit" for 127.0.0.1 at 2020-03-02 15:31:55 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 22.3ms | Allocations: 9301)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 29.4ms | ActiveRecord: 0.5ms | Allocations: 13585)


Started PATCH "/products/4" for 127.0.0.1 at 2020-03-02 15:32:09 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"gAEGyt0ub+BeODC/vOqfTVFTC+gJ9bawf7PvZRbYz98UBgfYnB0Lr73d809KosMHypTVjACRrhT4WyDbTe7q8Q==", "product"=>{"name"=>"Sushi", "price"=>"13000", "inventory_attributes"=>{"quantity"=>"20", "id"=>"4"}}, "commit"=>"Save", "id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1, "price" = $2, "updated_at" = $3 WHERE "products"."id" = $4[0m  [["name", "Sushi"], ["price", 13000.0], ["updated_at", "2020-03-02 08:32:09.499501"], ["id", 4]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (1.0ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 20], ["updated_at", "2020-03-02 08:32:09.502151"], ["id", 4]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 29ms (ActiveRecord: 18.2ms | Allocations: 5427)


Started GET "/" for 127.0.0.1 at 2020-03-02 15:32:09 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 22.5ms | Allocations: 10579)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.3ms | ActiveRecord: 3.2ms | Allocations: 14450)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 15:38:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 29.8ms | Allocations: 19770)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 34.4ms | ActiveRecord: 2.2ms | Allocations: 37208)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 15:38:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"GfppXamr04asTZWE95BGyfXkPt4ot12ngYnAQFhyXX0X/js4/S0/33F9GkU5b/eNSuHFPAsPChgYVxUdLtauhA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"4", "quantity"=>"2"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 08:38:41.124237"], ["updated_at", "2020-03-02 08:38:41.124237"], ["customer_id", 4]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 4], ["order_id", 14], ["price", 13000.0], ["quantity", 2], ["created_at", "2020-03-02 08:38:41.126834"], ["updated_at", "2020-03-02 08:38:41.126834"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 14], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-02 08:38:41.129489"], ["updated_at", "2020-03-02 08:38:41.129489"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (22.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 18], ["updated_at", "2020-03-02 08:38:41.161668"], ["id", 4]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 970], ["updated_at", "2020-03-02 08:38:41.187732"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 132ms (ActiveRecord: 60.0ms | Allocations: 34746)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 15:38:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:24
  Rendered orders/new.html.erb within layouts/application (Duration: 32.3ms | Allocations: 15535)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 36.9ms | ActiveRecord: 0.3ms | Allocations: 19589)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:24:16 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 50.5ms | Allocations: 26908)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 54.7ms | ActiveRecord: 8.8ms | Allocations: 36549)


Started GET "/products/2/edit" for 127.0.0.1 at 2020-03-02 16:24:19 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 44.2ms | Allocations: 24132)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 48.3ms | ActiveRecord: 0.4ms | Allocations: 28716)


Started PATCH "/products/2" for 127.0.0.1 at 2020-03-02 16:24:22 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"8Rl87ZFKZjJuxnHNmmPppqeT5Ua9Ri9mgQHACKvoRejrETWdrOCPrEM7z6OcgvqtbX9oMhxir/QAYQEC/8IHHA==", "product"=>{"name"=>"Cam", "price"=>"5000.0", "inventory_attributes"=>{"quantity"=>"45", "id"=>"2"}}, "commit"=>"Save", "id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 45], ["updated_at", "2020-03-02 09:24:22.104427"], ["id", 2]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (31.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 47ms (ActiveRecord: 32.9ms | Allocations: 4928)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:24:22 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 28.3ms | Allocations: 10580)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 29.0ms | ActiveRecord: 4.6ms | Allocations: 14477)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:24:27 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 28.2ms | Allocations: 16422)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 33.2ms | ActiveRecord: 4.0ms | Allocations: 34302)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:24:50 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"sf183yVOI5RTZnca5bvRb+9CVHDsVmwkIaylkHTIdxG/+S66ccjPzY5W+NsrRGArUEevks/uO5u4cnDNAmyE6A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"3", "quantity"=>"32123"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '32123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '32123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 4)
Completed 200 OK in 161ms (Views: 153.9ms | ActiveRecord: 0.8ms | Allocations: 105013)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:25:02 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"sf183yVOI5RTZnca5bvRb+9CVHDsVmwkIaylkHTIdxG/+S66ccjPzY5W+NsrRGArUEevks/uO5u4cnDNAmyE6A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"4", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 09:25:02.138292"], ["updated_at", "2020-03-02 09:25:02.138292"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 15], ["price", 10000.0], ["quantity", 2], ["created_at", "2020-03-02 09:25:02.140250"], ["updated_at", "2020-03-02 09:25:02.140250"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 4], ["order_id", 15], ["price", 13000.0], ["quantity", 3], ["created_at", "2020-03-02 09:25:02.142181"], ["updated_at", "2020-03-02 09:25:02.142181"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 968], ["updated_at", "2020-03-02 09:25:02.172315"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (26.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 15], ["updated_at", "2020-03-02 09:25:02.205849"], ["id", 4]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (27.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 132ms (ActiveRecord: 86.1ms | Allocations: 29898)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:25:02 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:20
  Rendered orders/new.html.erb within layouts/application (Duration: 27.5ms | Allocations: 15496)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.2ms | ActiveRecord: 0.3ms | Allocations: 19577)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 16:25:42 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 27.3ms | Allocations: 11264)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 30.2ms | ActiveRecord: 1.9ms | Allocations: 15268)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-02 16:25:44 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 1.3ms | Allocations: 521)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.0ms | Allocations: 4482)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 16:25:51 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"zlXyqFL6rtegXoukW56hBtSBd+KKWiKMCR2uFGuhgatP6iAuqtNzr86sGMt6NUkWLpjHPuURwASDp5mv+9PuKw==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  Rendered orders/report.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1615)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 10.4ms | ActiveRecord: 1.3ms | Allocations: 6563)


Started GET "/orders/report" for 127.0.0.1 at 2020-03-02 16:28:39 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"report"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:11:in `show'
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1259)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=report):
  
app/controllers/orders_controller.rb:11:in `show'
Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 16:28:53 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"zlXyqFL6rtegXoukW56hBtSBd+KKWiKMCR2uFGuhgatP6iAuqtNzr86sGMt6NUkWLpjHPuURwASDp5mv+9PuKw==", "start_date"=>"2020-03-01", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (3.4ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-01 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  Rendered orders/report.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1610)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 15.1ms | ActiveRecord: 4.2ms | Allocations: 7321)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:29:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 28.7ms | Allocations: 15880)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 32.6ms | ActiveRecord: 0.3ms | Allocations: 20105)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:29:30 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"r3e5wuCkfifjY1SDAdmJQSysUuxec+kf2D74njGKvGKhc+untCKSfj5T20LPJjgFk6mpDn3LvqBB4C3DRy5Pmw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"3", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 09:29:30.738352"], ["updated_at", "2020-03-02 09:29:30.738352"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 16], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-02 09:29:30.740918"], ["updated_at", "2020-03-02 09:29:30.740918"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 16], ["price", 3000.0], ["quantity", 1], ["created_at", "2020-03-02 09:29:30.743977"], ["updated_at", "2020-03-02 09:29:30.743977"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (525.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (1.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 967], ["updated_at", "2020-03-02 09:29:31.284679"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (27.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 99], ["updated_at", "2020-03-02 09:29:31.328503"], ["id", 3]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (31.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 662ms (ActiveRecord: 595.9ms | Allocations: 23134)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:29:31 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 30.4ms | Allocations: 15497)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 34.7ms | ActiveRecord: 0.3ms | Allocations: 19583)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:29:39 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (2.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 29.6ms | Allocations: 10891)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 27.0ms | ActiveRecord: 8.0ms | Allocations: 15369)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-02 16:29:58 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 20.4ms | Allocations: 9586)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 29.9ms | ActiveRecord: 0.6ms | Allocations: 14037)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-02 16:30:01 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"I3DgnVZqwfQOXHkLrfYC6RXVdwfFY/Wcs04zfEvYf976BSg7SHs3UrI5IiAbAdIMXZUJHjZqct5uOgiULG84gg==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-02 09:30:01.546869"], ["id", 5]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (686.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 701ms (ActiveRecord: 687.2ms | Allocations: 4607)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:30:02 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 36.7ms | Allocations: 10568)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 36.6ms | ActiveRecord: 5.1ms | Allocations: 14470)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:30:13 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 26.3ms | Allocations: 15525)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 31.1ms | ActiveRecord: 0.3ms | Allocations: 19608)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:30:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"6GHmVW54+AwxtgncUrcOFilIOj4qmsPkXEVqp0/KWk3mZbQwOv4UVeyGhh2cSL9Slk3B3AkilFvFm7/6OW6ptA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"10"}, "1"=>{"product_id"=>"5", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 09:30:41.455230"], ["updated_at", "2020-03-02 09:30:41.455230"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 17], ["price", 10000.0], ["quantity", 10], ["created_at", "2020-03-02 09:30:41.457246"], ["updated_at", "2020-03-02 09:30:41.457246"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 17], ["price", 8000.0], ["quantity", 2], ["created_at", "2020-03-02 09:30:41.459652"], ["updated_at", "2020-03-02 09:30:41.459652"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (41.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 957], ["updated_at", "2020-03-02 09:30:41.510590"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (36.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 8], ["updated_at", "2020-03-02 09:30:41.557200"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (48.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 175ms (ActiveRecord: 132.8ms | Allocations: 23145)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:30:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 25.1ms | Allocations: 15497)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.3ms | Allocations: 19581)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-02 16:30:55 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 30.3ms | Allocations: 12574)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.0ms | ActiveRecord: 1.3ms | Allocations: 16574)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-02 16:31:11 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 1.1ms | Allocations: 509)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms | Allocations: 4469)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 16:31:29 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"jy0GFdW7eXZWKkb50NDq3eozfxQF/qKirY5zcfzh+zEOktSTLZKkDjjY1ZbxewLNECrPyGq1QConNETKbJOUsQ==", "start_date"=>"2020-03-02", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (1.6ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-02 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  Rendered orders/report.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1429)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 12.2ms | ActiveRecord: 3.3ms | Allocations: 6185)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:32:06 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 22.3ms | Allocations: 10575)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 24.1ms | ActiveRecord: 3.3ms | Allocations: 14477)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:32:19 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 35.9ms | Allocations: 15520)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 40.3ms | ActiveRecord: 0.3ms | Allocations: 19605)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:32:36 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"BnrAgSiPXmj694ijedcUxha/JR3JaVxCmqCMoW0CsK4IfpLkfAmyMSfHB2K3KKWCqbre/+rRC/0Dfln8G6ZDVw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"8", "quantity"=>"12"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '8' AND quantity >= '12') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '8' AND quantity >= '12') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 0.7ms | Allocations: 3300)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:33:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 30.3ms | Allocations: 15497)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 34.5ms | ActiveRecord: 0.3ms | Allocations: 19581)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:33:15 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"zhJteZI4iF41X4cq6J5heF/X8brBTYLSecl08jYD21fAFj8cxr5kB+hvCOsmYdA84NIKWOL11W3gF6GvQKcorg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"4", "quantity"=>"15"}, "1"=>{"product_id"=>"1", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4' AND quantity >= '15') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 09:33:15.389325"], ["updated_at", "2020-03-02 09:33:15.389325"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 4], ["order_id", 18], ["price", 13000.0], ["quantity", 15], ["created_at", "2020-03-02 09:33:15.391325"], ["updated_at", "2020-03-02 09:33:15.391325"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 18], ["price", 10000.0], ["quantity", 2], ["created_at", "2020-03-02 09:33:15.393596"], ["updated_at", "2020-03-02 09:33:15.393596"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (22.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-03-02 09:33:15.423044"], ["id", 4]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (26.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 955], ["updated_at", "2020-03-02 09:33:15.458188"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4' AND quantity >= '15') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 125ms (Views: 0.4ms | ActiveRecord: 72.3ms | Allocations: 23199)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:33:34 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 29.3ms | Allocations: 15508)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.8ms | ActiveRecord: 0.3ms | Allocations: 19591)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:33:41 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 23.4ms | Allocations: 10579)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 24.2ms | ActiveRecord: 3.3ms | Allocations: 14478)


Started GET "/products/4/edit" for 127.0.0.1 at 2020-03-02 16:33:46 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 19.0ms | Allocations: 9305)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.5ms | Allocations: 13613)


Started PATCH "/products/4" for 127.0.0.1 at 2020-03-02 16:33:49 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"5pYLG334uN9pRauQj4rt9MCN9dxQqzikfgU2SF6rrLhykQoJPMvckIqgaGB5wrG+W0oruFnPIAD57fn2BZ2Jlg==", "product"=>{"name"=>"Sushi", "price"=>"13000.0", "inventory_attributes"=>{"quantity"=>"15", "id"=>"4"}}, "commit"=>"Save", "id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 15], ["updated_at", "2020-03-02 09:33:49.863786"], ["id", 4]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (185.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 195ms (ActiveRecord: 186.1ms | Allocations: 4598)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:33:50 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 33.5ms | Allocations: 10568)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 33.1ms | ActiveRecord: 5.3ms | Allocations: 14467)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:33:55 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 26.7ms | Allocations: 15498)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 31.1ms | ActiveRecord: 0.3ms | Allocations: 19577)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:34:10 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Ja/Ug9UMv/yWXMeGTkQ59Cspdo1uP9K+XixJSdQgVhcrq4bmgYpTpUtsSEeAu4iwlCyNb02HhQHH8pwUooSl7g==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"4", "quantity"=>"15"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (2.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4' AND quantity >= '15') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 09:34:10.523748"], ["updated_at", "2020-03-02 09:34:10.523748"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 4], ["order_id", 19], ["price", 13000.0], ["quantity", 15], ["created_at", "2020-03-02 09:34:10.525509"], ["updated_at", "2020-03-02 09:34:10.525509"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 19], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-02 09:34:10.527539"], ["updated_at", "2020-03-02 09:34:10.527539"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (253.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-03-02 09:34:10.796798"], ["id", 4]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (32.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 954], ["updated_at", "2020-03-02 09:34:10.846129"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4' AND quantity >= '15') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 3)
Completed 200 OK in 384ms (Views: 1.2ms | ActiveRecord: 316.8ms | Allocations: 23207)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:34:27 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 29.3ms | Allocations: 10579)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 31.8ms | ActiveRecord: 3.6ms | Allocations: 14474)


Started GET "/products/new" for 127.0.0.1 at 2020-03-02 16:34:29 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 10.4ms | Allocations: 5686)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.0ms | Allocations: 9600)


Started GET "/products/new" for 127.0.0.1 at 2020-03-02 16:34:36 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 20.1ms | Allocations: 5437)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 26.0ms | ActiveRecord: 0.0ms | Allocations: 9214)


Started POST "/products" for 127.0.0.1 at 2020-03-02 16:34:51 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"4ePQvSb+uJTZpCXrYuKd1uwuxG2crY683GANENoRPRUO5Au//NqTLkQ29ie0PWU0X0qGgE0F0xPvAk0gM+vuqQ==", "product"=>{"name"=>"Com", "price"=>"20000"}, "commit"=>"Create"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Com"], ["price", 20000.0], ["created_at", "2020-03-02 09:34:51.233608"], ["updated_at", "2020-03-02 09:34:51.233608"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (297.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 11], ["quantity", 0], ["created_at", "2020-03-02 09:34:51.535805"], ["updated_at", "2020-03-02 09:34:51.535805"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (28.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 336ms (ActiveRecord: 326.7ms | Allocations: 4893)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:34:51 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 23.9ms | Allocations: 11427)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 24.9ms | ActiveRecord: 3.1ms | Allocations: 15326)


Started GET "/products/11/edit" for 127.0.0.1 at 2020-03-02 16:35:06 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 20.4ms | Allocations: 9302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 25.4ms | ActiveRecord: 0.4ms | Allocations: 13602)


Started PATCH "/products/11" for 127.0.0.1 at 2020-03-02 16:35:10 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"bVL7ORFMiLD/7TRcPw0U6RMBFXrBt/NWsOxGZOqqn3Qt8gNcbqvZLjpeSarw5GpkuedQws7VzQF947kMvjjUfQ==", "product"=>{"name"=>"Com", "price"=>"20000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"11"}}, "commit"=>"Save", "id"=>"11"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-03-02 09:35:10.710372"], ["id", 11]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (16.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 35ms (ActiveRecord: 18.4ms | Allocations: 4604)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:35:10 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 11412)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.0ms | ActiveRecord: 2.8ms | Allocations: 15313)


Started GET "/products/4/edit" for 127.0.0.1 at 2020-03-02 16:38:50 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 19.8ms | Allocations: 9313)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.4ms | Allocations: 13621)


Started PATCH "/products/4" for 127.0.0.1 at 2020-03-02 16:38:54 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"BXVOcBrbwdINteZsfoVFY9X6Xw454jdAP3zFsYUm9ZaRck9iW+ilne5QJZyIzRkpTj2BajCGL+S4lAoP3hDQuA==", "product"=>{"name"=>"Sushi", "price"=>"13000.0", "inventory_attributes"=>{"quantity"=>"15", "id"=>"4"}}, "commit"=>"Save", "id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 15], ["updated_at", "2020-03-02 09:38:54.531659"], ["id", 4]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 27ms (ActiveRecord: 17.1ms | Allocations: 4600)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:38:54 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 26.0ms | Allocations: 11401)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 26.7ms | ActiveRecord: 3.8ms | Allocations: 15303)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:39:03 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 31.4ms | Allocations: 15586)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.7ms | ActiveRecord: 0.3ms | Allocations: 19671)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:39:16 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"S25extx2Buis/A7U2DP+WCpfBUvrddK82P3kTCS08WRFagyjiPDqsXHMgRUWzE8clVr+qcjNhQNBIzERUhACnQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"4", "quantity"=>"14"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4' AND quantity >= '14') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 09:39:16.377767"], ["updated_at", "2020-03-02 09:39:16.377767"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 4], ["order_id", 20], ["price", 13000.0], ["quantity", 14], ["created_at", "2020-03-02 09:39:16.380225"], ["updated_at", "2020-03-02 09:39:16.380225"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 20], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-02 09:39:16.383444"], ["updated_at", "2020-03-02 09:39:16.383444"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (211.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 1], ["updated_at", "2020-03-02 09:39:16.613007"], ["id", 4]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (99.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 953], ["updated_at", "2020-03-02 09:39:16.727759"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (237.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '4' AND quantity >= '14') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 3)
Completed 200 OK in 627ms (Views: 1.0ms | ActiveRecord: 556.4ms | Allocations: 23207)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:41:56 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 48.6ms | Allocations: 11411)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 47.8ms | ActiveRecord: 6.1ms | Allocations: 15310)


Started GET "/orders/" for 127.0.0.1 at 2020-03-02 16:42:07 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 32.2ms | Allocations: 14352)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.2ms | ActiveRecord: 1.6ms | Allocations: 18217)


Started GET "/orders/" for 127.0.0.1 at 2020-03-02 16:42:36 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  Rendered orders/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 681)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.3ms | Allocations: 4541)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:42:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 26.9ms | Allocations: 15594)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 30.7ms | ActiveRecord: 0.2ms | Allocations: 19675)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:43:01 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"DKjcfKNmNutYdRj6zj/tw0y/sgf+wBDEMH6VKo/q69ACrI4Z9+DasoVFlzsAwFyH87pJ5d14R3upoEB3+U4YKQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 09:43:01.234431"], ["updated_at", "2020-03-02 09:43:01.234431"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 21], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-02 09:43:01.237006"], ["updated_at", "2020-03-02 09:43:01.237006"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 21], ["price", 5000.0], ["quantity", 3], ["created_at", "2020-03-02 09:43:01.239777"], ["updated_at", "2020-03-02 09:43:01.239777"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (27.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 952], ["updated_at", "2020-03-02 09:43:01.275840"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (36.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 42], ["updated_at", "2020-03-02 09:43:01.320856"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (26.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 143ms (ActiveRecord: 96.9ms | Allocations: 23135)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:43:01 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 24.9ms | Allocations: 15585)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 28.8ms | ActiveRecord: 0.3ms | Allocations: 19677)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:43:39 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Bb84J/Rv/drwWXEtoUXISHzCdoioNbNVCCJj0pvvD/gLu2pCoOkRgy1p/uxvunkMw8eNaouN5OqR/LaP7Uv8AQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"3", "quantity"=>"4"}, "1"=>{"product_id"=>"5", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '6') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 09:43:39.062446"], ["updated_at", "2020-03-02 09:43:39.062446"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 22], ["price", 3000.0], ["quantity", 4], ["created_at", "2020-03-02 09:43:39.065205"], ["updated_at", "2020-03-02 09:43:39.065205"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 22], ["price", 8000.0], ["quantity", 6], ["created_at", "2020-03-02 09:43:39.067630"], ["updated_at", "2020-03-02 09:43:39.067630"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 95], ["updated_at", "2020-03-02 09:43:39.095580"], ["id", 3]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (26.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 2], ["updated_at", "2020-03-02 09:43:39.129449"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (26.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '6') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 119ms (Views: 0.4ms | ActiveRecord: 80.1ms | Allocations: 23197)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:43:47 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 34.7ms | Allocations: 11421)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 34.5ms | ActiveRecord: 5.2ms | Allocations: 15314)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-02 16:43:50 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 18.9ms | Allocations: 9304)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.3ms | ActiveRecord: 0.6ms | Allocations: 13611)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-02 16:43:53 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"es5DlPK98xj2g9sjsBkAYfjR6FcWRax0r1v1jDeqwgCju4sy7KwFvkrmgAgG7tCEsJGWTuVMKzZyL85kUB2FXA==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"20", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 20], ["updated_at", "2020-03-02 09:43:53.221034"], ["id", 5]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (18.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 30ms (ActiveRecord: 19.8ms | Allocations: 4596)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:43:53 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 27.6ms | Allocations: 11412)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 29.5ms | ActiveRecord: 2.9ms | Allocations: 15308)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:43:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 38.8ms | Allocations: 15593)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 42.7ms | ActiveRecord: 0.3ms | Allocations: 19682)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:44:10 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Zqz/OWfdaIBI0Z0FOUACjuXmbvM2zhvQu0hochCjLUpoqK1cM1uE2ZXhEsT3v7PKWuOVERV2TG8ilr0vZgfesw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"3", "quantity"=>"4"}, "1"=>{"product_id"=>"5", "quantity"=>"6"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '6') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 09:44:10.355338"], ["updated_at", "2020-03-02 09:44:10.355338"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 23], ["price", 3000.0], ["quantity", 4], ["created_at", "2020-03-02 09:44:10.359437"], ["updated_at", "2020-03-02 09:44:10.359437"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 23], ["price", 8000.0], ["quantity", 6], ["created_at", "2020-03-02 09:44:10.363622"], ["updated_at", "2020-03-02 09:44:10.363622"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (33.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 91], ["updated_at", "2020-03-02 09:44:10.410259"], ["id", 3]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (15.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 14], ["updated_at", "2020-03-02 09:44:10.436511"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (16.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '4') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '6') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 153ms (ActiveRecord: 76.7ms | Allocations: 23134)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:44:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 36.1ms | Allocations: 15578)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 42.3ms | ActiveRecord: 0.3ms | Allocations: 19663)


Started GET "/orders" for 127.0.0.1 at 2020-03-02 16:44:17 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 2763)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.6ms | Allocations: 6626)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-02 16:44:18 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 0.6ms | Allocations: 302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 4148)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 16:44:24 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"oeIfYhfPbYqpRt0eGqjwBtUf6v5TGBQUBVuWOV5YXL0gXc3k7+aw8se0TnE7AxgWLwZaIjxT9pyP4aGCziozPQ==", "start_date"=>"2020-03-02", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-02 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  Rendered orders/report.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1429)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 12.5ms | ActiveRecord: 1.3ms | Allocations: 6176)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:46:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 37.4ms | Allocations: 15587)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 43.3ms | ActiveRecord: 0.3ms | Allocations: 19679)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:46:25 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"v6t7xjBPUyvlhTXmKKRZs0vqO8XcZYnewXNKb8idIf+xrymjZMm/cji1uifmW+j39O/AJ//d3mFYrZ8yvjnSBg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 09:46:25.901527"], ["updated_at", "2020-03-02 09:46:25.901527"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 24], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-02 09:46:25.903964"], ["updated_at", "2020-03-02 09:46:25.903964"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 24], ["price", 5000.0], ["quantity", 2], ["created_at", "2020-03-02 09:46:25.906223"], ["updated_at", "2020-03-02 09:46:25.906223"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (28.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 951], ["updated_at", "2020-03-02 09:46:25.954419"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (35.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 40], ["updated_at", "2020-03-02 09:46:26.009968"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 161ms (ActiveRecord: 92.7ms | Allocations: 23132)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:46:26 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 60.2ms | Allocations: 15575)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 65.9ms | ActiveRecord: 0.7ms | Allocations: 19658)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:46:34 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"YxGaiV3v/eTuhY7ahWBE2/Ng29AJNOJUt6IoKQoeHzFtFcjsCWkRvTO1ARtLn/WfTGUgMiqMtesufP10fLrsyA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"3", "quantity"=>"2"}, "1"=>{"product_id"=>"5", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 09:46:34.598490"], ["updated_at", "2020-03-02 09:46:34.598490"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 25], ["price", 3000.0], ["quantity", 2], ["created_at", "2020-03-02 09:46:34.601861"], ["updated_at", "2020-03-02 09:46:34.601861"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 25], ["price", 8000.0], ["quantity", 3], ["created_at", "2020-03-02 09:46:34.605092"], ["updated_at", "2020-03-02 09:46:34.605092"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (39.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 89], ["updated_at", "2020-03-02 09:46:34.663752"], ["id", 3]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (17.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 11], ["updated_at", "2020-03-02 09:46:34.697981"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (34.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 172ms (ActiveRecord: 101.0ms | Allocations: 23139)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:46:34 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 33.9ms | Allocations: 15595)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 39.1ms | ActiveRecord: 0.3ms | Allocations: 19684)


Started GET "/orders" for 127.0.0.1 at 2020-03-02 16:46:38 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2097)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.4ms | Allocations: 5961)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-02 16:46:39 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 0.8ms | Allocations: 302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 4147)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 16:46:44 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"v6v8jyv3TKdKrzIbCIoW9aT9Bozm1EfGERPU1YxztmU+FC4J096R3yRdoXQpIf7lXuS2UImfpU6bqeNuHAHZ5Q==", "start_date"=>"2020-03-02", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (1.2ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-02 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  Rendered orders/report.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1429)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 11.2ms | ActiveRecord: 1.8ms | Allocations: 6176)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:47:12 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 42.0ms | Allocations: 15574)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.4ms | Allocations: 19655)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:48:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"RGE+5ZKrWfc7hC4UpA1ENWpzpecEcEufrZGsFPjtLyxKZWyAxi21rua0odVq8vVx1XZeBSfIHCA0T3lJjknc1Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"123313"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '123313') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '123313') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 3298)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-02 16:48:30 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 0.9ms | Allocations: 302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 4150)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 16:48:35 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"A8g7WLBP/toTKV0y7LnKf796f2WYX5TjKDbAjtvpC6INzGk95MkSg84Z0vMiRns7AH+Eh7vnw1yx6BXTrU34Ww==", "start_date"=>"2020-03-02", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-02 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  Rendered orders/report.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1429)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 13.0ms | ActiveRecord: 1.8ms | Allocations: 6151)


Started GET "/" for 127.0.0.1 at 2020-03-02 16:50:04 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 29.2ms | Allocations: 11412)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 30.4ms | ActiveRecord: 3.2ms | Allocations: 15308)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:50:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 35.1ms | Allocations: 15593)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 39.2ms | ActiveRecord: 0.2ms | Allocations: 19677)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:50:31 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"E/Zku/IsPMk55oy2q+RSF8qcmVBbk72lDhciiUFD85od8jbepqrQkOTWA3dlG+NTdZlisngr6hqXyffUN+cAYw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"10", "quantity"=>"1231"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '10' AND quantity >= '1231') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '10' AND quantity >= '1231') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 16ms (Views: 1.0ms | ActiveRecord: 1.6ms | Allocations: 3298)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 16:50:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 41.7ms | Allocations: 15574)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 46.3ms | ActiveRecord: 0.3ms | Allocations: 19657)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 16:51:00 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"P573VsGGD6sWsMFShmAXLTGjyEb+DDPZ2vm8jZ5udHExmqUzlQDj8suATpNIn6ZpjqYzpN20ZGZDJ2nQ6MqHiA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"6", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '6' AND quantity >= '') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.9ms | Allocations: 2058)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: ""
LINE 1: ...entories" WHERE (product_id = '6' AND quantity >= '') LIMIT ...
                                                             ^
):
  
app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
app/services/order_services/create_order_service.rb:14:in `check_inventory'
app/services/order_services/create_order_service.rb:42:in `create'
app/controllers/orders_controller.rb:38:in `create'
Started GET "/" for 127.0.0.1 at 2020-03-02 16:56:01 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 25.0ms | Allocations: 11410)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 25.9ms | ActiveRecord: 3.6ms | Allocations: 15312)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-02 16:56:50 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 20.9ms | Allocations: 9328)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 26.6ms | ActiveRecord: 0.5ms | Allocations: 13635)


Started GET "/products/1000/edit" for 127.0.0.1 at 2020-03-02 16:56:58 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1000"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1000], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1140)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1000):
  
app/controllers/products_controller.rb:26:in `edit'
Started GET "/produ" for 127.0.0.1 at 2020-03-02 16:57:33 +0700
  
ActionController::RoutingError (No route matches [GET] "/produ"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-02 16:57:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 16.1ms | Allocations: 9320)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.6ms | ActiveRecord: 0.4ms | Allocations: 13632)


Started GET "/products/new" for 127.0.0.1 at 2020-03-02 17:00:01 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 5446)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.7ms | ActiveRecord: 0.0ms | Allocations: 9223)


Started POST "/products" for 127.0.0.1 at 2020-03-02 17:00:08 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"R1Xd6PoPpM4IO48iAeE4dZJJJJsLV3FLrrP3OuUwdzRJUY+NrolIl9ULAOPPHokxLUzfeSjvJvQ3bSJnk5SEzQ==", "product"=>{"name"=>"<script>alert('Sorry not enough enventory')</script>", "price"=>"1"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "<script>alert('Sorry not enough enventory')</script>"], ["price", 1.0], ["created_at", "2020-03-02 10:00:08.401154"], ["updated_at", "2020-03-02 10:00:08.401154"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (40.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 12], ["quantity", 0], ["created_at", "2020-03-02 10:00:08.451202"], ["updated_at", "2020-03-02 10:00:08.451202"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (33.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 91ms (ActiveRecord: 75.5ms | Allocations: 4844)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:00:08 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 36.7ms | Allocations: 12255)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 39.6ms | ActiveRecord: 4.9ms | Allocations: 16155)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-02 17:01:49 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 0.6ms | Allocations: 302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms | Allocations: 4152)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-02 17:01:53 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"KInavi+3O8BRc+c0cOZCJ56gS6S1A09vRWHRRIylONMmjYjbezHXmYxDaPW+GfNjIaWwRpa7GNDcvwQZ+gHLKg==", "start_date"=>"2020-03-02", "end_date"=>"2020-03-03", "commit"=>"Search"}
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-02 00:00:00"], ["created_at", "2020-03-03 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:49:in `report'
  Rendering orders/report.html.erb within layouts/application
  Rendered orders/report.html.erb within layouts/application (Duration: 0.1ms | Allocations: 4)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 9.2ms | ActiveRecord: 1.0ms | Allocations: 4694)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:39:58 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 56.4ms | Allocations: 28588)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 57.4ms | ActiveRecord: 9.1ms | Allocations: 38230)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 17:42:53 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 48.3ms | Allocations: 30556)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 83ms (Views: 52.6ms | ActiveRecord: 5.7ms | Allocations: 48441)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 17:43:07 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"nervlmGgkjMvavbScMQ/4WHpM7fC2ucw+NB46lFRriaT7r3zNSZ+avJaeRO+O46l3uzIVeFisI9hDq23J/Vd3w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (2.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 3.1ms | Allocations: 2738)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: ""
LINE 1: ...entories" WHERE (product_id = '2' AND quantity >= '') LIMIT ...
                                                             ^
):
  
app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
app/services/order_services/create_order_service.rb:14:in `check_inventory'
app/services/order_services/create_order_service.rb:42:in `create'
app/controllers/orders_controller.rb:38:in `create'
Started POST "/orders" for 127.0.0.1 at 2020-03-02 17:43:23 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"nervlmGgkjMvavbScMQ/4WHpM7fC2ucw+NB46lFRriaT7r3zNSZ+avJaeRO+O46l3uzIVeFisI9hDq23J/Vd3w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 10:43:23.530873"], ["updated_at", "2020-03-02 10:43:23.530873"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.8ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 26], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-02 10:43:23.534408"], ["updated_at", "2020-03-02 10:43:23.534408"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (1.0ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 26], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-02 10:43:23.538063"], ["updated_at", "2020-03-02 10:43:23.538063"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (26.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 950], ["updated_at", "2020-03-02 10:43:23.576785"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (28.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 39], ["updated_at", "2020-03-02 10:43:23.617327"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (35.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 166ms (ActiveRecord: 106.3ms | Allocations: 30120)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 17:43:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 33.7ms | Allocations: 15670)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 38.7ms | ActiveRecord: 0.3ms | Allocations: 19757)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:44:23 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 40.1ms | Allocations: 12274)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 40.3ms | ActiveRecord: 5.6ms | Allocations: 16191)


Started GET "/orders/new/" for 127.0.0.1 at 2020-03-02 17:44:40 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 37.6ms | Allocations: 15660)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 42.8ms | ActiveRecord: 0.3ms | Allocations: 19756)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 17:44:53 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"JqiGE2qAh5zIS+zbSdkqtdc4URSUZfSWPaqXjVHo4ccorNR2PgZrxRV7YxqHJpvxaD2q9rfdoymkdELQJ0wSPg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"5", "quantity"=>"11"}, "1"=>{"product_id"=>"1", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '11') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:43:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 10:44:53.061973"], ["updated_at", "2020-03-02 10:44:53.061973"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 27], ["price", 8000.0], ["quantity", 11], ["created_at", "2020-03-02 10:44:53.064229"], ["updated_at", "2020-03-02 10:44:53.064229"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 27], ["price", 10000.0], ["quantity", 2], ["created_at", "2020-03-02 10:44:53.066923"], ["updated_at", "2020-03-02 10:44:53.066923"]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[35m (30.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-03-02 10:44:53.105176"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (26.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 948], ["updated_at", "2020-03-02 10:44:53.139841"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (26.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '11') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 4)
Completed 200 OK in 295ms (Views: 159.7ms | ActiveRecord: 89.4ms | Allocations: 124901)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:47:42 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 34.9ms | Allocations: 12266)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 33.6ms | ActiveRecord: 5.9ms | Allocations: 16165)


Started GET "/products/new" for 127.0.0.1 at 2020-03-02 17:47:44 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 13.3ms | Allocations: 5927)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.0ms | Allocations: 9844)


Started POST "/products" for 127.0.0.1 at 2020-03-02 17:47:59 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"H+3NOx0U7qqAc7mwLHmtk04/i/Yf1DvN2qCkEoq6ar/w6hY5xzDFEB3hanz6plVx/VvJG858ZmLpwuQiY0C5Aw==", "product"=>{"name"=>"Vinamilk", "price"=>"12000"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Vinamilk"], ["price", 12000.0], ["created_at", "2020-03-02 10:47:59.112029"], ["updated_at", "2020-03-02 10:47:59.112029"]]
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (31.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:10:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[36mInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 13], ["quantity", 0], ["created_at", "2020-03-02 10:47:59.150073"], ["updated_at", "2020-03-02 10:47:59.150073"]]
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
  [1m[35m (26.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 73ms (ActiveRecord: 59.4ms | Allocations: 4938)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:47:59 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 31.2ms | Allocations: 13113)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 31.6ms | ActiveRecord: 3.9ms | Allocations: 17006)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:48:28 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 56.4ms | Allocations: 29429)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 57.6ms | ActiveRecord: 8.7ms | Allocations: 39073)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:48:32 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 28.3ms | Allocations: 13128)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 30.1ms | ActiveRecord: 3.9ms | Allocations: 17032)


Started GET "/products/4/edit" for 127.0.0.1 at 2020-03-02 17:48:34 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 38.6ms | Allocations: 24132)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 43.6ms | ActiveRecord: 0.4ms | Allocations: 28716)


Started PATCH "/products/4" for 127.0.0.1 at 2020-03-02 17:48:37 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"fuGs1QGPKeDnJqDgTgFNWJrOnvSccOv88GlVpA8ADSnq5q3HQLxNrwTDYxC4SRESAQlAkJUU81h3gZoaVDYoBw==", "product"=>{"name"=>"Sushi", "price"=>"13000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"4"}}, "commit"=>"Save", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-03-02 10:48:37.666840"], ["id", 4]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (21.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 34ms (ActiveRecord: 22.8ms | Allocations: 4925)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:48:37 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 29.2ms | Allocations: 13100)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 29.2ms | ActiveRecord: 4.4ms | Allocations: 17006)


Started GET "/products/import" for 127.0.0.1 at 2020-03-02 17:50:42 +0700
Processing by ProductsController#import as HTML
  Rendering products/import.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/import.html.erb:12
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  Rendered products/import.html.erb within layouts/application (Duration: 26.0ms | Allocations: 7701)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 25.1ms | ActiveRecord: 6.0ms | Allocations: 11733)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:50:46 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 33.5ms | Allocations: 13099)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 35.4ms | ActiveRecord: 4.1ms | Allocations: 16997)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 17:53:08 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 48.2ms | Allocations: 33391)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 89ms (Views: 55.4ms | ActiveRecord: 7.5ms | Allocations: 59687)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 17:53:23 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"12J6hiT2z0gD1znTUY6tFAoBAhy9OL/2pfVUiDxtMAHZZijjcHAjEd7nthKfcRxQtQT5/p6A6Ek8K4HVSsnD+A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"2", "quantity"=>"2"}, "1"=>{"product_id"=>"3", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (2.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:29:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:29:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 10:53:39.554757"], ["updated_at", "2020-03-02 10:53:39.554757"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 28], ["price", 5000.0], ["quantity", 2], ["created_at", "2020-03-02 10:53:39.556824"], ["updated_at", "2020-03-02 10:53:39.556824"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["order_id", 28], ["price", 3000.0], ["quantity", 2], ["created_at", "2020-03-02 10:53:39.559404"], ["updated_at", "2020-03-02 10:53:39.559404"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:38)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 37], ["updated_at", "2020-03-02 10:53:39.586453"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[35m (17.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:38)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 87], ["updated_at", "2020-03-02 10:53:39.611890"], ["id", 3]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[35m (19.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 18177ms (ActiveRecord: 73.9ms | Allocations: 73338)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 17:53:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 33.0ms | Allocations: 15671)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 37.4ms | ActiveRecord: 0.3ms | Allocations: 19757)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:54:14 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 31.2ms | Allocations: 15676)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 32.5ms | ActiveRecord: 3.8ms | Allocations: 20130)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-02 17:54:20 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 24.1ms | Allocations: 10206)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 28.9ms | ActiveRecord: 0.4ms | Allocations: 14790)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-02 17:54:22 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"BKO7/7sLhp7uyLBbHI6iBbIhTuMmtwDo2E6jAXGGnx3d1nNZpRpwOFKt63CqeXLg+mEw+tW+h6oFOpjpFjHYQQ==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-02 10:54:22.464487"], ["id", 5]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (286.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 308ms (ActiveRecord: 290.0ms | Allocations: 4679)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:54:22 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 38.5ms | Allocations: 13089)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 38.1ms | ActiveRecord: 5.4ms | Allocations: 16988)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 17:54:28 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 42.4ms | Allocations: 15737)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 50.9ms | ActiveRecord: 0.2ms | Allocations: 19825)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 17:54:58 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"8OGLkhc3Q+UDZc+gv9JycbbIxAI7nHXbiDDaWnGRfs3+5dn3Q7GvvN5VQGFxLcM1Cc0/4BgkImQR7g8HBzWNNA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"5", "quantity"=>"10"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:29:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:29:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 10:55:04.122279"], ["updated_at", "2020-03-02 10:55:04.122279"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 29], ["price", 8000.0], ["quantity", 10], ["created_at", "2020-03-02 10:55:04.126000"], ["updated_at", "2020-03-02 10:55:04.126000"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 29], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-02 10:55:04.128801"], ["updated_at", "2020-03-02 10:55:04.128801"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:38)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-03-02 10:55:04.155666"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:38)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 947], ["updated_at", "2020-03-02 10:55:04.183398"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[35m (19.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/services/order_services/create_order_service.rb:22:in `check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 4)
Completed 200 OK in 151659ms (Views: 199.0ms | ActiveRecord: 66.5ms | Allocations: 259726)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:57:36 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 32.8ms | Allocations: 13099)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 33.1ms | ActiveRecord: 4.4ms | Allocations: 16996)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-02 17:57:39 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 18.4ms | Allocations: 9329)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 23.0ms | ActiveRecord: 0.4ms | Allocations: 13636)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-02 17:57:43 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"dW1FHwBZ3ZRns9BGdI55h1qFBh6BwKRbPPPAgpDMceGsGI25HkgrMtvWi23CealiEsV4B3LJIxnhh/tq93s2vQ==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (1.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-02 10:57:43.534740"], ["id", 5]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (14.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 33ms (ActiveRecord: 17.0ms | Allocations: 4598)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:57:43 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 28.8ms | Allocations: 13089)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 29.9ms | ActiveRecord: 3.1ms | Allocations: 16989)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 17:58:09 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 46.5ms | Allocations: 33393)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 53.4ms | ActiveRecord: 7.1ms | Allocations: 59685)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 17:58:19 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"quwTtdd0zd7f208l1cY8+TL4TjnFoRYLrssU1Bg9Kr2k6EHQg/IhhwLrwOQbOY29jf212+YZQbQ3FcGJbpnZRA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"5", "quantity"=>"10"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:46:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:31:in `block in merge_params'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:31:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 10:59:20.705982"], ["updated_at", "2020-03-02 10:59:20.705982"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 30], ["price", 8000.0], ["quantity", 10], ["created_at", "2020-03-02 10:59:20.709068"], ["updated_at", "2020-03-02 10:59:20.709068"]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 30], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-02 10:59:20.711219"], ["updated_at", "2020-03-02 10:59:20.711219"]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:40)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-03-02 10:59:20.753190"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[35m (194.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:40)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 946], ["updated_at", "2020-03-02 10:59:20.961015"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[35m (198.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 5)
Completed 200 OK in 63401ms (Views: 2.1ms | ActiveRecord: 450.6ms | Allocations: 125042)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:59:41 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 47.8ms | Allocations: 24419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 44.4ms | ActiveRecord: 8.3ms | Allocations: 29438)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-02 17:59:44 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 22.6ms | Allocations: 10210)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 27.1ms | ActiveRecord: 0.7ms | Allocations: 14790)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-02 17:59:46 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"x2wZeqSggNUcJAyZ1ZK7eCvno1PjJT4V3Cn5pgh11S4eGdHcurF2c6BBV7JjZWudY6fdShAsuVcBXcJOb8KScg==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-02 10:59:46.677482"], ["id", 5]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (117.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 139ms (ActiveRecord: 120.1ms | Allocations: 4741)


Started GET "/" for 127.0.0.1 at 2020-03-02 17:59:46 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 65.7ms | Allocations: 13089)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 64.6ms | ActiveRecord: 11.0ms | Allocations: 16988)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 17:59:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 25.0ms | Allocations: 15834)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 29.2ms | ActiveRecord: 4.3ms | Allocations: 30490)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 17:59:59 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"XmrKGf83y+pvI76EMTTr5pPjq7VTwefpeP/VDo6Q2gFQbph8q7Ens7ITMUX/y1qiLOZQV3B5sFbhIQBT+DQp+A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"10"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:46:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:31:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:31:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 11:00:41.593740"], ["updated_at", "2020-03-02 11:00:41.593740"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 31], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-02 11:00:41.595482"], ["updated_at", "2020-03-02 11:00:41.595482"]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 31], ["price", 8000.0], ["quantity", 10], ["created_at", "2020-03-02 11:00:41.597314"], ["updated_at", "2020-03-02 11:00:41.597314"]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[35m (17.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:40)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 945], ["updated_at", "2020-03-02 11:00:41.623173"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:40)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-03-02 11:00:41.649680"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[35m (20.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:40:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 3)
Completed 200 OK in 43096ms (Views: 1.3ms | ActiveRecord: 66.9ms | Allocations: 207721)


Started GET "/" for 127.0.0.1 at 2020-03-02 18:01:07 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 59.1ms | Allocations: 29421)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 60.8ms | ActiveRecord: 9.1ms | Allocations: 39058)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-02 18:01:09 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 50.2ms | Allocations: 24134)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 55.3ms | ActiveRecord: 0.6ms | Allocations: 28721)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-02 18:01:11 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"t2yJrAMG1I9vYKKLQke0+ARvTFvI58WbDyeyBoSCgVpuGUEKHRciKdMF+aD0sGQdTC8yQjvuQtnSU4nu4zXGBg==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-02 11:01:11.994358"], ["id", 5]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 30ms (ActiveRecord: 19.4ms | Allocations: 4916)


Started GET "/" for 127.0.0.1 at 2020-03-02 18:01:12 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 31.4ms | Allocations: 13089)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 31.2ms | ActiveRecord: 4.9ms | Allocations: 16985)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 18:01:15 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 44.0ms | Allocations: 16655)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 80ms (Views: 50.8ms | ActiveRecord: 4.9ms | Allocations: 34530)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 18:01:26 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Htls0HV/tIoEmh5aGL8ersSQfSlosAvZ8SVQw/ZxnAQQ3T61IflY09mqkZvWQK/qe5WGy0sIXGZo+4WegNVv/Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"10"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-02 11:01:26.054634"], ["updated_at", "2020-03-02 11:01:26.054634"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 32], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-02 11:01:26.057015"], ["updated_at", "2020-03-02 11:01:26.057015"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 32], ["price", 8000.0], ["quantity", 10], ["created_at", "2020-03-02 11:01:26.060197"], ["updated_at", "2020-03-02 11:01:26.060197"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[35m (24.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 944], ["updated_at", "2020-03-02 11:01:26.098889"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (26.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-03-02 11:01:26.132871"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (19.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 148ms (Views: 0.7ms | ActiveRecord: 82.0ms | Allocations: 30210)


Started GET "/" for 127.0.0.1 at 2020-03-02 18:02:14 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 35.5ms | Allocations: 13106)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 36.1ms | ActiveRecord: 3.9ms | Allocations: 17014)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-02 18:02:17 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 20.0ms | Allocations: 9299)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.3ms | ActiveRecord: 0.5ms | Allocations: 13603)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-02 18:02:19 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"tLZQJMqaIllZB5JfrZ9oZgY9+ClmYHv1MExuh8NyaGRtw5iC1IvU/+ViyXQbaLiDTn2GMJVp/LftOFVvpMUvOA==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-02 11:02:19.061886"], ["id", 5]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (15.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 27ms (ActiveRecord: 16.4ms | Allocations: 4601)


Started GET "/" for 127.0.0.1 at 2020-03-02 18:02:19 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 26.6ms | Allocations: 13088)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 27.7ms | ActiveRecord: 3.3ms | Allocations: 16985)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-02 18:02:22 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 42.0ms | Allocations: 15704)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 45.8ms | ActiveRecord: 0.3ms | Allocations: 19791)


Started POST "/orders" for 127.0.0.1 at 2020-03-02 18:02:38 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"b9ANL7my208srx4tVI8/BmR5Hu5mN953M5dQtzPaBpxh1F9K7TQ3FvGfkeyacI5C23zlDEWPiciqSYXqRX71ZQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"11"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '11') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '11') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 3)
Completed 200 OK in 17ms (Views: 1.0ms | ActiveRecord: 3.2ms | Allocations: 3300)


Started GET "/" for 127.0.0.1 at 2020-03-02 18:02:49 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 39.8ms | Allocations: 13088)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 39.4ms | ActiveRecord: 5.5ms | Allocations: 16991)


  [1m[36mOrder Load (20.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  [1m[36mOrderDetail Load (1.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9)[0m  [["order_id", 24], ["order_id", 25], ["order_id", 26], ["order_id", 27], ["order_id", 28], ["order_id", 29], ["order_id", 30], ["order_id", 31], ["order_id", 32]]
  [1m[36mCustomer Load (26.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" IN ($1, $2, $3, $4)[0m  [["customer_id", 1], ["customer_id", 2], ["customer_id", 3], ["customer_id", 4]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "customers"."id" AS t0_r0, "customers"."name" AS t0_r1, "customers"."phone" AS t0_r2, "customers"."created_at" AS t0_r3, "customers"."updated_at" AS t0_r4, "orders"."id" AS t1_r0, "orders"."created_at" AS t1_r1, "orders"."updated_at" AS t1_r2, "orders"."customer_id" AS t1_r3 FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id"[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" IN ($1, $2, $3, $4)[0m  [["customer_id", 1], ["customer_id", 2], ["customer_id", 3], ["customer_id", 4]]
Started GET "/" for 127.0.0.1 at 2020-03-03 17:57:09 +0700
  [1m[35m (38.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.0ms | Allocations: 2251)


  
NoMethodError (undefined method `CheckInventoryService' for ProductServices:Module):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/" for 127.0.0.1 at 2020-03-03 17:57:47 +0700
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 2701)


  
NameError (uninitialized constant ProductsController::CheckInventoryService):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/" for 127.0.0.1 at 2020-03-03 17:59:30 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3316)


  
NameError (uninitialized constant ProductsController::CheckInventoryService):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/" for 127.0.0.1 at 2020-03-03 17:59:38 +0700
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2699)


  
NameError (uninitialized constant ProductsController::CheckInventoryService):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/" for 127.0.0.1 at 2020-03-03 18:00:12 +0700
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1631)


  
NoMethodError (undefined method `CheckInventoryService' for ProductServices:Module):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/" for 127.0.0.1 at 2020-03-04 09:49:53 +0700
  [1m[35m (30.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (52.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 207.9ms | Allocations: 29395)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 434ms (Views: 303.4ms | ActiveRecord: 111.0ms | Allocations: 38918)


Started GET "/products/12/edit" for 127.0.0.1 at 2020-03-04 09:50:35 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 367.6ms | Allocations: 125660)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 377ms (Views: 372.7ms | ActiveRecord: 0.6ms | Allocations: 130218)


Started PATCH "/products/12" for 127.0.0.1 at 2020-03-04 09:50:37 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"MI+9SvTCODRuVYjujKIYtBz4TqDgIZO0EW77BmZ3xB5JnRZNGonlCHgOukHZVZ3t5kyok+UTLfp3EMeJfnqSLg==", "product"=>{"name"=>"<script>alert('Sorry not enough enventory')</script>", "price"=>"100", "inventory_attributes"=>{"quantity"=>"0", "id"=>"12"}}, "commit"=>"Save", "id"=>"12"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "price" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["price", 100.0], ["updated_at", "2020-03-04 02:50:37.964144"], ["id", 12]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (40.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 49ms (ActiveRecord: 41.4ms | Allocations: 4526)


Started GET "/" for 127.0.0.1 at 2020-03-04 09:50:38 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 24.8ms | Allocations: 13089)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 25.5ms | ActiveRecord: 3.2ms | Allocations: 16956)


Started GET "/" for 127.0.0.1 at 2020-03-04 09:56:04 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 55.2ms | Allocations: 29409)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 56.7ms | ActiveRecord: 9.2ms | Allocations: 39023)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 09:56:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 61.8ms | Allocations: 30628)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 197ms (Views: 67.3ms | ActiveRecord: 8.3ms | Allocations: 48480)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 09:56:32 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"BbXmM8OxlazLeCyJZVYYR1CXuRnt6FZanLYwWHy3iCsNlECNmN0ldzqOpUwGBE4o1cvPUvGvXrUItVH39wNB7g==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"3", "quantity"=>"10"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 7ms (ActiveRecord: 0.7ms | Allocations: 3209)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 09:56:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 24.8ms | Allocations: 15719)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 29.0ms | ActiveRecord: 0.2ms | Allocations: 19774)


Started GET "/" for 127.0.0.1 at 2020-03-04 09:56:44 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (2.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 36.2ms | Allocations: 13107)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 31.6ms | ActiveRecord: 8.7ms | Allocations: 16988)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 09:56:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 44.4ms | Allocations: 15704)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 48.9ms | ActiveRecord: 0.2ms | Allocations: 19756)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 09:57:04 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"13AxiM1micAONL7UnmnbFpZkqxyrtz4x28q5zPtIgtffUZc2lgo5G//CNxH9O415EzjdV7fwNt5PydhjcPxLEg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"5", "quantity"=>"10"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 14ms (ActiveRecord: 1.5ms | Allocations: 3176)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 09:57:04 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 46.0ms | Allocations: 15710)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 53.6ms | ActiveRecord: 0.4ms | Allocations: 19762)


Started GET "/" for 127.0.0.1 at 2020-03-04 09:57:09 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 33.9ms | Allocations: 13088)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 32.8ms | ActiveRecord: 5.5ms | Allocations: 16959)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:01:27 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 46.4ms | Allocations: 33391)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 54.0ms | ActiveRecord: 7.1ms | Allocations: 59655)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:01:38 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ZuXYqHSfyjNmQhx4mxkIkYxtUviiIZgRwxbkxCuNGtJuxH4WL/N66Je0lb34S17+CTEks75mkP5XFYVroDnTFw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"5", "quantity"=>"10"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 18ms (ActiveRecord: 3.5ms | Allocations: 7503)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:01:38 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 26.0ms | Allocations: 15635)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 31.0ms | ActiveRecord: 0.3ms | Allocations: 19699)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:01:46 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 32.7ms | Allocations: 17752)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 33.3ms | ActiveRecord: 3.9ms | Allocations: 22136)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 10:01:50 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 190.5ms | Allocations: 111875)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 199ms (Views: 195.3ms | ActiveRecord: 0.5ms | Allocations: 116434)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 10:01:53 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"6ZNXmlsIXnrMB2QctlzGGmGOOLsq2glUWZpNVygBrnlaxkLx9589ZEM27ihSJqpzbEdvnx/7rWeFcZDfrer5rA==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"11", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 11], ["updated_at", "2020-03-04 03:01:53.874333"], ["id", 5]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (20.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 40ms (ActiveRecord: 22.4ms | Allocations: 4862)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:01:53 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 26.4ms | Allocations: 13089)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 28.0ms | ActiveRecord: 3.1ms | Allocations: 16956)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:01:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 34.3ms | Allocations: 15734)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 38.3ms | ActiveRecord: 0.3ms | Allocations: 19791)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:02:08 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"grUCpIebK0dh2V10MdpApNAozFiWE/DZWOWOXis/XgaKlKQa3PebnJAv1LFSiBbLVXS6E4pU+DbM5u/xoIuXww==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"5", "quantity"=>"11"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '11') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '11') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 18ms (ActiveRecord: 1.8ms | Allocations: 3157)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:02:08 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 50.1ms | Allocations: 15707)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 56.3ms | ActiveRecord: 0.4ms | Allocations: 19767)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:02:12 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 28.8ms | Allocations: 13088)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 29.2ms | ActiveRecord: 3.9ms | Allocations: 16955)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:02:43 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 29.0ms | Allocations: 15702)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 32.9ms | ActiveRecord: 0.3ms | Allocations: 19756)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:02:53 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"5O6kHCZuRO8NSlaCW6vg8Xi1DWRlo0pfzrZDI4KdR0jszwKifQL0NPy830c4+bae/el7L3nkQrBatSKMCSmOjQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"10"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 12ms (ActiveRecord: 1.7ms | Allocations: 3166)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:02:53 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 24.5ms | Allocations: 15702)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 28.2ms | ActiveRecord: 0.3ms | Allocations: 19761)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:02:56 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (2.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 38.1ms | Allocations: 13088)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 34.1ms | ActiveRecord: 8.2ms | Allocations: 16965)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:04:29 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 46.7ms | Allocations: 33392)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 54.2ms | ActiveRecord: 7.1ms | Allocations: 59650)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:04:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Lu5iT0sWIn65DoH51j9Pmpunn1hpQYbnnxY7FV6FREsmz8TxEHqSpUj4CDy1bRn1HvvpE3UGjggLFVq61TGNjg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"10"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 41ms (ActiveRecord: 10.0ms | Allocations: 7500)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:04:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 31.2ms | Allocations: 15635)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.8ms | ActiveRecord: 0.3ms | Allocations: 19692)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:05:32 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 47.3ms | Allocations: 33391)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 54.8ms | ActiveRecord: 7.4ms | Allocations: 59655)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:05:44 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"mB2FZKBcPaJMpEHL8yB/trCgBvS90YvrrWEJqaTnn4GQPCPa+zCNeb1SyA6QcinZNfxwv6GWgwQ5YmgGL1NWRA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"10"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 276749ms (ActiveRecord: 5.7ms | Allocations: 101738)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:10:21 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 42.0ms | Allocations: 15678)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 46.8ms | ActiveRecord: 0.3ms | Allocations: 19732)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:14:44 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"hWWFyC4cW10kt2PSiExFGbfvEKn977mAcosMtKML7pONRCN2dXDrhtVB6hfrHhN2MrNm4uGosW/miG0bKL8nVg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12313412"}, "1"=>{"product_id"=>"5", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12313412') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12313412') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 5)
Completed 200 OK in 164306ms (Views: 40.4ms | ActiveRecord: 1.3ms | Allocations: 108686)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:18:39 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 44.2ms | Allocations: 19077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 47.1ms | ActiveRecord: 9.3ms | Allocations: 34296)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:18:55 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"rRRKnCuv2Cxi0s0OO7Bf4+s1lc+fC1IgjJYCE8qYgvOlNewicMNo95MkRMtY4gmMbmnjhINMWs8YlWO8QSxLNg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"132213"}, "1"=>{"product_id"=>"5", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '132213') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '132213') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/orders_controller.rb:39:in `create'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 24346ms (Views: 0.8ms | ActiveRecord: 6.2ms | Allocations: 114847)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:19:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 27.1ms | Allocations: 15680)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 31.3ms | ActiveRecord: 0.3ms | Allocations: 19744)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:19:45 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"DhQql+3O/tMTVAKo+tlrwNbwt+w6GcUiT67n9t7otKYGNYwptqJOCOKii22Ziz2vU6zBpyZezc3brYZZVVx9Yw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 2129ms (ActiveRecord: 1.1ms | Allocations: 76741)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:19:47 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 28.3ms | Allocations: 15653)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 0.3ms | Allocations: 19708)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:19:52 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 36.9ms | Allocations: 17139)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 37.3ms | ActiveRecord: 4.5ms | Allocations: 21515)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:24:14 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 57.7ms | Allocations: 29409)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 58.4ms | ActiveRecord: 9.1ms | Allocations: 39022)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:24:18 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 42.7ms | Allocations: 30628)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 47.1ms | ActiveRecord: 5.0ms | Allocations: 48483)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:24:30 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"pv0jEgZc/yzYj/wFP0WK7rNADCms+jukNxEjMhgiMv2u3IWsXTBP9yl5dcBcF9yBNhx6YrC9M0ujEkKdk5b7OA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 53857ms (ActiveRecord: 1.4ms | Allocations: 77263)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:25:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 31.9ms | Allocations: 15739)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 36.5ms | ActiveRecord: 0.3ms | Allocations: 19794)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:25:36 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (1.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (2.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 53.9ms | Allocations: 13107)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 47.4ms | ActiveRecord: 12.1ms | Allocations: 16988)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:29:29 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 56.6ms | Allocations: 29417)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 57.5ms | ActiveRecord: 9.2ms | Allocations: 39025)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:29:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 42.5ms | Allocations: 30628)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 47.8ms | ActiveRecord: 5.0ms | Allocations: 48483)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:29:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"E71gfwLOlYQqDgja+ksB2ynhUkUCksZQsdbKD8NXpbMbnMbBWaIlX9v4gR+ZGVe0rL0kDh7Vzr8l1augSONsdg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1124124"}, "1"=>{"product_id"=>"3", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (3.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1124124') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1124124') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/orders_controller.rb:39:in `create'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 5)
Completed 200 OK in 13258ms (Views: 1.7ms | ActiveRecord: 4.5ms | Allocations: 33745)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:29:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 31.0ms | Allocations: 15727)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.6ms | ActiveRecord: 0.3ms | Allocations: 19791)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:30:13 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"9BmooUT007Qjbu2FjWcmq7kGKahZxa5XfK9mes3Yv078OA4fH5hjb9KYZEDuNXDEPFpf40WCprjorAfVRmx2iw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (2.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (25.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `create'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrder Create (48.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-04 03:30:13.496182"], ["updated_at", "2020-03-04 03:30:13.496182"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (39.0ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 33], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-04 03:30:13.548073"], ["updated_at", "2020-03-04 03:30:13.548073"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 33], ["price", 8000.0], ["quantity", 1], ["created_at", "2020-03-04 03:30:13.590986"], ["updated_at", "2020-03-04 03:30:13.590986"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[35m (32.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 943], ["updated_at", "2020-03-04 03:30:13.639674"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (10.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-04 03:30:13.663739"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (17.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 7523ms (ActiveRecord: 191.2ms | Allocations: 147073)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:30:20 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 37.8ms | Allocations: 15747)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 41.9ms | ActiveRecord: 0.3ms | Allocations: 19800)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:30:24 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (5.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 36.0ms | Allocations: 13100)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 29.9ms | ActiveRecord: 10.4ms | Allocations: 16974)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:32:35 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 47.7ms | Allocations: 33391)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 90ms (Views: 54.8ms | ActiveRecord: 8.8ms | Allocations: 59651)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:32:44 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"99QOg2/7k9ZKndAbr9SbGUm+EfEIeQLY1lXzl0vZ/CL/9ag9NJcjDbtrWd7Mhs12zOJnuhQ+CjdCVpI4wG015w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"10"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-04 03:32:59.006055"], ["updated_at", "2020-03-04 03:32:59.006055"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 34], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-04 03:32:59.008112"], ["updated_at", "2020-03-04 03:32:59.008112"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 34], ["price", 8000.0], ["quantity", 10], ["created_at", "2020-03-04 03:32:59.010627"], ["updated_at", "2020-03-04 03:32:59.010627"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[35m (21.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 942], ["updated_at", "2020-03-04 03:32:59.041669"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (17.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-03-04 03:32:59.067504"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (20.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 5)
Completed 200 OK in 293629ms (Views: 12.7ms | ActiveRecord: 74.9ms | Allocations: 127244)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:37:45 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 41.4ms | Allocations: 15683)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 45.9ms | ActiveRecord: 0.3ms | Allocations: 19746)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:37:48 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 31.6ms | Allocations: 16140)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 32.7ms | ActiveRecord: 3.7ms | Allocations: 20571)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 10:37:50 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 24.4ms | Allocations: 10206)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 28.5ms | ActiveRecord: 0.7ms | Allocations: 14752)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 10:37:52 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"3+11WAFPCCSyfc2DDvGKY7Pymrrl911xR2AbX0hjrRhsuGAzrdhrOj1MR7fqi+YKvjvNntDW+UKbi8bXzYj6zQ==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-04 03:37:52.010186"], ["id", 5]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 20.8ms | Allocations: 4652)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:37:52 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 36.0ms | Allocations: 13089)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 37.3ms | ActiveRecord: 3.6ms | Allocations: 16964)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:37:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 26.6ms | Allocations: 15747)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.3ms | Allocations: 19810)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:38:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"oQ3ncqeS9AtCZs2QSKT5491bXj9S6yRBWlRZs4aWo26pLEHM/P5E0LOQRFUr9q+MWAcodE6sLK7OVzgcDSJqqw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"5", "quantity"=>"10"}, "1"=>{"product_id"=>"1", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-04 03:39:11.329578"], ["updated_at", "2020-03-04 03:39:11.329578"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 35], ["price", 8000.0], ["quantity", 10], ["created_at", "2020-03-04 03:39:11.331815"], ["updated_at", "2020-03-04 03:39:11.331815"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 35], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-04 03:39:11.334618"], ["updated_at", "2020-03-04 03:39:11.334618"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[35m (14.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-03-04 03:39:11.357376"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (20.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 941], ["updated_at", "2020-03-04 03:39:11.385001"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (20.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 132548ms (Views: 0.7ms | ActiveRecord: 63.2ms | Allocations: 100495)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:40:24 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 40.6ms | Allocations: 22011)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 37.9ms | ActiveRecord: 7.4ms | Allocations: 28874)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 10:40:26 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 23.2ms | Allocations: 9581)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 27.8ms | ActiveRecord: 0.4ms | Allocations: 13967)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 10:40:27 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"mo9p9h9eC939Ggng6KU+g4FiJoSgUVgQ8mThGc2/9wwp2nyds8low3Irg9QM31LqjKtxoJVw/CMujzyRSFSg2Q==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (1.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-04 03:40:28.009077"], ["id", 5]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 51ms (ActiveRecord: 28.2ms | Allocations: 4664)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:40:28 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 26.8ms | Allocations: 13088)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 27.7ms | ActiveRecord: 3.3ms | Allocations: 16959)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:40:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 28.6ms | Allocations: 15829)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 32.8ms | ActiveRecord: 4.8ms | Allocations: 30469)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:40:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"A3/LYYMxDWNMJI4x5LTHyCliPTjzkr2uU0XrlI4ijOMLXm3f2F29uL3SB/SH5pGnrD5Lc+/VtUHHRoo7BZZFJg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"10"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-04 03:40:44.385322"], ["updated_at", "2020-03-04 03:40:44.385322"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 36], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-04 03:40:44.387620"], ["updated_at", "2020-03-04 03:40:44.387620"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 36], ["price", 8000.0], ["quantity", 10], ["created_at", "2020-03-04 03:40:44.389877"], ["updated_at", "2020-03-04 03:40:44.389877"]]
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[35m (19.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:57:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 940], ["updated_at", "2020-03-04 03:40:44.421443"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (14.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-03-04 03:40:44.448804"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (14.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 3)
Completed 200 OK in 10109ms (Views: 1.0ms | ActiveRecord: 62.7ms | Allocations: 85469)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:41:07 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 64.0ms | Allocations: 29429)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 81ms (Views: 65.2ms | ActiveRecord: 9.5ms | Allocations: 39043)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 10:41:09 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 35.4ms | Allocations: 24134)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 39.8ms | ActiveRecord: 0.6ms | Allocations: 28684)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 10:41:11 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"GtKA513J/uMJRhSzSq08YzVXoLgzQxI0Xv1FfTosaPmph5WM8V6d/YZ3noeu11AKOJ73nAZitgeCFpj1v8c/LA==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:10:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-04 03:41:11.222525"], ["id", 5]]
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
  [1m[35m (20.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/update_product_service.rb:13:in `update'
Redirected to http://localhost:3000/
Completed 302 Found in 37ms (ActiveRecord: 22.5ms | Allocations: 4894)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:41:11 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 27.1ms | Allocations: 13089)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 28.5ms | ActiveRecord: 3.0ms | Allocations: 16955)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:41:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 27.8ms | Allocations: 16655)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 32.6ms | ActiveRecord: 4.8ms | Allocations: 34492)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 10:41:24 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"LLfCMHWXN+VukKytdg/G1LT/Y21YICnf5cc2abGtZT8klmSOLvuHPp9mJWgVXZC7MaMVJkRnITBxxFfGOhms+g==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"5", "quantity"=>"10"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5' AND quantity >= '10') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:46:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-04 03:41:25.593927"], ["updated_at", "2020-03-04 03:41:25.593927"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 37], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-04 03:41:25.596952"], ["updated_at", "2020-03-04 03:41:25.596952"]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 5], ["order_id", 37], ["price", 8000.0], ["quantity", 10], ["created_at", "2020-03-04 03:41:25.599744"], ["updated_at", "2020-03-04 03:41:25.599744"]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 939], ["updated_at", "2020-03-04 03:41:25.629634"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 0], ["updated_at", "2020-03-04 03:41:25.657690"], ["id", 5]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (19.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 2074ms (ActiveRecord: 76.3ms | Allocations: 74313)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 10:41:26 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 37.8ms | Allocations: 15747)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 42.9ms | ActiveRecord: 0.4ms | Allocations: 19805)


Started GET "/" for 127.0.0.1 at 2020-03-04 10:41:32 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 47.7ms | Allocations: 13106)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 46.7ms | ActiveRecord: 5.9ms | Allocations: 16979)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 10:49:27 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 102.0ms | Allocations: 5667)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 108ms (Views: 106.8ms | ActiveRecord: 0.0ms | Allocations: 9544)


Started GET "/" for 127.0.0.1 at 2020-03-04 11:06:34 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2158)


  
ArgumentError (Unknown validator: 'NumbericalityValidator'):
  
app/models/product.rb:6:in `<class:Product>'
app/models/product.rb:1:in `<top (required)>'
app/controllers/products_controller.rb:8:in `index'
Started GET "/" for 127.0.0.1 at 2020-03-04 11:07:22 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 56.3ms | Allocations: 29418)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 56.1ms | ActiveRecord: 9.7ms | Allocations: 39229)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:07:24 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 342.0ms | Allocations: 173926)
Completed 500 Internal Server Error in 343ms (ActiveRecord: 0.0ms | Allocations: 174570)


  
ActionView::Template::Error (undefined local variable or method `product' for #<#<Class:0x00007f9ddd71e2b0>:0x00007f9ddd529130>
Did you mean?  @product):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	<% if product.errors.any? %>
    5: 	  <div id="error_explanation">
    6: 	    <h2><%= pluralize(product.errors.count, "error") %> prohibited this product from being saved:</h2>
    7: 
  
app/views/products/new.html.erb:4
app/views/products/new.html.erb:3
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:12:00 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 287.6ms | Allocations: 160591)
Completed 500 Internal Server Error in 289ms (ActiveRecord: 0.0ms | Allocations: 161082)


  
ActionView::Template::Error (undefined local variable or method `product' for #<#<Class:0x00007f9ddd71e2b0>:0x00007f9ddd1137f8>
Did you mean?  @product):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	<% if product.errors.any? %>
    5: 	  <div id="error_explanation">
    6: 	    <h2><%= pluralize(product.errors.count, "error") %> prohibited this product from being saved:</h2>
    7: 
  
app/views/products/new.html.erb:4
app/views/products/new.html.erb:3
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:12:04 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 270.4ms | Allocations: 160577)
Completed 500 Internal Server Error in 272ms (ActiveRecord: 0.0ms | Allocations: 161060)


  
ActionView::Template::Error (undefined local variable or method `product' for #<#<Class:0x00007f9ddd71e2b0>:0x00007f9ddd33ac70>
Did you mean?  @product):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	<% if product.errors.any? %>
    5: 	  <div id="error_explanation">
    6: 	    <h2><%= pluralize(product.errors.count, "error") %> prohibited this product from being saved:</h2>
    7: 
  
app/views/products/new.html.erb:4
app/views/products/new.html.erb:3
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:13:01 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 198.5ms | Allocations: 109604)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 208ms (Views: 205.7ms | ActiveRecord: 0.0ms | Allocations: 114299)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:13:05 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"IR6ZKsn6P1U5pwhOX+ES50AC4gTCXQ5yI1N2wlGnjVcpPz+UkpaPjshRgYs8s0SIxV6UT94aBp23UBdt2hNEkg==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1168)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3926)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	<% if @product.errors.any? %>
    5: 	  <div id="error_explanation">
    6: 	    <h2><%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:24:in `block (2 levels) in create'
app/controllers/products_controller.rb:19:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:19:00 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 31.7ms | Allocations: 20433)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 40.8ms | ActiveRecord: 2.7ms | Allocations: 33907)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:19:02 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"swM/OtlcCVCg0eEzdK7WbDd4C0b/oUQjeGmcaDas8oC7IpmEgjC5i1EnaPYX/IADsiR9DePmTMzsav3HvRg7RQ==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1866)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 4666)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	<% if @product.errors.any? %>
    5: 	  <div id="error_explanation">
    6: 	    <h2><%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:24:in `block (2 levels) in create'
app/controllers/products_controller.rb:19:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:19:31 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 32.3ms | Allocations: 20433)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 41.7ms | ActiveRecord: 3.2ms | Allocations: 33909)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:19:33 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"r4YRbdcvM26mwRVpWnljrR6dQlY6F5AhjmPtPyyA5wynp7fTjEODtVc3nKw5KzXCm8E0HSZQmM4aYIyQpzQuyQ==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1866)
Completed 500 Internal Server Error in 23519ms (ActiveRecord: 0.0ms | Allocations: 29687)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	<% if @product.errors.any? %>
    5: 	  <div id="error_explanation">
    6: 	    <h2><%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:24:in `block (2 levels) in create'
app/controllers/products_controller.rb:19:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:20:15 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 37.5ms | Allocations: 20437)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 49.0ms | ActiveRecord: 3.8ms | Allocations: 33910)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:20:16 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"fRaONzXjQR+JaAWhCLQrbLu0RRwi18PqKcL/JvUdDl51NyiJbo/xxHiejGRr5n0DPugzVz6QywW9wZ6JfqnHmw==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
Completed 500 Internal Server Error in 9252ms (ActiveRecord: 0.0ms | Allocations: 28692)


  
Errno::EIO (Input/output error @ io_writev - <STDOUT>):
  
app/controllers/products_controller.rb:18:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:20:41 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 35.9ms | Allocations: 20432)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 48.2ms | ActiveRecord: 2.7ms | Allocations: 33906)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:20:43 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"eHYGXExN4i719uflHaZNxBkYSHgLF9LyU88v/SS/xsBwV6DiFyFS9QQAbiB+9BurnEQ+MxdQ2h3HzE5SrwsPBQ==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1864)
Completed 500 Internal Server Error in 12964ms (ActiveRecord: 0.0ms | Allocations: 59482)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	<% if @product.errors.any? %>
    5: 	  <div id="error_explanation">
    6: 	    <h2><%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:30:in `block (2 levels) in create'
app/controllers/products_controller.rb:19:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:22:18 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 5806)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 14.1ms | ActiveRecord: 2.2ms | Allocations: 16989)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:22:20 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"UYWpahszjtQHKVS9uBs4gaL4HKrLprqW7vncX+i9oPJZpA/UQF8+D/bf3XjbSW7uJ6Rq4dfhsnl6+r3wYwlpNw==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
Redirected to http://localhost:3000/products/new
Completed 302 Found in 11ms (ActiveRecord: 0.0ms | Allocations: 2870)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:22:20 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 16.5ms | Allocations: 5455)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 22.8ms | ActiveRecord: 0.0ms | Allocations: 9240)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:24:29 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 33.7ms | Allocations: 20433)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 44.4ms | ActiveRecord: 3.1ms | Allocations: 33913)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:24:46 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 9.3ms | Allocations: 5599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 15.3ms | ActiveRecord: 2.3ms | Allocations: 15998)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:24:47 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"J3pcas038nf9cx75YXBCrNj4/wMbmtMuyeTfC043GiUvW/rUlltCrAyFlzwCIhTDXaSJSAfd28Fd576kxYPT4A==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1866)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms | Allocations: 4668)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	<% if @product.errors.any? %>
    5: 	  <div id="error_explanation">
    6: 	    <h2><%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:25:in `block (2 levels) in create'
app/controllers/products_controller.rb:18:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:33:44 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 12.4ms | Allocations: 5869)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 17.5ms | ActiveRecord: 0.0ms | Allocations: 16922)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:33:46 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"57maGGAFGtOMfGev4PrRxikP2nRMMY7yLnF/5/Jpd0rvmDymO2mqCH2K7mqDqIeprFOsP1B2hh26ch5Ied2+jw==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1148)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3652)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: <% flash.each do |key, value| %>
    5:   <%= content_tag :div, value, class: "flash #{key}" %>
    6: <% end %>
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:24:in `create'
Started GET "/products" for 127.0.0.1 at 2020-03-04 11:33:56 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 61.9ms | Allocations: 25503)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 58.0ms | ActiveRecord: 11.4ms | Allocations: 30295)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:33:58 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 13.2ms | Allocations: 5649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.0ms | Allocations: 9572)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:33:59 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"pDGius70jx8d1moSOaJ8AiQVidGOXLImNIAWIjBu9sKsEAQElZg/xOwg49da8CptoUn/mpIbusmgg3eNu9o/Bw==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1148)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 3578)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 
    5: 	<p>
    6: 		<%= f.input :name, require: true, lable: 'Name: '%>
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:24:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:36:00 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 30.9ms | Allocations: 20306)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 40.4ms | ActiveRecord: 2.8ms | Allocations: 33871)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:36:01 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"PPLbbRqNmx5zr9e0VHM1yEWCLbzQZSyVmkdEzBErst00033TQeErxYJZXnE3IWOnwN5b98wiJHoORCVjmp97GA==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1849)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 4626)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	
    5: 	<p>
    6: 		<%= f.input :name, require: true, lable: 'Name: '%>
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:24:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:37:06 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 5607)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 12.8ms | ActiveRecord: 2.4ms | Allocations: 16022)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:37:08 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"69kocWC40V9LCqXJhLQOF2YVXlw9eDuIG0kXSkssYv/j+I7PO9RhhLr8LAzn5lh440koFyE/M2ePSnblwJirOg==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1149)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 3635)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	
    5: 	<p>
    6: 		<%= f.input :name, require: true, lable: 'Name: '%>
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:23:in `create'
Started GET "/" for 127.0.0.1 at 2020-03-04 11:52:22 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 59.4ms | Allocations: 29415)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 61.6ms | ActiveRecord: 9.4ms | Allocations: 39245)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:52:26 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 300.5ms | Allocations: 173905)
Completed 500 Internal Server Error in 302ms (ActiveRecord: 0.0ms | Allocations: 174583)


  
ActionView::Template::Error (undefined local variable or method `product' for #<#<Class:0x00007fd9fd723dd0>:0x00007fd9fd531608>
Did you mean?  @product):
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	
    5: 	<% if product.errors.any? %>
    6:     	<div id="error_explanation">
    7:     	  <h2><%= pluralize(product.errors.count, "error") %> prohibited this product from being saved:</h2>
    8: 	
  
app/views/products/new.html.erb:5
app/views/products/new.html.erb:3
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 11:53:05 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 11.6ms | Allocations: 7916)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 17.3ms | ActiveRecord: 2.5ms | Allocations: 19119)


Started POST "/products" for 127.0.0.1 at 2020-03-04 11:53:06 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"wPqNX8+Cm6dVPYn2RXLdHo2PTVfe2vNQg/NSWvKhLjHI2yvhlO4rfKTLADMmIItxCNM7HMKd+78X8DP1eRXn9A==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1168)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3954)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	
    5: 	<% if @product.errors.any? %>
    6:     	<div id="error_explanation">
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:24:in `block (2 levels) in create'
app/controllers/products_controller.rb:19:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 12:00:10 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1639)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 9217)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	
    5: 	<% if @productTMP.errors.any? %>
    6:     	<div id="error_explanation">
    7:     	  <h2><%= pluralize(@productTMP.errors.count, "error") %> prohibited this product from being saved:</h2>
    8: 	
  
app/views/products/new.html.erb:5
app/views/products/new.html.erb:3
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 12:04:17 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 33.5ms | Allocations: 20439)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 44.3ms | ActiveRecord: 2.5ms | Allocations: 33910)


Started POST "/products" for 127.0.0.1 at 2020-03-04 12:04:19 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"mYRPIlUa4ohsVLSekQ8xKY/cNAIVJt/xwEAC1h7PlOGRpemcDnZSU52iPVvyXWdGCoBCSQlh1x5UQ2N5lXtdJA==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1866)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 4662)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	
    5: 	<% if @product.errors.any? %>
    6:     	<div id="error_explanation">
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:24:in `block (2 levels) in create'
app/controllers/products_controller.rb:19:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 13:54:28 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 23.7ms | Allocations: 5470)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 28.0ms | ActiveRecord: 0.0ms | Allocations: 9260)


Started POST "/products" for 127.0.0.1 at 2020-03-04 13:54:34 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"Ocj/3ZHAXGc9YwKjuJfCzhEG6V7pmajIvWLv/OQjPDgx6VljyqzsvMyVi2bbxZShlFqfFfXeoCcpYY5Tb5f1/Q==", "product"=>{"name"=>"a", "price"=>"-10"}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1166)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms | Allocations: 2709)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	
    5: 	<% if @product.errors.any? %>
    6:     	<div id="error_explanation">
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:24:in `block (2 levels) in create'
app/controllers/products_controller.rb:19:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 14:00:20 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 30.7ms | Allocations: 20439)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 41.0ms | ActiveRecord: 3.0ms | Allocations: 33919)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:00:21 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"H3M0xfhoO6eL8aGQvnY/7GU7Wwws+4evsPm0WBJbo6cXUpJ7owSLfHoHKFXdJGmD4GctRzC8j0Ak+tX3me9qYg==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
Redirected to http://localhost:3000/products
Completed 302 Found in 8ms (ActiveRecord: 0.0ms | Allocations: 2742)


Started GET "/products" for 127.0.0.1 at 2020-03-04 14:00:21 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (2.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 55.0ms | Allocations: 25452)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 51.6ms | ActiveRecord: 9.5ms | Allocations: 29456)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 14:00:56 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 30.3ms | Allocations: 20439)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 40.1ms | ActiveRecord: 2.8ms | Allocations: 33931)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:00:57 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"QlnNIFzakhBL3Qe1lVGURpqxUHbENHJVSdgQtz1+gwlKeGueB7Yiy7orjnD2A8IpH+0mPdhzerrd23EYtspKzA==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
Redirected to http://localhost:3000/products
Completed 302 Found in 8ms (ActiveRecord: 0.0ms | Allocations: 2776)


Started GET "/products" for 127.0.0.1 at 2020-03-04 14:00:57 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 47.5ms | Allocations: 25460)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 45.8ms | ActiveRecord: 6.7ms | Allocations: 29470)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 14:01:56 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 33.4ms | Allocations: 20439)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 43.7ms | ActiveRecord: 2.9ms | Allocations: 33924)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:01:57 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"2vpxeXd90s88rhgn0+02d5XVIndlXNXIaKQf122XE/jS29fHLBFiFM1YkeKwv2AYEIlUPHkb3Sf8p3545iPaPQ==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 24.3ms | Allocations: 5900)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 33.4ms | ActiveRecord: 0.0ms | Allocations: 11987)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:02:07 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"3yiBI472F9vfpbzCKgcYZIAFkHVgY4BT5W7Zhw2djjjXCSed1ZqnAC5TNQdJVU4LBVnmPnwkiLxxbbgohilH/Q==", "product"=>{"name"=>"aaaaa", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 24.6ms | Allocations: 5707)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 35.7ms | ActiveRecord: 0.0ms | Allocations: 11140)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:02:12 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"KFriG9jkbMhmxBAk2wMBh9+6L2D+UTkn5qxpfkdp5zgge0Slg4jcE5cymeG4UVfoWuZZK+IWMchyrwjRzN0u/Q==", "product"=>{"name"=>"aaaa", "price"=>"-100"}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 5565)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 0.0ms | Allocations: 10395)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:07:46 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"ptHkk+Viw7usBGyDpYn456gmsooH+HkqTQxdHiKnBReu8EItvg5zYF3y5UbG266ILXrEwRu/ccXZDzyxqRPM0g==", "product"=>{"name"=>"aaaa", "price"=>"1"}, "commit"=>"Create"}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.2ms | Allocations: 8844)


  
NoMethodError (undefined method `valid' for #<Product:0x00007f80800141d8>
Did you mean?  valid?):
  
app/controllers/products_controller.rb:23:in `block in create'
app/controllers/products_controller.rb:21:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 14:07:54 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 5612)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 17.4ms | ActiveRecord: 2.7ms | Allocations: 16028)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:07:58 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"PYr5bvAoSp5vzRCC4Ps1ydKvMaZamYgfFGvSxB5wTdk1q1/Qq0T6RZ47mUeDqWOmV/NH7UbegPCAaLNrlcSEHA==", "product"=>{"name"=>"aaaaa", "price"=>"1"}, "commit"=>"Create"}
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[36mProduct Create (77.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "aaaaa"], ["price", 1.0], ["created_at", "2020-03-04 07:07:58.609112"], ["updated_at", "2020-03-04 07:07:58.609112"]]
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[35m (206.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:24:in `block in create'
  [1m[36mInventory Create (48.6ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 14], ["quantity", 0], ["created_at", "2020-03-04 07:07:58.930135"], ["updated_at", "2020-03-04 07:07:58.930135"]]
  ↳ app/controllers/products_controller.rb:24:in `block in create'
  [1m[35m (35.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:24:in `block in create'
Redirected to http://localhost:3000/products/14
Completed 302 Found in 415ms (ActiveRecord: 375.7ms | Allocations: 12628)


Started GET "/products/14" for 127.0.0.1 at 2020-03-04 14:07:59 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:55:in `show'
Completed 406 Not Acceptable in 10ms (ActiveRecord: 0.6ms | Allocations: 3383)


  
ActionController::MissingExactTemplate (ProductsController#show is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 14:08:24 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 5608)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 13.8ms | ActiveRecord: 2.4ms | Allocations: 16042)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:08:28 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"IoIJWsXXXznapxa7Xevx2j500l9VbpMYpllzYYtGD2sqo6/knrvv4itRn34+uae1uyikFEkpm/cyWhLOAPLGrg==", "product"=>{"name"=>"aaaa", "price"=>"1"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "aaaa"], ["price", 1.0], ["created_at", "2020-03-04 07:08:28.785864"], ["updated_at", "2020-03-04 07:08:28.785864"]]
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[35m (24.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:24:in `block in create'
  [1m[36mInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 15], ["quantity", 0], ["created_at", "2020-03-04 07:08:28.824516"], ["updated_at", "2020-03-04 07:08:28.824516"]]
  ↳ app/controllers/products_controller.rb:24:in `block in create'
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:24:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:25:in `block (2 levels) in create'
Redirected to 
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2) LIMIT $1[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 78ms (ActiveRecord: 49.1ms | Allocations: 16935)


  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2) LIMIT $1[0m  [["LIMIT", 11]]
  
NoMethodError (undefined method `to_model' for #<Product::ActiveRecord_Relation:0x0000555c676e00f0>
Did you mean?  to_xml):
  
app/controllers/products_controller.rb:25:in `block (2 levels) in create'
app/controllers/products_controller.rb:20:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 14:08:43 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 8.4ms | Allocations: 5608)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 13.1ms | ActiveRecord: 2.4ms | Allocations: 16055)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:08:47 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"je4+JBCKnktCC/8TvQkAbhVsWjSZUaKbM4pymA0UhFKFz5iaS+YukLP9dtbeW1YBkDAsf4UWqnSniRM3hqBNlw==", "product"=>{"name"=>"aaaaaaaaaaaaa", "price"=>"1"}, "commit"=>"Create"}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "aaaaaaaaaaaaa"], ["price", 1.0], ["created_at", "2020-03-04 07:08:47.521855"], ["updated_at", "2020-03-04 07:08:47.521855"]]
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[35m (22.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:24:in `block in create'
  [1m[36mInventory Create (0.7ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 16], ["quantity", 0], ["created_at", "2020-03-04 07:08:47.576114"], ["updated_at", "2020-03-04 07:08:47.576114"]]
  ↳ app/controllers/products_controller.rb:24:in `block in create'
  [1m[35m (23.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:24:in `block in create'
Redirected to 
Completed 500 Internal Server Error in 307ms (ActiveRecord: 53.9ms | Allocations: 116158)


  
NoMethodError (undefined method `index_url' for #<ProductsController:0x00007f809d4df330>
Did you mean?  index):
  
app/controllers/products_controller.rb:25:in `block (2 levels) in create'
app/controllers/products_controller.rb:20:in `create'
Started GET "/products/new" for 127.0.0.1 at 2020-03-04 14:09:00 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 5616)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 16.4ms | ActiveRecord: 2.6ms | Allocations: 16086)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:09:05 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"XJfN8ewJnc8rQgQ92nRW0jyXboNmNNg6JcKpPJkbmspUtmtPt2UtFNq0jfi5JgC9ucsYyHpz0NWxwciTEq9TDw==", "product"=>{"name"=>"bbn", "price"=>"1"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "bbn"], ["price", 1.0], ["created_at", "2020-03-04 07:09:05.331888"], ["updated_at", "2020-03-04 07:09:05.331888"]]
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[35m (37.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:24:in `block in create'
  [1m[36mInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 17], ["quantity", 0], ["created_at", "2020-03-04 07:09:05.386616"], ["updated_at", "2020-03-04 07:09:05.386616"]]
  ↳ app/controllers/products_controller.rb:24:in `block in create'
  [1m[35m (28.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:24:in `block in create'
Redirected to http://localhost:3000index
Completed 302 Found in 91ms (ActiveRecord: 70.4ms | Allocations: 9663)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 14:12:40 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 5608)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 13.6ms | ActiveRecord: 3.5ms | Allocations: 16072)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:12:41 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"jTYADTo88wNdSWAV/PJ6kK4pkfWV/YpezV2u3oiOmPeFF6azYVBD2Ky/6dCfoCz/K3Xnvom6grFZXs9xAzpRMg==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 27.5ms | Allocations: 5886)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 37.3ms | ActiveRecord: 0.0ms | Allocations: 11707)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:12:45 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"3TOmTUcC02fqBO1F8YTJUvhw84N3P647WglmOs11B7jVEgDzHG5jvBvyZICS1p89fSyFyGt4ptTOCgeVRsHOfQ==", "product"=>{"name"=>"aaaaq2", "price"=>"1"}, "commit"=>"Create"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "aaaaq2"], ["price", 1.0], ["created_at", "2020-03-04 07:12:45.931748"], ["updated_at", "2020-03-04 07:12:45.931748"]]
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[35m (30.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:22:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:24:in `block in create'
  [1m[36mInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 18], ["quantity", 0], ["created_at", "2020-03-04 07:12:45.975179"], ["updated_at", "2020-03-04 07:12:45.975179"]]
  ↳ app/controllers/products_controller.rb:24:in `block in create'
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:24:in `block in create'
Redirected to http://localhost:3000/?notice=Product+was+successfully+created.
Completed 302 Found in 73ms (ActiveRecord: 55.9ms | Allocations: 10100)


Started GET "/?notice=Product+was+successfully+created." for 127.0.0.1 at 2020-03-04 14:12:46 +0700
Processing by ProductsController#index as HTML
  Parameters: {"notice"=>"Product was successfully created."}
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (5.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 14], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 15], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 16], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 17], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 18], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 82.5ms | Allocations: 18454)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 75.0ms | ActiveRecord: 13.9ms | Allocations: 22514)


  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 12]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 12]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Destroy (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 12]]
  [1m[35m (24.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Destroy (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 13]]
  [1m[35m (14.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 14]]
  [1m[35m (21.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Destroy (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 15]]
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Destroy (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 16]]
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 17]]
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Destroy (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 18]]
  [1m[35m (30.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Started GET "/" for 127.0.0.1 at 2020-03-04 14:16:51 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 53.4ms | Allocations: 27727)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 57.3ms | ActiveRecord: 8.9ms | Allocations: 37579)


Started GET "/" for 127.0.0.1 at 2020-03-04 14:21:50 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 58.2ms | Allocations: 27729)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 59.6ms | ActiveRecord: 10.3ms | Allocations: 37584)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 14:21:52 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 36.0ms | Allocations: 20148)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 41.0ms | ActiveRecord: 0.0ms | Allocations: 24098)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:21:52 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"JsKixJRDPfuT6CSyU4NsmtNLs6iB1Z4ZQvphHSQkzIZl5pexIdyWa44Q15ZwdaQaCrkw/95lidMQxiUvfEGHLg==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 11.7ms | Allocations: 5882)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 16.5ms | ActiveRecord: 0.0ms | Allocations: 11517)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:22:09 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"O14XVVQj4SvgzhrhXxhTa5KJ6od2ftIVeRry8JAjk8Izf7HrD09R8BE4kyQ8SgUEF9WczGo52vrtGZNfG5daBw==", "product"=>{"name"=>"So co la", "price"=>"-100"}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 26.2ms | Allocations: 5621)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 33.2ms | ActiveRecord: 0.0ms | Allocations: 10022)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:22:14 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"eUr/teVBzmFVR35cAF6XbaeJO8qN1beeoAXPAxT4ABlxa1kLvi1+uqSx95ljDMECItVNgZGSv3E0Bq6sn0zJ3A==", "product"=>{"name"=>"So co la", "price"=>"10"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "So co la"], ["price", 10.0], ["created_at", "2020-03-04 07:22:14.024266"], ["updated_at", "2020-03-04 07:22:14.024266"]]
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[36mInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 19], ["quantity", 0], ["created_at", "2020-03-04 07:22:14.047722"], ["updated_at", "2020-03-04 07:22:14.047722"]]
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
Redirected to http://localhost:3000/?notice=Product+was+successfully+created.
Completed 302 Found in 42ms (ActiveRecord: 31.0ms | Allocations: 5348)


Started GET "/?notice=Product+was+successfully+created." for 127.0.0.1 at 2020-03-04 14:22:14 +0700
Processing by ProductsController#index as HTML
  Parameters: {"notice"=>"Product was successfully created."}
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 12259)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.0ms | ActiveRecord: 3.2ms | Allocations: 16172)


Started GET "/products/19/edit" for 127.0.0.1 at 2020-03-04 14:24:09 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"19"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 167.3ms | Allocations: 111625)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 176ms (Views: 172.7ms | ActiveRecord: 0.6ms | Allocations: 116221)


Started GET "/products" for 127.0.0.1 at 2020-03-04 14:25:37 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 24.7ms | Allocations: 12264)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 27.9ms | ActiveRecord: 3.1ms | Allocations: 16183)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 14:25:40 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 12.1ms | Allocations: 5451)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.0ms | Allocations: 9254)


Started POST "/products" for 127.0.0.1 at 2020-03-04 14:25:53 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"d/rNQ9roat83MSe02f1mN0D2HW2H+aWX6aO1CYrISio03vg2b3fBTyrJ1JD6C663mQSeOthJsl27n/E70q0Bgg==", "product"=>{"name"=>"Da ua", "price"=>"12000"}, "commit"=>"Create"}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Da ua"], ["price", 12000.0], ["created_at", "2020-03-04 07:25:53.797963"], ["updated_at", "2020-03-04 07:25:53.797963"]]
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[36mInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 20], ["quantity", 0], ["created_at", "2020-03-04 07:25:53.828261"], ["updated_at", "2020-03-04 07:25:53.828261"]]
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[35m (28.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
Redirected to http://localhost:3000/?notice=Product+was+successfully+created.
Completed 302 Found in 67ms (ActiveRecord: 48.4ms | Allocations: 5135)


Started GET "/?notice=Product+was+successfully+created." for 127.0.0.1 at 2020-03-04 14:25:53 +0700
Processing by ProductsController#index as HTML
  Parameters: {"notice"=>"Product was successfully created."}
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 23.8ms | Allocations: 13098)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 25.9ms | ActiveRecord: 3.0ms | Allocations: 17011)


Started GET "/" for 127.0.0.1 at 2020-03-04 14:36:29 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (3.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 65.0ms | Allocations: 29530)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 303ms (Views: 282.8ms | ActiveRecord: 12.1ms | Allocations: 53455)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 14:36:39 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 38.9ms | Allocations: 24286)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 44.5ms | ActiveRecord: 0.5ms | Allocations: 28950)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 14:36:46 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"afbJ2gN790Cav2l8Iv7AZCXS51e+LOdevR91SCtaQ1Lao9yxr+yUXhWO40jGhKwNKBuwc4sNQ21h9KjArrEUhw==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"-10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
Completed 500 Internal Server Error in 204ms (ActiveRecord: 0.0ms | Allocations: 107505)


  
NameError (undefined local variable or method `products_params' for #<ProductsController:0x00007f20d0fb1470>
Did you mean?  product_params
               products_path):
  
app/controllers/products_controller.rb:45:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 14:37:01 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 39.3ms | Allocations: 22160)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 36.8ms | ActiveRecord: 7.7ms | Allocations: 29332)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-04 14:37:03 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 19.3ms | Allocations: 9596)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.6ms | Allocations: 14110)


Started GET "/products/6/edit" for 127.0.0.1 at 2020-03-04 14:37:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 17.5ms | Allocations: 9310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.7ms | ActiveRecord: 0.5ms | Allocations: 13700)


Started PATCH "/products/6" for 127.0.0.1 at 2020-03-04 14:37:10 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"HVN4ejs2DAEt3SF9ThJ3pOTciA6npVy+6UOoeJdp/HBPgATZHxoX08WQBIydBW3IYYIVo74x0DrA71N/43oQvQ==", "product"=>{"name"=>"Banh Mi KHONG CO", "price"=>"100000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"6"}}, "commit"=>"Save", "id"=>"6"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1014)


  
ActiveModel::UnknownAttributeError (unknown attribute 'name' for Inventory.):
  
app/controllers/products_controller.rb:45:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 14:37:43 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 29.1ms | Allocations: 13098)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 45.6ms | ActiveRecord: 3.8ms | Allocations: 26587)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:15:23 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 52.8ms | Allocations: 33829)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 71.3ms | ActiveRecord: 6.4ms | Allocations: 53757)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:15:27 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"4vcnHL5/YscBQQ22ltcVA1fLB/MBjEZvUy8v7LxBS+hRojJ3EugB2Y5wh4JyrXlqWgJQ1zSt4lyPxPJkOaocPQ==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"-100", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
Completed 500 Internal Server Error in 3934ms (ActiveRecord: 0.0ms | Allocations: 24314)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:54:in `format'
app/controllers/products_controller.rb:54:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:16:14 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 52.3ms | Allocations: 24550)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 47.7ms | ActiveRecord: 9.2ms | Allocations: 31882)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:16:16 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 20.6ms | Allocations: 9596)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 26.0ms | ActiveRecord: 0.6ms | Allocations: 14092)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:16:20 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"6MiRfzfpZL3mR55PsOP27HVnMKSILtWMtSw1WGU9ELVbnYQUm34Ho2l2FHtUmZqFeK5ngL0Pcb9px+jQ4NZHYA==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
Completed 500 Internal Server Error in 47362ms (ActiveRecord: 0.0ms | Allocations: 23092)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:55:in `format'
app/controllers/products_controller.rb:55:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:17:14 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 36.2ms | Allocations: 13106)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 34.1ms | ActiveRecord: 6.3ms | Allocations: 17088)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:17:15 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 23.2ms | Allocations: 9343)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 28.4ms | ActiveRecord: 0.5ms | Allocations: 13748)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:17:17 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"LIpG7jiYgzPrf3ujsoWfycLIk8gMI9ytb7z+Ss+AP4Sf31OFlA/gLWRO8ZdW//OgzwHE7DkCeJ6zVyPCSmtoUQ==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
Completed 500 Internal Server Error in 142375ms (ActiveRecord: 0.0ms | Allocations: 21027)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:55:in `format'
app/controllers/products_controller.rb:55:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:19:46 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 58.9ms | Allocations: 29527)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 57.8ms | ActiveRecord: 10.5ms | Allocations: 39823)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:19:48 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 42.5ms | Allocations: 24286)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 46.8ms | ActiveRecord: 0.4ms | Allocations: 28951)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:19:50 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"voU34KLUxr2Hu69+xJJ1rne70fDM6P5jCwrHLh6Fs7MN0CKLDkOlowiKJUog6BnHenKG1PnJWlDX4Rqmm27kZg==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
Completed 500 Internal Server Error in 109322ms (ActiveRecord: 0.0ms | Allocations: 36043)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:55:in `format'
app/controllers/products_controller.rb:55:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:24:20 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 60.3ms | Allocations: 22132)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 60.8ms | ActiveRecord: 11.0ms | Allocations: 29295)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:24:22 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 23.0ms | Allocations: 9599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 30.0ms | ActiveRecord: 0.5ms | Allocations: 14116)


Started GET "/products" for 127.0.0.1 at 2020-03-04 15:36:34 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 41.9ms | Allocations: 21911)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 42.0ms | ActiveRecord: 4.6ms | Allocations: 29091)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:36:36 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 20.0ms | Allocations: 9596)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 24.9ms | ActiveRecord: 0.5ms | Allocations: 14104)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:36:40 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"xFpb4St1F2w/o0NSzoa4sMe5BAOx1Q4flw5siwdWKBl3D06Kh+J0crCSyWYq/NTZynBTJ4T0qixL5bEDgr1/zA==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
Completed 500 Internal Server Error in 173ms (ActiveRecord: 0.0ms | Allocations: 107443)


  
NameError (undefined local variable or method `id' for #<ProductsController:0x00007fe4a9529118>):
  
app/controllers/products_controller.rb:46:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:36:58 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 42.8ms | Allocations: 22170)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 37.3ms | ActiveRecord: 10.1ms | Allocations: 29356)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:36:59 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 17.3ms | Allocations: 9607)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.0ms | ActiveRecord: 0.5ms | Allocations: 14122)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:37:01 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"Hrriny+1ByCrWzBB7W2G+qefLClpoXoihipbOK4+wk6t7/f0gyJkPiRqunUJF+qTqlZ7DVyA3hFawYawK9WVmw==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-03-04 08:37:01.966125"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 24.6ms | Allocations: 5230)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:50:in `format'
app/controllers/products_controller.rb:50:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:37:35 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 42.9ms | Allocations: 22120)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 39.8ms | ActiveRecord: 7.8ms | Allocations: 29322)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:37:38 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 21.4ms | Allocations: 9595)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.0ms | ActiveRecord: 1.0ms | Allocations: 14095)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:37:40 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"js5XiKVwiSv29CLSNEsBHzlel6ztOjOwJVGy3R3TmrE9m0LjCefqNXnFqObQMW12NJfAiNgbl4P5um9VmDjNZA==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-04 08:37:40.403582"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[35m (45.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
Completed 500 Internal Server Error in 54ms (ActiveRecord: 46.0ms | Allocations: 5060)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:50:in `format'
app/controllers/products_controller.rb:50:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:38:00 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 37.6ms | Allocations: 13086)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 37.0ms | ActiveRecord: 5.2ms | Allocations: 17069)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:38:19 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:7
  Rendered products/edit.html.erb within layouts/application (Duration: 26.3ms | Allocations: 9344)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.6ms | ActiveRecord: 0.5ms | Allocations: 13735)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:38:20 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"Mi98tAQOM51jyWIuVM21uzq6Rjtp7KqfnxegsooxoOGBemnfqJlQg+z46Bqwt9nSN3MRH1zNDqxD/H06D9r3NA==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.2ms | Allocations: 5539)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:53:in `format'
app/controllers/products_controller.rb:53:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:39:03 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 30.5ms | Allocations: 13398)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 32.7ms | ActiveRecord: 3.7ms | Allocations: 18316)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:39:04 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 22.5ms | Allocations: 9748)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 28.3ms | ActiveRecord: 0.5ms | Allocations: 14283)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:39:06 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"q0bIx1B+xUnX0gFOz87tt3gwXllu6G3WZ082pnuGcc4YE92s/OmmV1jji3ortIHedfkJfVvJyeW7pOsu/m0mGw==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.8ms | Allocations: 5426)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:53:in `format'
app/controllers/products_controller.rb:53:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:39:17 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 54.9ms | Allocations: 29515)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 51.9ms | ActiveRecord: 14.2ms | Allocations: 39804)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:39:20 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 40.2ms | Allocations: 24413)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 45.2ms | ActiveRecord: 0.4ms | Allocations: 29078)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:39:22 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"YVetU/NaE2ANwvB5dSKSDwoU5HSd2Hw+1sRt2uZY1zzSArg4X81wfoLzek2RWP5mB92zUKj52A0KL7BSY7OA6Q==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-03-04 08:39:22.102014"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 33.3ms | Allocations: 5272)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:50:in `format'
app/controllers/products_controller.rb:50:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:39:53 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 48.3ms | Allocations: 22149)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 44.0ms | ActiveRecord: 9.0ms | Allocations: 29315)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:39:54 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 21.8ms | Allocations: 9582)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.5ms | ActiveRecord: 0.5ms | Allocations: 14087)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:39:56 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"HyZMnBO/O4c9lJuLmgP6SIHKFSBm2tZi1z0YEry6zZCsc1n3vyhYmbKlEb9+eZYhjANCBFP7clEL1sWaOVGaRQ==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.8ms | Allocations: 5667)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:53:in `format'
app/controllers/products_controller.rb:53:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:40:22 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 39.2ms | Allocations: 22131)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 37.1ms | ActiveRecord: 7.5ms | Allocations: 29305)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:40:24 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 18.7ms | Allocations: 9582)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 23.9ms | ActiveRecord: 0.6ms | Allocations: 14084)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:40:28 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"SwDV7zz7f8XA3Xmvf750i4k2oawc7EyZFz1KyDiR68/4VcCEkGwc20/s85ubxBjihP/2iCnN6KrL1pdAvXq8Gg==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `update'
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `update'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.0ms | Allocations: 5544)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:53:in `format'
app/controllers/products_controller.rb:53:in `update'
Started GET "/products" for 127.0.0.1 at 2020-03-04 15:41:22 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 41.0ms | Allocations: 22121)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 38.0ms | ActiveRecord: 7.5ms | Allocations: 29312)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:41:24 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 23.6ms | Allocations: 9583)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 29.1ms | ActiveRecord: 0.5ms | Allocations: 14079)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:41:25 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"RuPW8fLfcwv6oKUcsCNVEgmzw1eqqOdaj7psiYvpACL1tsOaXkgQFXWRLyhUWTl7BHqUc5+JQ2lTUbEBDgJX9w==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 33.5ms | Allocations: 8906)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 40.6ms | ActiveRecord: 1.5ms | Allocations: 17767)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:41:31 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"TTUNBQkADD7R/dXr3FaVSeW8bco8TJF/LDe8iD4KJQBFFKu7Umy85SALXC6/BMMmYOAbgSALmZC4NN0ntb7sxQ==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 16.2ms | Allocations: 8869)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 20.6ms | ActiveRecord: 0.8ms | Allocations: 17581)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:41:37 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"X6jG22Hk0N+weO9BPMn6QuFrrTwmWVMvB4cf6zMUI3pXiWBlOohgBEGOZoRfm6wtZDfbdzoeW8CThH5EuKDqvw==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/?notice=Product+was+successfully+created.
Completed 302 Found in 8ms (ActiveRecord: 0.7ms | Allocations: 3561)


Started GET "/?notice=Product+was+successfully+created." for 127.0.0.1 at 2020-03-04 15:41:37 +0700
Processing by ProductsController#index as HTML
  Parameters: {"notice"=>"Product was successfully created."}
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (3.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 29.6ms | Allocations: 13087)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 26.9ms | ActiveRecord: 7.0ms | Allocations: 17068)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:41:40 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 18.8ms | Allocations: 9306)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.8ms | ActiveRecord: 0.4ms | Allocations: 13690)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:41:43 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"WCJuI6Xw7G6CQvB2ElHWQO2H7d4BNjUXUzyEKLJfIRbrd3tICWePcA1zekL2K7op4E66+jQXkSSP11mgN7R2ww==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"12", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Update (1.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 12], ["updated_at", "2020-03-04 08:41:43.973684"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (20.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/?notice=Product+was+successfully+created.
Completed 302 Found in 36ms (ActiveRecord: 22.8ms | Allocations: 4751)


Started GET "/?notice=Product+was+successfully+created." for 127.0.0.1 at 2020-03-04 15:41:44 +0700
Processing by ProductsController#index as HTML
  Parameters: {"notice"=>"Product was successfully created."}
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 13087)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 25.6ms | ActiveRecord: 3.0ms | Allocations: 17080)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:41:45 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 20.7ms | Allocations: 9325)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 27.1ms | ActiveRecord: 0.5ms | Allocations: 13711)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:41:47 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"QD2W7+MYHlFA78pY+KGC7yLhkxEZzToA++RBzdM3vnvzaIOET499T8/eQGwc2+6GLyjENSzsnjMnD5xFVtzprg==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 26.2ms | Allocations: 8869)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 30.7ms | ActiveRecord: 1.3ms | Allocations: 17602)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:41:51 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"1/czMPwNqLqd6RXT0V3sACJadXuu4ZLzXhD6HxhwNU/f1pWOp2EYYWwfnBayD7pvpwYDMLKmmhzKE5uwk8T8ig==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"-10", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 19.9ms | Allocations: 8697)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 26.4ms | ActiveRecord: 1.2ms | Allocations: 16701)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:41:55 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"uDCUK5BuZBFmbR6kN5UN2MS5/HLJImfcF7DcFhj6MtywETKVywLUypebl2FUx1u3QeWKOdVlbzODs725k077GQ==", "product"=>{"name"=>"Rau Cau", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 100], ["updated_at", "2020-03-04 08:41:55.505834"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (17.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/?notice=Product+was+successfully+created.
Completed 302 Found in 29ms (ActiveRecord: 18.4ms | Allocations: 4716)


Started GET "/?notice=Product+was+successfully+created." for 127.0.0.1 at 2020-03-04 15:41:55 +0700
Processing by ProductsController#index as HTML
  Parameters: {"notice"=>"Product was successfully created."}
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 13089)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 30.1ms | ActiveRecord: 3.1ms | Allocations: 17071)


Started GET "/products/5/edit" for 127.0.0.1 at 2020-03-04 15:41:57 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 20.9ms | Allocations: 9317)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 25.9ms | ActiveRecord: 0.6ms | Allocations: 13706)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:42:00 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"xvNV1VwUVBOE71l92n8Zd5K/wJG1Tq7rnmQccgNp8Oh1pkC+8IM3DQve00k+BXUen3aXtYBvCthCj8H6hoKnPQ==", "product"=>{"name"=>"", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 36.5ms | Allocations: 8674)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 48.6ms | ActiveRecord: 2.2ms | Allocations: 16620)


Started PATCH "/products/5" for 127.0.0.1 at 2020-03-04 15:42:03 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"ChnEgUwLAiTCET6TdRYKoeQ8AZSrp0tY0287v/NWFtsCOGI/F2ey/zPnt1YWRFzOYWB337fgQ7dHbFoQeOLfHg==", "product"=>{"name"=>"Rau Cao", "price"=>"8000.0", "inventory_attributes"=>{"quantity"=>"100", "id"=>"5"}}, "commit"=>"Save", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["name", "Rau Cao"], ["updated_at", "2020-03-04 08:42:03.341290"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (29.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/?notice=Product+was+successfully+created.
Completed 302 Found in 42ms (ActiveRecord: 30.9ms | Allocations: 4361)


Started GET "/?notice=Product+was+successfully+created." for 127.0.0.1 at 2020-03-04 15:42:03 +0700
Processing by ProductsController#index as HTML
  Parameters: {"notice"=>"Product was successfully created."}
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 25.0ms | Allocations: 13087)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.8ms | ActiveRecord: 3.0ms | Allocations: 17065)


Started GET "/orders/ew" for 127.0.0.1 at 2020-03-04 15:50:10 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"ew"}
Completed 406 Not Acceptable in 6ms (ActiveRecord: 0.0ms | Allocations: 2146)


  
ActionController::MissingExactTemplate (OrdersController#show is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 15:50:14 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:19
  Rendered orders/new.html.erb within layouts/application (Duration: 47.7ms | Allocations: 33149)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 56.3ms | ActiveRecord: 8.9ms | Allocations: 58632)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 15:50:27 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Z4J7ApvFfWPpH8gMuiGiwpDCO1rE/T0UXuHcj7EWF6dvo928wKnNuBjpQcnZc/StFZ5NEdi6NfvK4r0gOqLeYg==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:46:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-04 08:50:30.841048"], ["updated_at", "2020-03-04 08:50:30.841048"], ["customer_id", 4]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 38], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-04 08:50:30.843077"], ["updated_at", "2020-03-04 08:50:30.843077"]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 38], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-04 08:50:30.845078"], ["updated_at", "2020-03-04 08:50:30.845078"]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 938], ["updated_at", "2020-03-04 08:50:30.871458"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (17.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 36], ["updated_at", "2020-03-04 08:50:30.902899"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
Redirected to http://localhost:3000/orders/new
Completed 500 Internal Server Error in 3752ms (ActiveRecord: 60.9ms | Allocations: 69641)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/orders_controller.rb:43:in `block (2 levels) in create'
app/controllers/orders_controller.rb:38:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 15:51:43 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1797)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3375)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @product.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:</h2>
    6: 
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 15:52:34 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1784)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 4.4ms | Allocations: 14571)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
    6: 
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 15:53:13 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 17.9ms | Allocations: 14124)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 4.7ms | Allocations: 35039)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
    6: 
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 15:53:39 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:34
  Rendered orders/new.html.erb within layouts/application (Duration: 38.5ms | Allocations: 21852)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 46.7ms | ActiveRecord: 6.6ms | Allocations: 40659)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 15:53:46 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"cNU/3YSashG95bIUfmDFzFoJx0O2vlKdPmdT4V9P2cp49Jlj3/YCykwTO9EdMpOj31WxCKr5WnKqZDJO1PsQDw==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:46:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:30:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-04 08:53:48.686326"], ["updated_at", "2020-03-04 08:53:48.686326"], ["customer_id", 4]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 39], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-04 08:53:48.688718"], ["updated_at", "2020-03-04 08:53:48.688718"]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 39], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-04 08:53:48.690788"], ["updated_at", "2020-03-04 08:53:48.690788"]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[35m (15.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 937], ["updated_at", "2020-03-04 08:53:48.715581"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (20.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:38:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:39)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 35], ["updated_at", "2020-03-04 08:53:48.742366"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:39:in `block in update_inventory'
Redirected to http://localhost:3000/orders/new
Completed 500 Internal Server Error in 2528ms (ActiveRecord: 75.7ms | Allocations: 69611)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/orders_controller.rb:43:in `block (2 levels) in create'
app/controllers/orders_controller.rb:38:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 15:55:14 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:34
  Rendered orders/new.html.erb within layouts/application (Duration: 47.5ms | Allocations: 33522)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 56.1ms | ActiveRecord: 7.4ms | Allocations: 60458)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 15:55:26 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"r5y3XIPD61gATmyxBofV1xHhens9cdVq4lvq32iqtO+nvRHi2K9bg/G45XRl1YO4lL0MMCE23YV2WItw4x59Kg==", "customer"=>{"name"=>"dayqwe", "phone"=>"asdasd"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = 'asdasd') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
Redirected to http://localhost:3000/orders/new
Completed 500 Internal Server Error in 79ms (ActiveRecord: 16.7ms | Allocations: 24369)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/orders_controller.rb:43:in `block (2 levels) in create'
app/controllers/orders_controller.rb:38:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 15:55:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:34
  Rendered orders/new.html.erb within layouts/application (Duration: 35.3ms | Allocations: 19090)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 37.1ms | ActiveRecord: 6.8ms | Allocations: 34624)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 15:56:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"7DmkrIX6iN4ISAAICjHEh5emDYvnAi5qjladZEEJ9xbkGAIS3pY4Bfm+ic1pY5LoEvp7wPtFJoUaVfzLyr0+0w==", "customer"=>{"name"=>"qwqw", "phone"=>"asdasd"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = 'asdasd') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
Redirected to http://localhost:3000/orders/new
Completed 500 Internal Server Error in 104753ms (ActiveRecord: 11.2ms | Allocations: 63261)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/orders_controller.rb:44:in `block (2 levels) in create'
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 15:57:54 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:34
  Rendered orders/new.html.erb within layouts/application (Duration: 35.7ms | Allocations: 19109)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 39.1ms | ActiveRecord: 6.9ms | Allocations: 34625)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 15:58:19 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"vAPJ4lE9SiBXdoFKSXc/hamT7LrixORq6GBr4nJbkHa0Im9cClH6+6aACI8qJWnqLM+a8f6D7IV8YwpN+e9Zsw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12"}, "1"=>{"product_id"=>"3", "quantity"=>"231"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '3' AND quantity >= '231') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 4)
Redirected to 
Completed 500 Internal Server Error in 13872ms (Views: 1.0ms | ActiveRecord: 5.4ms | Allocations: 40613)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/orders_controller.rb:41:in `block (2 levels) in create'
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 15:58:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:34
  Rendered orders/new.html.erb within layouts/application (Duration: 37.1ms | Allocations: 15703)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 41.6ms | ActiveRecord: 0.3ms | Allocations: 19869)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 15:58:47 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"TWCP/IQIDhzZV41T8DRkGPjoM3hdHCwXCVFK/J/0vc1FQSlC32S+xyihBJaTZjJ3fbRFM0FbJPidUitTFEB0CA==", "customer"=>{"name"=>"daycd", "phone"=>"039616210"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '039616210') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
Redirected to http://localhost:3000/orders/new
Completed 500 Internal Server Error in 4417ms (ActiveRecord: 3.5ms | Allocations: 32285)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/orders_controller.rb:44:in `block (2 levels) in create'
app/controllers/orders_controller.rb:39:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 15:59:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:34
  Rendered orders/new.html.erb within layouts/application (Duration: 31.7ms | Allocations: 19089)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 39.2ms | ActiveRecord: 6.4ms | Allocations: 34598)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 15:59:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ljdQ3YX/ehkTGDU+FqyfQW9dXZWGOV91j+Yjd83UThieFvZj3pPKwuLuvPt1/sku6gEr3pp+V5ob5ULYRmCH3Q==", "customer"=>{"name"=>"daycd", "phone"=>"aaaaa"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"3", "quantity"=>"1"}, "1"=>{"product_id"=>"1", "quantity"=>"2"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1163)
Completed 500 Internal Server Error in 1978ms (ActiveRecord: 2.1ms | Allocations: 25590)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @order.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:03:20 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:34
  Rendered orders/new.html.erb within layouts/application (Duration: 46.8ms | Allocations: 33522)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 92ms (Views: 55.6ms | ActiveRecord: 7.7ms | Allocations: 60459)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:03:26 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"d9sucdTJsNUdNvgmrxxexlnOWMNALP351BkYw9Gxfx9/+ojPj6UADuzAcePMTgip3JIuiFxr9RZAGnlsWgW22g==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1812)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 4.6ms | Allocations: 9560)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @order.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:45:in `block (2 levels) in create'
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:04:04 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:34
  Rendered orders/new.html.erb within layouts/application (Duration: 46.8ms | Allocations: 33522)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 54.7ms | ActiveRecord: 6.9ms | Allocations: 60454)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:04:15 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"1xCqdSXR82x9WTuRlB12n+F2nFA9qi5cZafhSidcQaPfMQzLfr1Dt4yvslT3TyDwZCrqGyHtJrPxpIDlrOiIZg==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1812)
Completed 500 Internal Server Error in 6484ms (ActiveRecord: 4.8ms | Allocations: 38766)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @order.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:48:in `block (2 levels) in create'
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/index" for 127.0.0.1 at 2020-03-04 16:08:37 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 34.5ms | Allocations: 18327)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 39.5ms | ActiveRecord: 1.6ms | Allocations: 23160)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-04 16:08:40 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 69.3ms | Allocations: 524)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 73.6ms | ActiveRecord: 0.0ms | Allocations: 4563)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:09:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 30.9ms | Allocations: 19579)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 33.1ms | ActiveRecord: 6.8ms | Allocations: 35249)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:09:16 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"LgXHxUpOxc4J+bXfingOVx6trRZJNlrtMNA/t0+0vpomJGF7ESJ1FfgPPBrpKlg4m/HbXVVxUgKk014YxAB3Xw==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"3", "quantity"=>"1"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1163)
Completed 500 Internal Server Error in 1814ms (ActiveRecord: 6.6ms | Allocations: 26907)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3: 
    4:   <% if @order.errors.any? %>
    5:     <div id="error_explanation">
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:48:in `block (2 levels) in create'
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:10:06 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:25
  Rendered orders/new.html.erb within layouts/application (Duration: 28.8ms | Allocations: 16068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 34.5ms | ActiveRecord: 0.4ms | Allocations: 21176)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:10:12 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"BWhJzZZfaymIRMghXwLm7d2I6oUo8JrOCCWuCdpmgdcNSe9zzTPb8nmyQeQ8ULCCWNSczjS3kiGcJs+mUdJIEg==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1163)
Completed 500 Internal Server Error in 1535ms (ActiveRecord: 0.0ms | Allocations: 21981)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3: 
    4: 
    5: 
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:48:in `block (2 levels) in create'
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:14:40 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:25
  Rendered orders/new.html.erb within layouts/application (Duration: 45.6ms | Allocations: 33395)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 86ms (Views: 54.0ms | ActiveRecord: 7.0ms | Allocations: 60330)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:14:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"b7g8j04YAfuR/CR/HTEIgqZkobJDIXKpOMOpzZ6RR5hnmZoxFXSxIGAKrbp+Y17tIzjX+V9mekaswMhiFSWOXQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-04 09:14:54.171163"], ["updated_at", "2020-03-04 09:14:54.171163"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 40], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-04 09:14:54.173953"], ["updated_at", "2020-03-04 09:14:54.173953"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 40], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-04 09:14:54.176536"], ["updated_at", "2020-03-04 09:14:54.176536"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[35m (44.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 936], ["updated_at", "2020-03-04 09:14:54.229822"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 34], ["updated_at", "2020-03-04 09:14:54.255892"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (19.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
Redirected to http://localhost:3000/orders/new
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-04 09:14:54.300014"], ["updated_at", "2020-03-04 09:14:54.300014"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 41], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-04 09:14:54.302070"], ["updated_at", "2020-03-04 09:14:54.302070"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 41], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-04 09:14:54.304538"], ["updated_at", "2020-03-04 09:14:54.304538"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 935], ["updated_at", "2020-03-04 09:14:54.332839"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (20.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 33], ["updated_at", "2020-03-04 09:14:54.360098"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (10.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
Redirected to 
Completed 500 Internal Server Error in 281ms (ActiveRecord: 161.2ms | Allocations: 57455)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/orders_controller.rb:44:in `block (2 levels) in create'
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:15:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:25
  Rendered orders/new.html.erb within layouts/application (Duration: 49.9ms | Allocations: 19059)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 53.1ms | ActiveRecord: 7.2ms | Allocations: 34589)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:15:35 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"zFfz27ewDrmo6UnPVRJdiS35wOzy3RqarI78Cz0RShjEdlVl7Ny+YlkfwAo2QAvmqKW2p+6aEnU4jZ2ktqWD3Q==", "customer"=>{"name"=>"vuongph", "phone"=>"09876789876"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1227)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 6.5ms | Allocations: 7351)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3: 
    4: 
    5: 
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:47:in `block (2 levels) in create'
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:16:10 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:25
  Rendered orders/new.html.erb within layouts/application (Duration: 46.7ms | Allocations: 33395)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 54.2ms | ActiveRecord: 8.2ms | Allocations: 60336)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:16:43 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"tvNte+KFY2ZltPq1yG7M8FU2UceJyYS/y8TPMbAxfRK+0svFuenTvZRCc3CrPJqf0GonjJWOjFBfx66eO4W01w==", "customer"=>{"name"=>"vuongph", "phone"=>"0987898768"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987898768') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:47:in `create'
  [1m[36mCustomer Create (33.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "vuongph"], ["phone", "0987898768"], ["created_at", "2020-03-04 09:16:43.701019"], ["updated_at", "2020-03-04 09:16:43.701019"]]
  ↳ app/services/order_services/create_order_service.rb:47:in `create'
  [1m[35m (934.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:47:in `create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-04 09:16:44.708385"], ["updated_at", "2020-03-04 09:16:44.708385"], ["customer_id", 5]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 42], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-04 09:16:44.711437"], ["updated_at", "2020-03-04 09:16:44.711437"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 42], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-04 09:16:44.714707"], ["updated_at", "2020-03-04 09:16:44.714707"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[35m (26.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 934], ["updated_at", "2020-03-04 09:16:44.750171"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (183.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 32], ["updated_at", "2020-03-04 09:16:44.950243"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (173.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 1458ms (ActiveRecord: 1368.5ms | Allocations: 37782)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:16:45 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:25
  Rendered orders/new.html.erb within layouts/application (Duration: 34.9ms | Allocations: 15641)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 39.6ms | ActiveRecord: 0.3ms | Allocations: 19805)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:19:41 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:8: syntax error, unexpected ')', expecting ']'
...@order = Order.find(params[:id)
...                              ^
/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/orders_controller.rb:8: syntax error, unexpected ')', expecting ']'
app/controllers/orders_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:8: syntax error, unexpected ')', expecting ']'
app/controllers/orders_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:8: syntax error, unexpected ')', expecting ']'
app/controllers/orders_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:22:13 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:8: syntax error, unexpected ')', expecting ']'
...@order = Order.find(params[:id)
...                              ^
/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/orders_controller.rb:8: syntax error, unexpected ')', expecting ']'
app/controllers/orders_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:8: syntax error, unexpected ')', expecting ']'
app/controllers/orders_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:8: syntax error, unexpected ')', expecting ']'
app/controllers/orders_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:22:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:25
  Rendered orders/new.html.erb within layouts/application (Duration: 41.1ms | Allocations: 19054)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 44.0ms | ActiveRecord: 6.7ms | Allocations: 34607)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:22:36 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"46+31CTTOAw5ycqamvcGEWgTLpdqP+gCuxYETuhK3/PrjhFqf7+I18g/Q1/5pVB+7U9Y3HZ44O0vFWXhY/4WNg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:41:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1166)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.7ms | Allocations: 11574)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3: 
    4: 
    5: 
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:47:in `block (2 levels) in create'
app/controllers/orders_controller.rb:40:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:25:53 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 45.7ms | Allocations: 33524)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 86ms (Views: 53.7ms | ActiveRecord: 7.6ms | Allocations: 60460)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:26:02 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"L3IyOykXSpIhNJWqUzgnyv/LobM1fzc1JB1M2lkKPesnU5SFcnv6SdDCHG8wanGlepfX+Ck4P9qwHi110r70Lg==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1812)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 3.5ms | Allocations: 10319)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @order.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:47:in `block (2 levels) in create'
app/controllers/orders_controller.rb:40:in `create'
Started GET "/" for 127.0.0.1 at 2020-03-04 16:26:38 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 41.4ms | Allocations: 22201)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 39.9ms | ActiveRecord: 6.5ms | Allocations: 26690)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-04 16:26:41 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 22.0ms | Allocations: 10400)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 26.9ms | ActiveRecord: 0.5ms | Allocations: 15061)


Started PATCH "/products/3" for 127.0.0.1 at 2020-03-04 16:26:43 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"WKPIidJkmKBfOwwTXfcBXbLgZXtsBulFMHZuI3arQiFJTgtrk3iBRwihYpcCewfTrj71HZpVLH3HNGdoKvbWAg==", "product"=>{"name"=>"Quyt", "price"=>"3000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"3"}}, "commit"=>"Save", "id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 15.8ms | Allocations: 8921)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 20.1ms | ActiveRecord: 2.1ms | Allocations: 17953)


Started GET "/products/new" for 127.0.0.1 at 2020-03-04 16:32:59 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 5970)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 15.2ms | ActiveRecord: 0.0ms | Allocations: 16424)


Started POST "/products" for 127.0.0.1 at 2020-03-04 16:33:00 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"Tnkxgq3Hq3grhrt8gmT1AWE/PeIrOhbj9SXTwuB8Q04NXQT3GFgA6DZ+SFihkj2BuM2+tXSKASmnGZfwuBkI5g==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 30.6ms | Allocations: 5890)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 44.0ms | ActiveRecord: 0.0ms | Allocations: 11476)


Started GET "/products" for 127.0.0.1 at 2020-03-04 16:34:27 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 52.1ms | Allocations: 22589)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 47.8ms | ActiveRecord: 10.8ms | Allocations: 30553)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:34:34 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1782)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 6.3ms | Allocations: 13750)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
    6: 
  
app/views/orders/new.html.erb:3
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:35:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 55.1ms | Allocations: 19159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 85ms (Views: 57.1ms | ActiveRecord: 8.9ms | Allocations: 39670)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:35:05 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"CvQq+kD5gHmVZLAWNk5/QHaf4mkfc3IFfEvN419yVjEC1YxEG5UwomSSOdNVHCkv88OUIgM0euroSKxM1Maf9A==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1163)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 4489)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:47:in `block (2 levels) in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:38:31 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 29.8ms | Allocations: 19159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 32.3ms | ActiveRecord: 8.3ms | Allocations: 39691)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:38:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"UxabpAg2/e9CrtF520v4UWG3nn+gd60sohJFm6WdeplbNz0aU1pNNLNYWLy4Ga4+5OvoNLwwpcM2ESQ0LimzXA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-04 09:38:42.283341"], ["updated_at", "2020-03-04 09:38:42.283341"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 43], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-04 09:38:42.286537"], ["updated_at", "2020-03-04 09:38:42.286537"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 43], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-04 09:38:42.289371"], ["updated_at", "2020-03-04 09:38:42.289371"]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[35m (180.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 933], ["updated_at", "2020-03-04 09:38:42.487497"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:36:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:37)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 31], ["updated_at", "2020-03-04 09:38:42.533009"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
  [1m[35m (43.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:37:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index?notice=Order+was+successfully+created.
Completed 302 Found in 328ms (ActiveRecord: 266.4ms | Allocations: 29801)


Started GET "/orders/index?notice=Order+was+successfully+created." for 127.0.0.1 at 2020-03-04 16:38:42 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Order was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 35.4ms | Allocations: 14504)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 38.6ms | ActiveRecord: 1.8ms | Allocations: 18589)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:39:04 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"UxabpAg2/e9CrtF520v4UWG3nn+gd60sohJFm6WdeplbNz0aU1pNNLNYWLy4Ga4+5OvoNLwwpcM2ESQ0LimzXA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1162)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 3642)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:47:in `block (2 levels) in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:48:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 62.4ms | Allocations: 19035)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 69.3ms | ActiveRecord: 0.5ms | Allocations: 38983)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:48:34 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ogRwOCHCW4mwCH6jqXG5CSwfHjV6AucgSiPBMTu4h1uqJdaGeq7rUkH+92bKI+9mqUNofmZF78/eIKCesAxOng==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1162)
Completed 500 Internal Server Error in 20223ms (ActiveRecord: 0.0ms | Allocations: 33946)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:50:in `block (2 levels) in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:49:05 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 32.8ms | Allocations: 15796)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 37.0ms | ActiveRecord: 0.4ms | Allocations: 19981)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:49:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"hwzEMIcNXhdJOfVuBgfu4QIVzzqfo4A+DpKAWYB99eCPLWKO3GHuzLjPfKtlVbiOh0m5cYPkiNGakeH2C8k8JQ==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1163)
Completed 500 Internal Server Error in 169344ms (ActiveRecord: 0.0ms | Allocations: 27473)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:50:in `block (2 levels) in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:52:48 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 31.2ms | Allocations: 19663)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 34.2ms | ActiveRecord: 10.1ms | Allocations: 40998)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:52:50 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"LY7yS7s7UQ+kGem9Cv4I4V0ivQwqE0xQLGrivBkgXGklr1T14Ffh1FXvYHhprF6O2H7LRzZURL+4aYMTkpSVrA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1162)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 4478)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:48:in `block (2 levels) in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/" for 127.0.0.1 at 2020-03-04 16:57:28 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 46.3ms | Allocations: 22463)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 41.1ms | ActiveRecord: 11.1ms | Allocations: 30076)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:57:31 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:49: syntax error, unexpected '}', expecting =>
...der :json => {@customer.errors}  status: :unprocessable_enti...
...                              ^
/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:66: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/orders_controller.rb:49: syntax error, unexpected '}', expecting =>
app/controllers/orders_controller.rb:66: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:49: syntax error, unexpected '}', expecting =>
app/controllers/orders_controller.rb:66: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:49: syntax error, unexpected '}', expecting =>
app/controllers/orders_controller.rb:66: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:57:49 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 29.3ms | Allocations: 19184)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 35.1ms | ActiveRecord: 8.9ms | Allocations: 39740)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:57:51 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Cdg+Nb2/EHXzI2J8hnP8FMMcP76x2WO9Xizj+g/9v6UB+ZiL5tOgrgLV67nlIap7RkBJ9a2ea1LKL4JVhEl2YA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:58:51 +0700
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1162)
Completed 500 Internal Server Error in 62373ms (ActiveRecord: 0.0ms | Allocations: 85583)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:48:in `block (2 levels) in create'
app/controllers/orders_controller.rb:41:in `create'
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 44.7ms | Allocations: 19192)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 48.2ms | ActiveRecord: 8.9ms | Allocations: 39719)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:58:56 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"TuvHKZ+8tUqQP03iVCPuiNl+htRyxzDZr32nQxwmn2FGymGXxNAFkWHJxCc3cbjnXCLwn26AODY7fsbsl5JWpA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1162)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 4476)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:47:in `block (2 levels) in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 16:59:45 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 29.4ms | Allocations: 19184)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 31.6ms | ActiveRecord: 8.7ms | Allocations: 39709)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 16:59:47 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ftismIaNfTpJ8zzVwDiDn3YmI40l1ye+JsmuAKs1Vtx2+Qom3eHN4bgFtRCjatXw83pVxjmQL1Gyys+vIIGfGQ==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1162)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 4483)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:47:in `block (2 levels) in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:00:09 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 55.6ms | Allocations: 33514)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 109ms (Views: 66.1ms | ActiveRecord: 9.2ms | Allocations: 65493)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:00:11 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Q8hWXZfZkHcTBs/Qw47ic173vfo4KtXDAszDKcQh/4hL6fDjzLUgrOLwRhWg3LQc26vLsSRt3SyWz6KGT5U2TQ==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:01:13 +0700
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 11.5ms | Allocations: 6408)
Completed 500 Internal Server Error in 64601ms (ActiveRecord: 0.0ms | Allocations: 57353)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:48:in `block (2 levels) in create'
app/controllers/orders_controller.rb:41:in `create'
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 36.2ms | Allocations: 19114)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 38.4ms | ActiveRecord: 8.4ms | Allocations: 39561)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:01:19 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"mU6JeMWM2iHHa9JQk9XO3r/4zD/rVxGS0HU0IALkdZ6Rby/GnuBq+jadW5Xwh5ixOqS6dPcQGX1EdlWPiVC8Ww==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 32.5ms | Allocations: 9024)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 44.6ms | ActiveRecord: 0.0ms | Allocations: 14944)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:04:07 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 43.0ms | Allocations: 15708)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 47.6ms | ActiveRecord: 0.3ms | Allocations: 19908)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:04:54 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 32.3ms | Allocations: 19110)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 34.1ms | ActiveRecord: 9.6ms | Allocations: 39546)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:05:03 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"El77GlgSCofRV3hHYx5yr+KoYvx/oqklvfEB5K1MD5Eaf12kA366XCCh8YIATCTAZ/QUt2Plocop8mBLJvjGVA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (pry):6:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ (pry):6:in `create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 31.3ms | Allocations: 9017)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47295ms (Views: 36.9ms | ActiveRecord: 1.4ms | Allocations: 49705)


Started GET "/orders./new" for 127.0.0.1 at 2020-03-04 17:06:47 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/orders./new"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders./new" for 127.0.0.1 at 2020-03-04 17:06:54 +0700
  
ActionController::RoutingError (No route matches [GET] "/orders./new"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:06:57 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 48.8ms | Allocations: 33034)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 101ms (Views: 60.2ms | ActiveRecord: 10.0ms | Allocations: 63663)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:06:59 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"7Zzv5GL7YCJfwhKfh0QERr1O2zFGg0KBNep/2XQQLsLlvUlaOZfQ+a40m1rkFlIpOBKtelrESm6h6R52/6TnBw==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 1242ms (ActiveRecord: 0.0ms | Allocations: 33726)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:07:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 25.0ms | Allocations: 15725)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 28.7ms | ActiveRecord: 0.3ms | Allocations: 19920)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:07:20 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 37.4ms | Allocations: 19107)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 79ms (Views: 40.2ms | ActiveRecord: 10.6ms | Allocations: 39560)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:07:21 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"KMSebpqxetoXXpyoj2GluDBqOU+MdAb1QPe3PQhC4SAg5TjQwd3KAeaoFW3sM/PXtTZPBJAzDhrU9NaSg/Yo5Q==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 15ms (ActiveRecord: 0.0ms | Allocations: 3665)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:07:21 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 43.3ms | Allocations: 15700)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 48.8ms | ActiveRecord: 0.4ms | Allocations: 19882)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:07:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 36.6ms | Allocations: 19114)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 72ms (Views: 40.0ms | ActiveRecord: 9.3ms | Allocations: 39604)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:07:37 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Zy0shQxi0xpyjq7MgHRsLnEwBXNiTfDRoAL+t9/whyRvDIo7Vw5jwYN4JwnjJjpB9GxzOH4K+D40AZ8YVERO4Q==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 57.5ms | Allocations: 15011)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 64.2ms | ActiveRecord: 0.0ms | Allocations: 21648)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:07:55 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 36.6ms | Allocations: 15699)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 40.8ms | ActiveRecord: 0.2ms | Allocations: 19880)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:07:57 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"nS3a85HuYweP00ug1pcHu4AemqbL+b0yEA2+7hUhJjOVDHxNyoLT3H4lwmW1xVHUBULs7de+td2EDt9BnpXv9g==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 30.4ms | Allocations: 14995)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 36.5ms | ActiveRecord: 0.0ms | Allocations: 21485)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:08:39 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 32.3ms | Allocations: 15706)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 36.5ms | ActiveRecord: 0.3ms | Allocations: 19887)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:08:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"jsUC40Dhi1U7zZmrKX6scnMchaxvHOhMUoeRnaHA1TmG5KRdG407jso7EG5KLPod9kDz53Nb4KPGhPAyKnQc/A==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 25.8ms | Allocations: 15005)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 30.3ms | ActiveRecord: 0.0ms | Allocations: 21495)


Started GET "/" for 127.0.0.1 at 2020-03-04 17:14:39 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 48.1ms | Allocations: 25530)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 44.9ms | ActiveRecord: 8.1ms | Allocations: 30802)


Started GET "/products/6/edit" for 127.0.0.1 at 2020-03-04 17:14:42 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 25.6ms | Allocations: 10414)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 30.3ms | ActiveRecord: 0.5ms | Allocations: 15054)


Started PATCH "/products/6" for 127.0.0.1 at 2020-03-04 17:14:48 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"ROinGMF4XUhQ8+1PKMDRM1kaUbCsy0wCQ2pVcgYsHRwWO9u75VRGmri+yL7718tf3ETMHbVfwIZqxq51cj/x0Q==", "product"=>{"name"=>"Banh Mi KHONG CO", "price"=>"100000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"6"}}, "commit"=>"Save", "id"=>"6"}
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 28.6ms | Allocations: 8929)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 33.8ms | ActiveRecord: 2.5ms | Allocations: 17956)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:15:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:35
  Rendered orders/new.html.erb within layouts/application (Duration: 37.5ms | Allocations: 15870)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 42.3ms | ActiveRecord: 0.3ms | Allocations: 34899)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:17:04 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:38
  Rendered orders/new.html.erb within layouts/application (Duration: 28.2ms | Allocations: 16281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.7ms | ActiveRecord: 0.3ms | Allocations: 21405)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:17:05 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"kKm6JjwkUrL7TXxGRNW3kspyrlL0ljOEtVk7HqT0oZyYiByYZ0jiaQq79YMnh+H9Ty7YGejRO2shWlqxL0BoWQ==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 42.6ms | Allocations: 15085)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 47.1ms | ActiveRecord: 0.0ms | Allocations: 21720)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:17:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ry1Xd5s04Ei9w3QopdUMIMQARE6wd5hiIiuOfQajTxmnDPHJwFhQk0w1/e3Gh1pPQVwyBawwkI22KO/SjReG3A==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 35.2ms | Allocations: 15070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 40.0ms | ActiveRecord: 0.0ms | Allocations: 21558)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:17:16 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ozBAA7a063taN3tir6zjyqsN7IcSg8V21LqlASpqo5KrEea97dhboKvB8qfM/rWlLlGazA7EzZlAucSuod5qVw==", "customer"=>{"name"=>"asdasd", "phone"=>"1"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 61.8ms | Allocations: 14718)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 67.6ms | ActiveRecord: 0.0ms | Allocations: 19868)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:29:40 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:37
  Rendered orders/new.html.erb within layouts/application (Duration: 30.0ms | Allocations: 19552)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 34.6ms | ActiveRecord: 0.5ms | Allocations: 40309)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:29:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"P1dmXxcj97E062C01FPpTbR+ogPievaaNx6iD0ukrTM3dsDhTE9HasUd6XG3Ab8iMSLUSP49/nWjHcOgwBBk9g==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 35.1ms | Allocations: 15083)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 173762ms (Views: 40.2ms | ActiveRecord: 0.0ms | Allocations: 43327)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:32:39 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:37
  Rendered orders/new.html.erb within layouts/application (Duration: 41.8ms | Allocations: 15780)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 45.9ms | ActiveRecord: 0.3ms | Allocations: 19964)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:32:44 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"jSBp/FyY1dm9wVCRkeC2SmcPodnhapyHDGcx0bC+83GFAc9CB/RlAkw32VTysuAl4lPXkv0tlGiYZFB+Owo6tA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 40.0ms | Allocations: 15077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 5962ms (Views: 44.9ms | ActiveRecord: 0.0ms | Allocations: 39344)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:34:13 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"4UTJlwTU6bTYVbihy2+YxzgL6IQ3eJZJUen5Vfe5V2bpZW8pX7hZbymjMWSoPc6ovVeezys/nqbF6pj6fA2eow==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 37.0ms | Allocations: 15071)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60910ms (Views: 42.0ms | ActiveRecord: 0.0ms | Allocations: 48471)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:35:20 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:37
  Rendered orders/new.html.erb within layouts/application (Duration: 47.2ms | Allocations: 33516)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 96ms (Views: 55.5ms | ActiveRecord: 9.5ms | Allocations: 65492)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:35:27 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"8iZOCqNP5lHVxAVFBBEMb/F+HI/FdEkXowNAAr6EOLv6B+i0+CNWiiQyjIBnQ1oAdCJqxNkzQfg3ACGtNTDxfg==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>"a"}, "1"=>{"product_id"=>"", "quantity"=>"a"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 41.1ms | Allocations: 14989)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 131787ms (Views: 45.8ms | ActiveRecord: 0.0ms | Allocations: 87497)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:37:47 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"lwegsr/BvnRPh5ebdl2Xbns4MuM9USBwAzk3//2H/CmfJgYM5K0Or75xHl4VD8EB/mREqCEWKJ+XOlZQdjM17A==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>"a"}, "1"=>{"product_id"=>"", "quantity"=>"a"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 39.3ms | Allocations: 14973)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87052ms (Views: 43.8ms | ActiveRecord: 0.0ms | Allocations: 49420)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:39:20 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 46.2ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 106ms (Views: 54.9ms | ActiveRecord: 10.3ms | Allocations: 65625)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:39:21 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"L7Ipa/P2jAs0hogL8w/h5LGZn+GK3uFxGEYqU6zBnvgnk4/VqJo80MVwAc6QXbeLNMXpqpaZ6Z6MRUv8J3VXPQ==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 40.3ms | Allocations: 15006)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 2323ms (Views: 45.3ms | ActiveRecord: 0.0ms | Allocations: 50971)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:43:38 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 45.2ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 53.7ms | ActiveRecord: 9.7ms | Allocations: 65624)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:43:45 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Mda87Lf99qBhXcrR/EQmAbzVxv7GpehLr4CedYznR9w59xpS7JFGe5CrQxSfFnBuOYmwtdri4KQ7g//aB1OOGQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"2", "quantity"=>""}, "1"=>{"product_id"=>"1", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mInventory Load (2.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.0ms | Allocations: 3771)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: ""
LINE 1: ...entories" WHERE (product_id = '2' AND quantity >= '') LIMIT ...
                                                             ^
):
  
app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
app/services/order_services/create_order_service.rb:14:in `check_inventory'
app/services/order_services/create_order_service.rb:42:in `create'
app/controllers/orders_controller.rb:44:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:44:34 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 45.8ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 53.0ms | ActiveRecord: 9.5ms | Allocations: 65624)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:44:44 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"FWHFdsfhvH0rQyWGlHX0G7B0TD151BY4vBRApUQAn9UdQGPInI0Mptq1rEP3J6J0NSg6dmWTHtcoFyEKz7RWEA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"-2"}, "1"=>{"product_id"=>"2", "quantity"=>"a"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 2.5ms | Allocations: 14632)


  
NameError (undefined local variable or method `error_lists' for #<CreateOrderService:0x00007f8a0c0968a0>):
  
app/services/order_services/create_order_service.rb:62:in `create'
app/controllers/orders_controller.rb:44:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:45:09 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 46.7ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 94ms (Views: 55.0ms | ActiveRecord: 8.9ms | Allocations: 65621)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:45:19 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"WR7PXSs8IrbNrenn6vGf14M5RqYPXsRaoaqdzHRjt1tRP2njcFCSbTxbYCKJo8m4BmUw7RMZzLU1qfxj/9d+ng==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
Redirected to http://localhost:3000/orders/index?notice=Order+was+successfully+created.
Completed 302 Found in 60ms (ActiveRecord: 4.8ms | Allocations: 14069)


Started GET "/orders/index?notice=Order+was+successfully+created." for 127.0.0.1 at 2020-03-04 17:45:19 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Order was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 31.5ms | Allocations: 14516)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 35.2ms | ActiveRecord: 1.6ms | Allocations: 18628)


Started GET "/orders" for 127.0.0.1 at 2020-03-04 17:45:48 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 46.6ms | Allocations: 27032)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 49.6ms | ActiveRecord: 7.8ms | Allocations: 38669)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:45:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 55.7ms | Allocations: 33309)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 57.7ms | ActiveRecord: 8.4ms | Allocations: 47343)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:46:01 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"hAp0RKwa8ZZvL9X9Drn8EFd6hdqlCSPfuRGdHyNZvHGMK9L693ZBTZ7ZXDht66p/0ibzkblOKzAtEvywqO11tA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
Redirected to http://localhost:3000/orders/index?notice=Order+was+successfully+created.
Completed 302 Found in 14845ms (ActiveRecord: 5.4ms | Allocations: 42599)


Started GET "/orders/index?notice=Order+was+successfully+created." for 127.0.0.1 at 2020-03-04 17:46:16 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Order was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 27.6ms | Allocations: 14265)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.5ms | ActiveRecord: 1.5ms | Allocations: 18216)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:47:25 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 52.9ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 114ms (Views: 62.7ms | ActiveRecord: 10.0ms | Allocations: 65629)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:47:34 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"GrePRu05IEgutX9a6t0JxeNkyebFeRf3Vk8Uiprf4SQSlin4tlWQk99D9p+Jj1+qZji/rdk+HxjCTHUlEWso4Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
Redirected to http://localhost:3000/orders/index?notice=Order+was+successfully+created.
Completed 302 Found in 56925ms (ActiveRecord: 3.7ms | Allocations: 69840)


Started GET "/orders/index?notice=Order+was+successfully+created." for 127.0.0.1 at 2020-03-04 17:48:31 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Order was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 38.2ms | Allocations: 14518)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 41.3ms | ActiveRecord: 2.0ms | Allocations: 18627)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:53:38 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 31.3ms | Allocations: 19099)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 33.8ms | ActiveRecord: 8.2ms | Allocations: 39574)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:53:48 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"rIaZizb8NZPXuJrdkzAuadmzXsBaeNeN7fTC4+OJ9B2kpz81bZCFSCZOExjwYngGXO8oi0Y/32J596NMaD092A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:41:in `create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:41:in `create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:41:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/orders_controller.rb:41:in `create'
Completed 422 Unprocessable Entity in 29ms (ActiveRecord: 3.7ms | Allocations: 9145)


  
ActiveRecord::RecordInvalid (Validation failed: Order details quantity is not a number, Order details quantity must be greater than or equal to 1, Customer must exist):
  
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 17:57:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 37.0ms | Allocations: 19118)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 72ms (Views: 40.3ms | ActiveRecord: 8.7ms | Allocations: 39555)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 17:58:09 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"BIonM/8LNbfk6yeGd0pZwMS1Bjr0mF5hvrKJob71jr4Mq4GNpGeFbBUdrkMUGA+vQelwcejfVo4qsegONUFHew==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"=-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (pry):7:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ (pry):8:in `create'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in merge_params'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
Redirected to http://localhost:3000/orders/index?notice=Order+was+successfully+created.
Completed 302 Found in 92060ms (ActiveRecord: 3.7ms | Allocations: 70295)


Started GET "/orders/index?notice=Order+was+successfully+created." for 127.0.0.1 at 2020-03-04 17:59:41 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Order was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 14278)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 27.3ms | ActiveRecord: 2.3ms | Allocations: 18245)


Started GET "/orders/nmew" for 127.0.0.1 at 2020-03-04 18:00:07 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/orders/nmew"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:00:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 56.9ms | Allocations: 33195)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 107ms (Views: 65.1ms | ActiveRecord: 9.9ms | Allocations: 63819)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:00:22 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ZpbwJFXZFGDVZg/1O9T2Cx6S7CL+sPwoveDnLOSoIU1ut1aaDrWkuySQhjBYhqBkm86aaeL39Mcp44aDbxzoiA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12"}, "1"=>{"product_id"=>"2", "quantity"=>"a"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (pry):3:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Completed 500 Internal Server Error in 187282ms (ActiveRecord: 5.3ms | Allocations: 96387)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "a"
LINE 1: ...entories" WHERE (product_id = '2' AND quantity >= 'a') LIMIT...
                                                             ^
):
  
app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
app/services/order_services/create_order_service.rb:14:in `check_inventory'
app/services/order_services/create_order_service.rb:42:in `create'
app/controllers/orders_controller.rb:46:in `block in create'
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/nmew" for 127.0.0.1 at 2020-03-04 18:03:36 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/orders/nmew"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:03:39 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 50.4ms | Allocations: 33191)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 58.0ms | ActiveRecord: 10.8ms | Allocations: 63809)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:03:58 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"dACbpzW6uRWesZhBBYY5dpzEdAm1LxmNWCFaDQgCosR8IT0ZbtYJzm9HEYRm1G8ZGZgCQqloEWLMIjuig7ZrAQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:45:in `block (2 levels) in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:45:in `block (2 levels) in create'
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.8ms | Allocations: 8012)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "a"
LINE 1: ...entories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT...
                                                             ^
):
  
app/services/order_services/create_order_service.rb:16:in `block in check_inventory'
app/services/order_services/create_order_service.rb:14:in `check_inventory'
app/services/order_services/create_order_service.rb:42:in `create'
app/controllers/orders_controller.rb:51:in `block in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:05:55 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 30.2ms | Allocations: 19098)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 33.1ms | ActiveRecord: 9.3ms | Allocations: 39544)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:05:56 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"P5evp6IeLqil0upuaaXAYMGr4CxeyNq1xHbUMiLW7dA3tgkZ+XKec1QkY6sK95YPRPeWZ0KP0lpQdbWdqWIkFQ==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 44.8ms | Allocations: 14994)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 51.5ms | ActiveRecord: 0.0ms | Allocations: 21862)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:06:05 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 30.7ms | Allocations: 15683)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 34.6ms | ActiveRecord: 0.3ms | Allocations: 19869)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:06:15 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"sbDnYONpRuhgjwpnBTwqwN8XA19cZXu+q+8fi/tdZmK5kUHeuAX2M5F5g6JmbnyvWkt1FEAic1E/7H4kcOmvpw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
Redirected to http://localhost:3000/orders/index?notice=Order+was+successfully+created.
Completed 302 Found in 14ms (ActiveRecord: 0.7ms | Allocations: 5443)


Started GET "/orders/index?notice=Order+was+successfully+created." for 127.0.0.1 at 2020-03-04 18:06:15 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Order was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 30.9ms | Allocations: 15295)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.4ms | ActiveRecord: 1.5ms | Allocations: 19320)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:07:07 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 31.3ms | Allocations: 19094)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 34.5ms | ActiveRecord: 8.0ms | Allocations: 39532)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:07:12 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ted//gxkQK/yINnslWBvtRRBkRAXNTlBPwGSXiIGVHO9xtlAVwjwdAPWUCn2MjnakR3nWwtyMa6rAvPxqbKdtg==", "customer"=>{"name"=>"daycd", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 29.4ms | Allocations: 14861)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 34.6ms | ActiveRecord: 0.0ms | Allocations: 21177)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:07:15 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 39.5ms | Allocations: 15684)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 43.9ms | ActiveRecord: 0.3ms | Allocations: 19869)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:07:24 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"kqZlDmL3teeicDK+ZF8xCYjxeJodyzhifBHagLM0zxSah8OwOZsFPFOGu3sHDWdmDa0O0QGMMI3oErsvOIAG0Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (pry):1:in `block (2 levels) in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ (pry):2:in `block (2 levels) in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 38.4ms | Allocations: 14440)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17889ms (Views: 44.5ms | ActiveRecord: 1.0ms | Allocations: 86102)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:08:16 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 34.9ms | Allocations: 19131)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 37.4ms | ActiveRecord: 8.6ms | Allocations: 39567)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:08:23 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"epKZL85AELGEh43q77+imY7RgkNMWw0qh7ILnLb3EuRysz+RlSyganVxBC+M7fT2C430CFAcBcUTsWozPUPbIQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"aa"}, "1"=>{"product_id"=>"2", "quantity"=>"q"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 57.6ms | Allocations: 14444)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 95ms (Views: 71.9ms | ActiveRecord: 1.1ms | Allocations: 23239)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:08:52 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 45.2ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 95ms (Views: 53.3ms | ActiveRecord: 10.6ms | Allocations: 65635)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:09:00 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"cnyUW+2qZ21iEIWVNi9iw2Rj+xsHraqnvlRumsfDvjh6XTLltsbXtpPmDFBVfTSs4T+NUBvqokgqVw81THd3/Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"q"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 42.0ms | Allocations: 14427)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34400ms (Views: 47.7ms | ActiveRecord: 1.7ms | Allocations: 99933)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:09:41 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 57.7ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 108ms (Views: 67.8ms | ActiveRecord: 9.7ms | Allocations: 65621)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:09:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"FRSd7zOFfEnmD2wsNyte9SfNw8DjTdlhmwUKW/JpB48dNTtRaOnMkhf55elUeQiaopG1i/8K0Y4PBmv0ed3OSg==", "customer"=>{"name"=>"daycd", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"q"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 22.5ms | Allocations: 14399)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 27.5ms | ActiveRecord: 0.8ms | Allocations: 23950)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:10:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 10.5ms | Allocations: 7405)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 6.8ms | Allocations: 25100)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @order_details.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@order_details.errors.count, "error") %> prohibited this product from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:11:25 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 27.4ms | Allocations: 21956)
Completed 500 Internal Server Error in 70ms (ActiveRecord: 8.2ms | Allocations: 47917)


  
ActionView::Template::Error (undefined method `errors' for #<OrderDetail::ActiveRecord_Associations_CollectionProxy:0x00007f8d7929f168>):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if (@order.order_details).errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize((@order.order_details).errors.count, "error") %> prohibited this product from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:11:25 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 7170)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms | Allocations: 9477)


  
ActionView::Template::Error (undefined method `errors' for #<OrderDetail::ActiveRecord_Associations_CollectionProxy:0x000055bbaf730ff8>):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if (@order.order_details).errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize((@order.order_details).errors.count, "error") %> prohibited this product from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:14:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 16.6ms | Allocations: 7779)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms | Allocations: 9386)


  
ActionView::Template::Error (undefined method `errors' for #<OrderDetail::ActiveRecord_Associations_CollectionProxy:0x00007f8d799a3ea0>):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if (@order.order_details).errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize((@order.order_details).errors.count, "error") %> prohibited this product from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:15:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 6762)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms | Allocations: 8360)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if (@order_details).errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize((@order_details).errors.count, "error") %> prohibited this product from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:15:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  Rendered orders/new.html.erb within layouts/application (Duration: 315.7ms | Allocations: 184769)
Completed 500 Internal Server Error in 320ms (ActiveRecord: 4.3ms | Allocations: 186367)


  
ActionView::Template::Error (undefined local variable or method `order_details' for #<#<Class:0x00007f8d78810080>:0x00007f8d7880d718>
Did you mean?  orders_index_path):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if (order_details).errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize((order_details).errors.count, "error") %> prohibited this product from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:16:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 12.4ms | Allocations: 6768)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms | Allocations: 8224)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if (@order_details).errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize((@order_details).errors.count, "error") %> prohibited this product from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:22:15 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 34.9ms | Allocations: 20935)
Completed 500 Internal Server Error in 81ms (ActiveRecord: 7.6ms | Allocations: 46747)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if (@order_details).errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize((@order_details).errors.count, "error") %> prohibited this product from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:22:50 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 52.2ms | Allocations: 25077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 60.6ms | ActiveRecord: 2.3ms | Allocations: 32559)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:22:58 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"hnOeYHDt5vhT6c6RksBgVapqNikPc2C14RakWyYeYmnM7eyjF2SDQlSzCfnCVqDYsUSkF1tJrrvOS7Pth6u3RQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 23.5ms | Allocations: 14467)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19999ms (Views: 29.1ms | ActiveRecord: 0.6ms | Allocations: 64586)


Started GET "/" for 127.0.0.1 at 2020-03-04 18:26:24 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 47.7ms | Allocations: 21562)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 44.4ms | ActiveRecord: 9.0ms | Allocations: 25918)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:29:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1420)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2982)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1> Saling </h1>
<%= simple_form_for @order do |f| %>  
  <% if @customer.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>

      <ul>
        <% @customer.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>


    <%= simple_fields_for :customer do |ff| %>
      <%= ff.input :name, label: 'Name: ', require: true %>
      <%= ff.input :phone, label: 'Phone: ', require: true %>
    <%end%>   



    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Quantity</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
      

        <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
        <%= f.nested_fields_for :order_details do |ff| %>
        <tr>
          <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id, require: true%> </td>
          <td> <%= ff.text_field :quantity, require: true %> </td>
          <td> 
            <% if @order_details.errors.["order_details_attributes"][:quantity] %>
        <div id="error_explanation">
          <h2><%= pluralize(@order_details.errors.count, "error") %> prohibited this product from being saved:</h2>

          <ul>
            <% (@order_details).errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
          </td>
        </tr>
        <%end%>
      </tbody>
    </table>

    <%= f.submit 'Save' %>
    
<%end%>

):
1:    <h1> Saling </h1>
2:    <%= simple_form_for @order do |f| %>  
3:      <% if @customer.errors.any? %>
4:        <div id="error_explanation">
5:          <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
6:    
7:          <ul>
8:            <% @customer.errors.full_messages.each do |message| %>
9:              <li><%= message %></li>
10:            <% end %>
11:          </ul>
12:        </div>
13:      <% end %>
14:    
15:    
16:        <%= simple_fields_for :customer do |ff| %>
17:          <%= ff.input :name, label: 'Name: ', require: true %>
18:          <%= ff.input :phone, label: 'Phone: ', require: true %>
19:        <%end%>   
20:    
21:    
22:    
23:        <table class="table">
24:          <thead>
25:            <tr>
26:              <th>Name</th>
27:              <th>Quantity</th>
28:              <th></th>
29:            </tr>
30:          </thead>
31:          <tbody>
32:          
33:    
34:            <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
35:            <%= f.nested_fields_for :order_details do |ff| %>
36:            <tr>
37:              <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id, require: true%> </td>
38:              <td> <%= ff.text_field :quantity, require: true %> </td>
39:              <td> 
40:                <% if @order_details.errors.["order_details_attributes"][:quantity] %>
41:            <div id="error_explanation">
42:              <h2><%= pluralize(@order_details.errors.count, "error") %> prohibited this product from being saved:</h2>
43:    
44:              <ul>
45:                <% (@order_details).errors.full_messages.each do |message| %>
46:                  <li><%= message %></li>
47:                <% end %>
48:              </ul>
49:            </div>
50:          <% end %>
51:              </td>
52:            </tr>
53:            <%end%>
54:          </tbody>
55:        </table>
56:    
57:        <%= f.submit 'Save' %>
58:        
59:    <%end%>
  
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:53: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:53: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:53: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:53: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:53: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:53: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:29:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1434)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2988)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1> Saling </h1>
<%= simple_form_for @order do |f| %>  
  <% if @customer.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>

      <ul>
        <% @customer.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>


    <%= simple_fields_for :customer do |ff| %>
      <%= ff.input :name, label: 'Name: ', require: true %>
      <%= ff.input :phone, label: 'Phone: ', require: true %>
    <%end%>   



    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Quantity</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
      

        <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
        <%= f.nested_fields_for :order_details do |ff| %>
        <tr>
          <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id, require: true%> </td>
          <td> <%= ff.text_field :quantity, require: true %> </td>
          <td> 
            <% if @order_details.errors.["order_details_attributes"]%>
        <div id="error_explanation">
          <h2><%= pluralize(@order_details.errors.count, "error") %> prohibited this product from being saved:</h2>

          <ul>
            <% (@order_details).errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
          </td>
        </tr>
        <%end%>
      </tbody>
    </table>

    <%= f.submit 'Save' %>
    
<%end%>

):
1:    <h1> Saling </h1>
2:    <%= simple_form_for @order do |f| %>  
3:      <% if @customer.errors.any? %>
4:        <div id="error_explanation">
5:          <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
6:    
7:          <ul>
8:            <% @customer.errors.full_messages.each do |message| %>
9:              <li><%= message %></li>
10:            <% end %>
11:          </ul>
12:        </div>
13:      <% end %>
14:    
15:    
16:        <%= simple_fields_for :customer do |ff| %>
17:          <%= ff.input :name, label: 'Name: ', require: true %>
18:          <%= ff.input :phone, label: 'Phone: ', require: true %>
19:        <%end%>   
20:    
21:    
22:    
23:        <table class="table">
24:          <thead>
25:            <tr>
26:              <th>Name</th>
27:              <th>Quantity</th>
28:              <th></th>
29:            </tr>
30:          </thead>
31:          <tbody>
32:          
33:    
34:            <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
35:            <%= f.nested_fields_for :order_details do |ff| %>
36:            <tr>
37:              <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id, require: true%> </td>
38:              <td> <%= ff.text_field :quantity, require: true %> </td>
39:              <td> 
40:                <% if @order_details.errors.["order_details_attributes"]%>
41:            <div id="error_explanation">
42:              <h2><%= pluralize(@order_details.errors.count, "error") %> prohibited this product from being saved:</h2>
43:    
44:              <ul>
45:                <% (@order_details).errors.full_messages.each do |message| %>
46:                  <li><%= message %></li>
47:                <% end %>
48:              </ul>
49:            </div>
50:          <% end %>
51:              </td>
52:            </tr>
53:            <%end%>
54:          </tbody>
55:        </table>
56:    
57:        <%= f.submit 'Save' %>
58:        
59:    <%end%>
  
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/new.html.erb:40: syntax error, unexpected '[', expecting '('
app/views/orders/new.html.erb:40: syntax error, unexpected ']', expecting keyword_end
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:29:50 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 32.7ms | Allocations: 16411)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 39.0ms | ActiveRecord: 0.2ms | Allocations: 21494)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:32:35 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ZDqRj2pDRAjduT060MtlRQfg9UvZDNxB5Txg+SejSgMupONMDcohstrj+lKAXaXIHM5ndY02Ek/KYXdPhhafLw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 22.3ms | Allocations: 14600)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 236729ms (Views: 28.4ms | ActiveRecord: 9.5ms | Allocations: 84815)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:40:12 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:50: syntax error, unexpected ':', expecting =>
...rmat.json { render json: {@alo: o.errors}, status: :unproces...
...                              ^
/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:50: syntax error, unexpected ',', expecting keyword_end
... render json: {@alo: o.errors}, status: :unprocessable_entit...
...                              ^
/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:73: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/orders_controller.rb:50: syntax error, unexpected ':', expecting =>
app/controllers/orders_controller.rb:50: syntax error, unexpected ',', expecting keyword_end
app/controllers/orders_controller.rb:73: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:50: syntax error, unexpected ':', expecting =>
app/controllers/orders_controller.rb:50: syntax error, unexpected ',', expecting keyword_end
app/controllers/orders_controller.rb:73: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:50: syntax error, unexpected ':', expecting =>
app/controllers/orders_controller.rb:50: syntax error, unexpected ',', expecting keyword_end
app/controllers/orders_controller.rb:73: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:41:56 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:50: syntax error, unexpected ':', expecting =>
...rmat.json { render json: {@alo: o.errors}, status: :unproces...
...                              ^
/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:50: syntax error, unexpected ',', expecting keyword_end
... render json: {@alo: o.errors}, status: :unprocessable_entit...
...                              ^
/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:73: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/orders_controller.rb:50: syntax error, unexpected ':', expecting =>
app/controllers/orders_controller.rb:50: syntax error, unexpected ',', expecting keyword_end
app/controllers/orders_controller.rb:73: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:50: syntax error, unexpected ':', expecting =>
app/controllers/orders_controller.rb:50: syntax error, unexpected ',', expecting keyword_end
app/controllers/orders_controller.rb:73: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:50: syntax error, unexpected ':', expecting =>
app/controllers/orders_controller.rb:50: syntax error, unexpected ',', expecting keyword_end
app/controllers/orders_controller.rb:73: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:46:33 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1392)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 6.1ms | Allocations: 19141)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1> Saling </h1>
<%= simple_form_for @order do |f| %>  
  <% if @customer.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>

      <ul>
        <% @customer.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>


    <%= simple_fields_for :customer do |ff| %>
      <%= ff.input :name, label: 'Name: ', require: true %>
      <%= ff.input :phone, label: 'Phone: ', require: true %>
    <%end%>   



    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Quantity</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
      <% if @order.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@order.errors.count, "error") %> prohibited this product from being saved:</h2>

          <ul>
            <% (@order.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

        <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
        <%= f.nested_fields_for :order_details do |ff| %>
        <tr>
          <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id, require: true%> </td>
          <td> <%= ff.text_field :quantity, require: true %> </td>
          <td> <%= ff.remove_nested_fields_link 'Remove', class: 'btn btn-danger' %> </td>
        </tr>
        <%end%>
      </tbody>
    </table>

    <%= f.submit 'Save' %>
    
<%end%>

):
1:    <h1> Saling </h1>
2:    <%= simple_form_for @order do |f| %>  
3:      <% if @customer.errors.any? %>
4:        <div id="error_explanation">
5:          <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
6:    
7:          <ul>
8:            <% @customer.errors.full_messages.each do |message| %>
9:              <li><%= message %></li>
10:            <% end %>
11:          </ul>
12:        </div>
13:      <% end %>
14:    
15:    
16:        <%= simple_fields_for :customer do |ff| %>
17:          <%= ff.input :name, label: 'Name: ', require: true %>
18:          <%= ff.input :phone, label: 'Phone: ', require: true %>
19:        <%end%>   
20:    
21:    
22:    
23:        <table class="table">
24:          <thead>
25:            <tr>
26:              <th>Name</th>
27:              <th>Quantity</th>
28:              <th></th>
29:            </tr>
30:          </thead>
31:          <tbody>
32:          <% if @order.errors.any? %>
33:            <div id="error_explanation">
34:              <h2><%= pluralize(@order.errors.count, "error") %> prohibited this product from being saved:</h2>
35:    
36:              <ul>
37:                <% (@order.errors.full_messages.each do |message| %>
38:                  <li><%= message %></li>
39:                <% end %>
40:              </ul>
41:            </div>
42:          <% end %>
43:    
44:            <%= f.add_nested_fields_link :order_details, 'Add', class: 'btn btn-primary' %>
45:            <%= f.nested_fields_for :order_details do |ff| %>
46:            <tr>
47:              <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id, require: true%> </td>
48:              <td> <%= ff.text_field :quantity, require: true %> </td>
49:              <td> <%= ff.remove_nested_fields_link 'Remove', class: 'btn btn-danger' %> </td>
50:            </tr>
51:            <%end%>
52:          </tbody>
53:        </table>
54:    
55:        <%= f.submit 'Save' %>
56:        
57:    <%end%>
  
app/views/orders/new.html.erb:42: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:57: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:42: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:57: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:42: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:57: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:42: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:57: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:42: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:57: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:42: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:57: syntax error, unexpected keyword_end, expecting ')'
app/views/orders/new.html.erb:59: syntax error, unexpected keyword_end, expecting ')'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-04 18:47:06 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 38.0ms | Allocations: 19889)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 39.7ms | ActiveRecord: 4.2ms | Allocations: 24974)


Started POST "/orders" for 127.0.0.1 at 2020-03-04 18:47:09 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"0TEFnuXqeQX6H0KjPUSEA6uOuO0uXEP0oCnSXDkR2jabr3ddgmMcv/1Fhctt0kSOsKAq03pmjfqPdMXqmKQPGg==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 38.6ms | Allocations: 15093)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 43.5ms | ActiveRecord: 0.0ms | Allocations: 21886)


Started GET "/orders/new/" for 127.0.0.1 at 2020-03-04 18:47:15 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 27.3ms | Allocations: 15791)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.3ms | Allocations: 19933)


Started GET "/" for 127.0.0.1 at 2020-03-05 09:55:26 +0700
  [1m[35m (29.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (106.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 229.7ms | Allocations: 29506)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 470ms (Views: 314.5ms | ActiveRecord: 124.6ms | Allocations: 39665)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 09:56:13 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 192.5ms | Allocations: 30920)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 274ms (Views: 196.8ms | ActiveRecord: 6.9ms | Allocations: 53875)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 09:57:25 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"VHDQf38gGK5ndb6Bnjmr29N4Y6RDp7jWuKRXr6SZBwTCEJGIcdGg/qETY3d/wdql0BFQBsujhXvPUfWRfszx8A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 29.5ms | Allocations: 14485)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 33.8ms | ActiveRecord: 0.8ms | Allocations: 23124)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 09:57:49 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 47.4ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 96ms (Views: 55.3ms | ActiveRecord: 10.2ms | Allocations: 65585)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 09:57:56 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"B80JGGm6rqU3BJDkWROFv/LKv0+zepwA6OSqNVaJ/FiRrUjvZ0sW9fFiTRK46/TB8aOM7Tt+oa2fEQgLjNwKrA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `block (2 levels) in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 31.1ms | Allocations: 14399)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 36.4ms | ActiveRecord: 0.8ms | Allocations: 23647)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 09:58:53 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 47.5ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 95ms (Views: 55.5ms | ActiveRecord: 9.5ms | Allocations: 65583)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 09:59:00 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"vJ79wJOBc7oQpS4Iy+xewHXn29CiyMqYTM/5ebaTqxUq/rw3nXDL6tbD8/4qFC++do7ocirM9zU7OltHbMZd4Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (pry):7:in `block in check_inventory'
  [1m[36mInventory Load (1.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:17:in `block in check_inventory'
Completed 500 Internal Server Error in 1099583ms (ActiveRecord: 2.5ms | Allocations: 86271)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "a"
LINE 1: ...entories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT...
                                                             ^
):
  
app/services/order_services/create_order_service.rb:17:in `block in check_inventory'
app/services/order_services/create_order_service.rb:14:in `check_inventory'
app/services/order_services/create_order_service.rb:45:in `create'
app/controllers/orders_controller.rb:45:in `block in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:17:38 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:23: syntax error, unexpected tIDENTIFIER, expecting ')'
                binding.pry
                ^~~~~~~):
  
app/services/order_services/create_order_service.rb:23: syntax error, unexpected tIDENTIFIER, expecting ')'
app/services/order_services/create_order_service.rb:23: syntax error, unexpected tIDENTIFIER, expecting ')'
app/services/order_services/create_order_service.rb:23: syntax error, unexpected tIDENTIFIER, expecting ')'
app/controllers/orders_controller.rb:3:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<top (required)>'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:17:39 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 42.0ms | Allocations: 13212)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 0.0ms | Allocations: 14508)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:18:11 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:23: syntax error, unexpected tIDENTIFIER, expecting ')'
                binding.pry
                ^~~~~~~):
  
app/services/order_services/create_order_service.rb:23: syntax error, unexpected tIDENTIFIER, expecting ')'
app/services/order_services/create_order_service.rb:23: syntax error, unexpected tIDENTIFIER, expecting ')'
app/services/order_services/create_order_service.rb:23: syntax error, unexpected tIDENTIFIER, expecting ')'
app/controllers/orders_controller.rb:3:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<top (required)>'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:19:43 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 48.8ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 99ms (Views: 57.2ms | ActiveRecord: 10.3ms | Allocations: 65579)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:19:51 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"KQxBId0DiRab1DbK52sMyYyquSCCJ+0+9B+IesVJIFS/bADW0/IxRl2y6zwGk323j8OKggoj0JOD6ipEHxzWoA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-s"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  [1m[36mInventory Load (13.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:29:in `block in check_inventory'
Completed 500 Internal Server Error in 8268ms (ActiveRecord: 13.5ms | Allocations: 41312)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "a"
LINE 1: ...entories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT...
                                                             ^
):
  
app/services/order_services/create_order_service.rb:29:in `block in check_inventory'
app/services/order_services/create_order_service.rb:21:in `check_inventory'
app/services/order_services/create_order_service.rb:59:in `create'
app/controllers/orders_controller.rb:45:in `block in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:21:19 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 50.0ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 99ms (Views: 58.1ms | ActiveRecord: 9.4ms | Allocations: 65578)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:21:27 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"3LIr3ViYXKPImyN+cnaPDGry5IEpuzyefXMmBgpXKNxK0moqVmnk8w79/oiTjv5yaZvXI6G/ATMKhoQ40ALeKA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  [1m[36mInventory Load (1.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:29:in `block in check_inventory'
Completed 500 Internal Server Error in 3206ms (ActiveRecord: 2.7ms | Allocations: 32713)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "a"
LINE 1: ...entories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT...
                                                             ^
):
  
app/services/order_services/create_order_service.rb:29:in `block in check_inventory'
app/services/order_services/create_order_service.rb:21:in `check_inventory'
app/services/order_services/create_order_service.rb:59:in `create'
app/controllers/orders_controller.rb:45:in `block in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:23:19 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 49.0ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 57.2ms | ActiveRecord: 9.9ms | Allocations: 65580)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:23:27 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"WRhc/AlH5z+VnsgPl0ZynKXCgptV481RwtUJOpLVgfLPeB0LB7Zfb1P4Ffl2vgPipquxOd3n8Py1IKsESIB3Bg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2\\"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  [1m[36mInventory Load (1.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:29:in `block in check_inventory'
Completed 500 Internal Server Error in 2962ms (ActiveRecord: 3.8ms | Allocations: 32717)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "a"
LINE 1: ...entories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT...
                                                             ^
):
  
app/services/order_services/create_order_service.rb:29:in `block in check_inventory'
app/services/order_services/create_order_service.rb:21:in `check_inventory'
app/services/order_services/create_order_service.rb:59:in `create'
app/controllers/orders_controller.rb:45:in `block in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:24:37 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 51.4ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 103ms (Views: 62.2ms | ActiveRecord: 10.3ms | Allocations: 65579)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:24:48 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"WHzMwq+ShaWo+Zd4CKtsO6IMJog1XY1RcVg70noPiTbOHI01oWM99W6fSo7pUx1FoWUVKr1ZsPwGrZnsoFp/wg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"aa"}, "1"=>{"product_id"=>"2", "quantity"=>"-2\\"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Completed 500 Internal Server Error in 17628ms (ActiveRecord: 0.4ms | Allocations: 41936)


  
NoMethodError (undefined method `nil' for #<ActiveModel::Errors:0x00007f1a7409b9c0>
Did you mean?  nil?):
  
app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
app/services/order_services/create_order_service.rb:21:in `check_inventory'
app/services/order_services/create_order_service.rb:59:in `create'
app/controllers/orders_controller.rb:45:in `block in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:25:20 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 45.7ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 99ms (Views: 54.9ms | ActiveRecord: 11.5ms | Allocations: 65580)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:25:35 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"dNpqa6kHtu6arLGIIo0BaoSmnDjNF4KHLrRA0CpeXNLiuiucp/YOvlzKbH7DdXAUh8+vmkUTvypZQeLu8AuqJg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"-2"}, "1"=>{"product_id"=>"2", "quantity"=>"a"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Completed 406 Not Acceptable in 25490ms (ActiveRecord: 0.4ms | Allocations: 93103)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:26:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 31.8ms | Allocations: 15742)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.8ms | ActiveRecord: 0.3ms | Allocations: 19887)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:26:43 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"vmCVUXQN7dIv2Udkg8wKvKrjrQPpsR7jadALeFT3UbsoANSmevxVgum/mpJiNHvCqYqeoWG1I04eJalGjqKnTw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Completed 406 Not Acceptable in 236747ms (ActiveRecord: 0.4ms | Allocations: 90158)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:30:50 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 48.0ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 56.0ms | ActiveRecord: 9.9ms | Allocations: 65580)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:31:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"2IiSrjFi+VLWhLqtqPuNiIAGUzUjpWkElqkQRWV5azNO6NNZP5NBAhDiZ1tJA/z2g29gl6uhVKnhXLJ7vyydxw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Completed 406 Not Acceptable in 26789ms (ActiveRecord: 0.7ms | Allocations: 76992)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:32:44 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 47.5ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 95ms (Views: 55.0ms | ActiveRecord: 9.8ms | Allocations: 65584)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:33:28 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"uApQ1M7g0BkxNNiRXI4yA/u1Nbd57iqNflIqx3zy5PYuahEjwBFoSfdSBWe9dkN9+NwGFfHqFyAJp4j5pqcSAg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"-2"}, "1"=>{"product_id"=>"2", "quantity"=>"a"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 37.3ms | Allocations: 15343)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8089ms (Views: 44.0ms | ActiveRecord: 0.5ms | Allocations: 70648)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:33:50 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 6796)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 7611)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @remained_lists.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@remained_lists.errors.count, "error") %> prohibited this product from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:33:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 15.4ms | Allocations: 6169)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms | Allocations: 6970)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @remained_lists.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@remained_lists.errors.count, "error") %> prohibited this product from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:38:33 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 35.1ms | Allocations: 19720)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 38.1ms | ActiveRecord: 10.1ms | Allocations: 40909)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:38:40 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 56.8ms | Allocations: 33650)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 112ms (Views: 67.9ms | ActiveRecord: 9.4ms | Allocations: 65581)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:38:48 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"1xnWrI0spy5OLcpie7lBT2H+gnUsY2l3qMp1nZmLFAlBeZdbg90ffohLF5SaQTAxYpex16RnVNrfP9ejQ97i/Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 187.5ms | Allocations: 82567)
Completed 500 Internal Server Error in 2144ms (ActiveRecord: 0.8ms | Allocations: 113427)


  
ActionView::Template::Error (undefined method `order_details_path' for #<#<Class:0x00007f441135c490>:0x00007f441436d4b8>
Did you mean?  order_path):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:50:in `block (2 levels) in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:39:46 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 47.3ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 96ms (Views: 55.4ms | ActiveRecord: 9.8ms | Allocations: 65591)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:39:53 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"oTJPK4rgPKtzJpOe6oHiBd0XNPY8YgdkJDAqkkCI4UE3Ug7chBGE+7VATmgLeZN73n4HVLRmOslTxYismt0XtQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from block in create at /home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:50)
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from block in create at /home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:50)
DEPRECATION WARNING: SourceAnnotationExtractor is deprecated! Use Rails::SourceAnnotationExtractor instead. (called from block in create at /home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:50)
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 166.7ms | Allocations: 87130)
Completed 500 Internal Server Error in 136014ms (ActiveRecord: 0.9ms | Allocations: 215088)


  
ActionView::Template::Error (undefined method `order_details_path' for #<#<Class:0x00007f09e136fc58>:0x00007f09e10ded40>
Did you mean?  order_path):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:51:in `block (2 levels) in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:42:17 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 47.4ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 97ms (Views: 56.5ms | ActiveRecord: 9.0ms | Allocations: 65587)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:42:33 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"8u3423WlInTyTJqjaSgBgMoJUHJD65Ki1gGSzAdWHLlkjbkse1SaJDQqR1WI0HD+yWBj0Mvvrw+h9DDy3QPqTQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"1", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 159.5ms | Allocations: 82563)
Completed 500 Internal Server Error in 171ms (ActiveRecord: 0.6ms | Allocations: 87908)


  
ActionView::Template::Error (undefined method `order_details_path' for #<#<Class:0x00007fbaad365758>:0x0000559ac6f97b10>
Did you mean?  order_path):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:50:in `block (2 levels) in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:44:25 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 47.3ms | Allocations: 33650)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 96ms (Views: 54.7ms | ActiveRecord: 9.3ms | Allocations: 65583)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:44:34 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"PvnDzbAI1YtzQELuqh2NzM8LgtgAo650j/eJ5qFBJM+omYI6vvlt27UmnxhL5fyyzGKxeoink9n4AivYexTSOw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 145.9ms | Allocations: 82563)
Completed 500 Internal Server Error in 154ms (ActiveRecord: 0.5ms | Allocations: 87181)


  
ActionView::Template::Error (undefined method `order_details_path' for #<#<Class:0x00007fd15d35f8f0>:0x00007fd1600e79a8>
Did you mean?  order_path):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:49:in `block (2 levels) in create'
app/controllers/orders_controller.rb:42:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:45:02 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 39.9ms | Allocations: 19099)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 38.1ms | ActiveRecord: 12.7ms | Allocations: 39504)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:45:13 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"iaoA2RZLtUgdi1zfVb/w3OFcxt90oAcmaQ0J03oGdBcfykEuGLoNGNvtgSm0R4Gi4jX1ffykOose+KvtoFOC4w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"2", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 163.3ms | Allocations: 81900)
Completed 500 Internal Server Error in 178ms (ActiveRecord: 0.8ms | Allocations: 85056)


  
ActionView::Template::Error (undefined method `order_details_path' for #<#<Class:0x00007fd15ca65010>:0x0000558a2e24e650>
Did you mean?  order_path):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:49:in `block (2 levels) in create'
app/controllers/orders_controller.rb:42:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:47:11 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 46.3ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 96ms (Views: 54.5ms | ActiveRecord: 9.6ms | Allocations: 65578)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:47:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"1f1AjtBuk5AIXWi8FMDUX9R69jrkiWDrUZJMjBsJ1xdDnQF53p8rwM47tUr1OKUh1xPFmGyNXUYmZ+6ywVwh4w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Completed 406 Not Acceptable in 11ms (ActiveRecord: 0.6ms | Allocations: 4648)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:47:26 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"1f1AjtBuk5AIXWi8FMDUX9R69jrkiWDrUZJMjBsJ1xdDnQF53p8rwM47tUr1OKUh1xPFmGyNXUYmZ+6ywVwh4w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Completed 406 Not Acceptable in 4ms (ActiveRecord: 0.3ms | Allocations: 2416)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:42:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:47:53 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 47.3ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 97ms (Views: 55.1ms | ActiveRecord: 10.3ms | Allocations: 65580)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:48:02 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"EN/sEHQT6qjQYpzPER9czlSfv7FS5yan8qxesEB8G9iGv63neuJS+BYEQTnw5y2wV/aME9rjGwqFWfyOmintLA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 11ms (ActiveRecord: 0.6ms | Allocations: 4260)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 10:48:03 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (424.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (119.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 729.8ms | Allocations: 15294)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 735ms (Views: 189.3ms | ActiveRecord: 544.9ms | Allocations: 19274)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:51:20 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 47.2ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 96ms (Views: 55.0ms | ActiveRecord: 9.6ms | Allocations: 65581)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:52:07 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"HncDT5a1ngK88GaWv2gJQngSV5TDc7Zy8x+IoMLtrFiIF0K4mEQmUnqWu2BekHg8e3tkNkt3i9+E6iqeGLharA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 9ms (ActiveRecord: 0.5ms | Allocations: 4257)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 10:52:07 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 34.8ms | Allocations: 15293)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 38.6ms | ActiveRecord: 1.8ms | Allocations: 19272)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:52:43 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 48.4ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 56.9ms | ActiveRecord: 9.7ms | Allocations: 65579)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:53:00 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"49bLIsXFBpSvis/RmxnjtJvhe37i9tewk9vfuNt570Z1torVyzS+xGnsEid64ZLKmIhI3Gry6h3kLn2GASwZsg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 39213ms (ActiveRecord: 0.5ms | Allocations: 46406)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 10:53:39 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 47.5ms | Allocations: 23159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 46.0ms | ActiveRecord: 6.1ms | Allocations: 28888)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:54:16 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 48.8ms | Allocations: 33650)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 99ms (Views: 57.4ms | ActiveRecord: 10.7ms | Allocations: 65586)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:54:27 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"OWUGxNs0KfSBZ9Wf478XH272waSej7kESpi3+9plDKyvBUcz1cWRpEcBCGkCR2ZhbZ/yBhaLhKk9bRXFADD6WA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 117298ms (ActiveRecord: 1.2ms | Allocations: 58179)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 10:56:25 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 38.1ms | Allocations: 15295)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 41.3ms | ActiveRecord: 2.3ms | Allocations: 19277)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 10:59:41 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 46.1ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 95ms (Views: 54.2ms | ActiveRecord: 9.9ms | Allocations: 65580)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 10:59:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Pb7JBeN3FSobrdIyp/8KfOBa9yx2Phpqv6sJf3PRT12r3ojy7Yatet3LD8RGB3sC4zPEjv46J8fIXqtBqYS5qQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in check_inventory'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:63:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mOrder Create (384.9ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 04:00:04.977172"], ["updated_at", "2020-03-05 04:00:04.977172"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mOrderDetail Create (83.2ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 44], ["price", 10000.0], ["quantity", 2], ["created_at", "2020-03-05 04:00:05.365718"], ["updated_at", "2020-03-05 04:00:05.365718"]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mOrderDetail Create (0.7ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 44], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-05 04:00:05.452919"], ["updated_at", "2020-03-05 04:00:05.452919"]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[35m (37.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:54)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 931], ["updated_at", "2020-03-05 04:00:05.508722"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[35m (20.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:54)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 30], ["updated_at", "2020-03-05 04:00:05.543394"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[35m (13.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 16005ms (ActiveRecord: 550.4ms | Allocations: 75370)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:00:05 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 33.5ms | Allocations: 15170)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 36.6ms | ActiveRecord: 1.7ms | Allocations: 19223)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:00:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 35.9ms | Allocations: 15713)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 39.8ms | ActiveRecord: 0.3ms | Allocations: 19859)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:00:42 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"xc8Gv0c7+N2mRtPAOC+UUuWwxI0VvGv+0g62rDFNWIhTr0dIScpAjWAgDjbZ1+Us5tn3L524VlOl+xSS6xiufA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"1", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (4.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:28:in `block in check_inventory'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 114996ms (ActiveRecord: 4.8ms | Allocations: 47569)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:03:09 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 44.7ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 52.1ms | ActiveRecord: 9.2ms | Allocations: 65586)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:03:17 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"6FopIrz9J0dXRi/jacxOF3+7TUsVTFH8jLCHO1yPLq5+OmjVsgyfF5Eg8hWIND9pfNJ+6Z1IbFH7RSUFhtrYWg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (2.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 4287ms (ActiveRecord: 3.1ms | Allocations: 33088)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:03:22 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 33.2ms | Allocations: 15963)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 36.0ms | ActiveRecord: 1.7ms | Allocations: 19947)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:06:46 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 48.4ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 97ms (Views: 56.4ms | ActiveRecord: 10.0ms | Allocations: 65580)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:06:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"sFZMt2LycidLwR1mqd3d8/MiWKg/C179t++o+/vqj3QmNg1AbAPKd42nwJBIJayN8EtrCrcPY1DAGgrFIb95gA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (2.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 154.9ms | Allocations: 82564)
Completed 500 Internal Server Error in 3494ms (ActiveRecord: 4.4ms | Allocations: 115287)


  
ActionView::Template::Error (undefined method `order_details_path' for #<#<Class:0x00007f145d34a918>:0x00007f144839e6e0>
Did you mean?  order_path):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:50:in `block (2 levels) in create'
app/controllers/orders_controller.rb:42:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:07:53 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 32.8ms | Allocations: 19132)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 40.7ms | ActiveRecord: 10.5ms | Allocations: 39552)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:08:08 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"otB41o0edvwFr1a/nP5r4IokigSiCwzU+Yj1YT+fHSs0sDkhg+/OrMPJi0l9BhqeiU25pioPMXmOfVdf5crr3w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 166.6ms | Allocations: 81898)
Completed 500 Internal Server Error in 1834ms (ActiveRecord: 1.8ms | Allocations: 102539)


  
ActionView::Template::Error (undefined method `order_details_path' for #<#<Class:0x00007f145d1a7e58>:0x000055a5fea33370>
Did you mean?  order_path):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:50:in `block (2 levels) in create'
app/controllers/orders_controller.rb:42:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:11:03 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 33.5ms | Allocations: 19126)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 34.6ms | ActiveRecord: 10.1ms | Allocations: 39550)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:11:11 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"bCWF4292sgmAIxLeJYBay+40IsbYcfws5jslenaJ+Uz6RcQUYYcKWUZFzyjEeCu17V0RZFB1wYGRzodErNwPuA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"a"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mInventory Load (2.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 149.1ms | Allocations: 81898)
Completed 500 Internal Server Error in 1483ms (ActiveRecord: 13.5ms | Allocations: 106499)


  
ActionView::Template::Error (undefined method `order_details_path' for #<#<Class:0x00007f14482a3088>:0x00007f145d2971d8>
Did you mean?  order_path):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:49:in `block (2 levels) in create'
app/controllers/orders_controller.rb:42:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:12:01 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 36.2ms | Allocations: 19152)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 39.1ms | ActiveRecord: 8.2ms | Allocations: 39583)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:12:10 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"QVpSAt63XleS0PSeXCEC5WXQLnOHV05EHCSkWrMoLmrXOhP10EbmB1S2KWi92XObZrkd0Q9Tc+lr0QZkaX3Yng==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (2.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1162)
Completed 500 Internal Server Error in 1491ms (ActiveRecord: 3.9ms | Allocations: 23458)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:50:in `block (2 levels) in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:12:42 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 39.2ms | Allocations: 16331)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 45.0ms | ActiveRecord: 0.3ms | Allocations: 21424)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:12:53 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"uKxWmmUDcUQNnaE15Eks3SJrEbR9Q3LF1r50DIRMiRcuzBdta/LJFMv7fMMFsV2jIQIiFvVHT2ihS9YyXhl/4w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"a"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mInventory Load (3.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1162)
Completed 500 Internal Server Error in 3031ms (ActiveRecord: 12.8ms | Allocations: 24453)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:50:in `block (2 levels) in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:13:44 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 46.4ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 95ms (Views: 53.9ms | ActiveRecord: 9.4ms | Allocations: 65599)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:13:53 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Lv5/8zYAXbAfA4DBWpHGKNWSi6QR1uisLpesrPuh+Ae4nj4EOPHl4NllXTe7abdW1vu4BpnS1QFZYg6SIfQO8w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"a"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= 'a') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 45.5ms | Allocations: 14737)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 2411ms (Views: 50.4ms | ActiveRecord: 2.2ms | Allocations: 51498)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:14:03 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"bFmF0Bv0ylw7ZxEW2bysvOAw0pg3e+hmVo9TkRV/1Wz6OcQnFQVyDP0BzOA4RN3C41nhOr9/1cshevGvzyojmA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"-2"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '-2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:63:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 5360ms (ActiveRecord: 9.6ms | Allocations: 45924)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:14:08 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 28.5ms | Allocations: 15170)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.9ms | ActiveRecord: 1.8ms | Allocations: 19232)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:14:34 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 43.5ms | Allocations: 15706)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 47.9ms | ActiveRecord: 0.3ms | Allocations: 19865)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:14:55 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"PA+trCeGM6e5Q7aWVQOW/BNiWe1LLzoWmoSmOJvOhEqqb+xbKXeL938la2C0++eCEAtqT8MrB7vtcQQGQZtyvg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"11"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '11') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:63:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 04:15:13.612236"], ["updated_at", "2020-03-05 04:15:13.612236"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mOrderDetail Create (0.8ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 45], ["price", 10000.0], ["quantity", 11], ["created_at", "2020-03-05 04:15:13.616748"], ["updated_at", "2020-03-05 04:15:13.616748"]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 45], ["price", 5000.0], ["quantity", 2], ["created_at", "2020-03-05 04:15:13.620658"], ["updated_at", "2020-03-05 04:15:13.620658"]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[35m (21.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:54)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 920], ["updated_at", "2020-03-05 04:15:13.670080"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:54)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 28], ["updated_at", "2020-03-05 04:15:13.691587"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[35m (17.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 18017ms (ActiveRecord: 59.9ms | Allocations: 59192)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:15:46 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 45.8ms | Allocations: 33649)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 101ms (Views: 54.3ms | ActiveRecord: 9.4ms | Allocations: 65593)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:16:20 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"/zBcphp0ZqYNjtVGrEXKM18f5QGl9aYMtpwY7TmsH3FpUB1RFIXe9svoCLBNvbtNXHbWoy3xm6HBabrT4/nphQ==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 18.7ms | Allocations: 7304)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.0ms | Allocations: 10873)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @remained_lists.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@remained_lists.errors.count, "error") %> prohibited this order from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:58:in `block (2 levels) in create'
app/controllers/orders_controller.rb:43:in `create'
Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:16:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"/zBcphp0ZqYNjtVGrEXKM18f5QGl9aYMtpwY7TmsH3FpUB1RFIXe9svoCLBNvbtNXHbWoy3xm6HBabrT4/nphQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"0"}, "1"=>{"product_id"=>"2", "quantity"=>"0"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:63:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 17065ms (ActiveRecord: 10.8ms | Allocations: 68781)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:17:11 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 29.1ms | Allocations: 15836)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.1ms | ActiveRecord: 1.4ms | Allocations: 19907)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:19:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 40.9ms | Allocations: 16394)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 46.8ms | ActiveRecord: 0.3ms | Allocations: 21495)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:19:40 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"VbC5WBRWBFT6T+dqSmWh3J1o14c4A1y35CfjoaIkp9jD0PivGqe8BDwpOpyrndCingHkJbAHYRqT0kGfeHFRLA==", "customer"=>{"name"=>"daycd", "phone"=>"0987654321"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"0"}, "1"=>{"product_id"=>"2", "quantity"=>"0"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0987654321') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:63:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 2806ms (ActiveRecord: 5.8ms | Allocations: 41594)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:19:43 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 31.0ms | Allocations: 15813)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.8ms | ActiveRecord: 1.2ms | Allocations: 19850)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:20:13 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 49.2ms | Allocations: 24757)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 55.9ms | ActiveRecord: 0.3ms | Allocations: 29863)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:20:44 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 68.7ms | Allocations: 24584)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 80ms (Views: 75.8ms | ActiveRecord: 0.4ms | Allocations: 29689)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:20:45 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 60.1ms | Allocations: 23970)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 64.4ms | ActiveRecord: 0.4ms | Allocations: 28134)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:20:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 69.9ms | Allocations: 23962)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 74.1ms | ActiveRecord: 0.3ms | Allocations: 28109)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:20:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 50.5ms | Allocations: 23972)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 56.8ms | ActiveRecord: 0.3ms | Allocations: 28133)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:20:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 51.0ms | Allocations: 23968)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 55.2ms | ActiveRecord: 0.2ms | Allocations: 28125)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:20:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 61.8ms | Allocations: 23964)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 65.8ms | ActiveRecord: 0.3ms | Allocations: 28115)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:20:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 56.3ms | Allocations: 23967)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 60.7ms | ActiveRecord: 0.3ms | Allocations: 28128)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:20:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 48.4ms | Allocations: 23962)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 56.4ms | ActiveRecord: 0.4ms | Allocations: 28118)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:21:00 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"6/WoW5F7x5S4ohv9Tnb7IYopAUr2Q5+SNOuvc8hHGcZ9lemsn4p/xH7ExguvjopfiUAy6H5Hoj9DHg1NEhLvMg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"0"}, "1"=>{"product_id"=>"2", "quantity"=>"0"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:63:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:76:in `create'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 3270ms (ActiveRecord: 5.0ms | Allocations: 41570)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:21:03 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 42.3ms | Allocations: 15815)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 45.9ms | ActiveRecord: 1.4ms | Allocations: 19853)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:22:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 44.2ms | Allocations: 23986)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 48.1ms | ActiveRecord: 0.4ms | Allocations: 28141)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:24:26 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 64.4ms | Allocations: 42078)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 121ms (Views: 74.0ms | ActiveRecord: 10.2ms | Allocations: 74028)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:24:35 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"krwDrm/Cq1Pkibyrb+ysr9LhooGRJBs6b5FFLYLvHykE3EJZYTMTAyLvYV2OFN3R0YiRIxkgJpcYZOcTWLrp3Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"0"}, "1"=>{"product_id"=>"2", "quantity"=>"0"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:22:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:22:in `block in check_inventory'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 2226ms (ActiveRecord: 10.3ms | Allocations: 59618)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:24:37 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 29.0ms | Allocations: 15836)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.7ms | ActiveRecord: 1.4ms | Allocations: 19909)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:25:11 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 59.5ms | Allocations: 42077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 109ms (Views: 68.6ms | ActiveRecord: 9.4ms | Allocations: 74022)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:25:21 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"LqXp9paRwvhtiuNDnmv2DfuiA1Z1aIR8iX85j5G+vF24xagBmGB6qKvsPrV/k4dz+Msw9P1sudH+ipuxS+tKqQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"0"}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:22:in `block in check_inventory'
  [1m[36mInventory Load (1.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:22:in `block in check_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 30.5ms | Allocations: 17440)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20746ms (Views: 35.4ms | ActiveRecord: 9.5ms | Allocations: 73243)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:25:56 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 46.7ms | Allocations: 23934)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 51.3ms | ActiveRecord: 0.3ms | Allocations: 28098)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:26:02 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"jZp3yzGHU9JGQm6muBZ8nIPNBNDFmQfP9elEKaECEOUb+jY8P3brgoAks1BZ7g3igKQ3ck2dOmKCHOYXe1fmEQ==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 33.4ms | Allocations: 11898)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 0.0ms | Allocations: 15286)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @remained_lists.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@remained_lists.errors.count, "error") %> prohibited this order from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:58:in `block (2 levels) in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:26:07 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 47.0ms | Allocations: 23990)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 51.1ms | ActiveRecord: 0.3ms | Allocations: 28150)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:26:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"U4cKkhG+PGahtRmc0fUQUvBQSkNki62BpervzFYSrjvF50tlH0+ENmfTxGowDWEs8zl54eyPkCzSH03yjEdYzw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:22:in `block in check_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 43.6ms | Allocations: 17432)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1806ms (Views: 48.2ms | ActiveRecord: 1.2ms | Allocations: 41021)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:26:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 41.6ms | Allocations: 23974)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 46.3ms | ActiveRecord: 0.4ms | Allocations: 28131)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:26:32 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"v+yq7tZXAXF62Dc0zmU638UoApjtdmka3CqzugR1idApjOsZ2Ka5Iby+6sIvnUuhxkExOmVyVLer3xGE3iB/JA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"0"}, "1"=>{"product_id"=>"2", "quantity"=>"0"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:22:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:22:in `block in check_inventory'
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:37:in `block in merge_params'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 5292ms (ActiveRecord: 6.2ms | Allocations: 42828)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:26:37 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 32.1ms | Allocations: 15836)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.1ms | ActiveRecord: 2.0ms | Allocations: 19902)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:26:45 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 45.7ms | Allocations: 23978)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 50.4ms | ActiveRecord: 0.3ms | Allocations: 28128)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:27:23 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 59.9ms | Allocations: 42077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 108ms (Views: 67.7ms | ActiveRecord: 9.4ms | Allocations: 74024)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:27:32 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"F96OmTMm6gvrj05JGzkOSbFvg9No5K82dtc6xEAH0iSBvs9uPddSWy3pk7/6wX83sgawceDgkpsBIpj6mlIk0A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"0"}, "1"=>{"product_id"=>"2", "quantity"=>"11"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '11') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:71:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:71:in `create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:71:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:71:in `create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:71:in `create'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 11095ms (ActiveRecord: 16.1ms | Allocations: 62918)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:27:43 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 30.6ms | Allocations: 15836)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.1ms | ActiveRecord: 1.5ms | Allocations: 19905)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:28:12 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 60.0ms | Allocations: 42077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 109ms (Views: 68.0ms | ActiveRecord: 9.2ms | Allocations: 74026)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:28:21 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"v2KK3WrrKZFJ7zBy74aT+bxY9MrnHTeoIS1bIcjEZmkpAssqZBqRwY+J7YQOfuKHvzHHaG8ZCgVW2PkfEpGQnQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"0"}, "1"=>{"product_id"=>"2", "quantity"=>"0"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '0') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:60:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
Redirected to http://localhost:3000/orders/index?notice=Update+was+successfully+created.
Completed 302 Found in 24559ms (ActiveRecord: 10.0ms | Allocations: 80580)


Started GET "/orders/index?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:28:46 +0700
Processing by OrdersController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 50.6ms | Allocations: 24447)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 49.3ms | ActiveRecord: 5.7ms | Allocations: 30176)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:28:54 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 61.2ms | Allocations: 42077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 111ms (Views: 68.5ms | ActiveRecord: 9.7ms | Allocations: 74023)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:29:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"unPdPS6XmJqO6ypg/Hb2+BYZqXmtAZrxnUsI04Sr07YsE5zKIGYgykiN95YdjoeGFXCa2yUFp1zqvqrtXv4lQg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"0"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 39.4ms | Allocations: 17306)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 5506ms (Views: 45.0ms | ActiveRecord: 0.9ms | Allocations: 78339)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:29:19 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 40.3ms | Allocations: 23933)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 44.4ms | ActiveRecord: 0.3ms | Allocations: 28094)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:29:28 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"a6ETqor1owAyFYEie/MjCQ71N6XNeaPv+ptVEZ6xcTP9wVJdhAQbUPRzXNSaC1J3DZwEB0V9nkKNbvcvROSHxw==", "customer"=>{"name"=>"daycd", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"0"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 36.1ms | Allocations: 11764)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 0.0ms | Allocations: 14831)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @remained_lists.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@remained_lists.errors.count, "error") %> prohibited this order from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:58:in `block (2 levels) in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:29:54 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 43.8ms | Allocations: 27373)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 79ms (Views: 46.0ms | ActiveRecord: 8.3ms | Allocations: 47778)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:30:04 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"feoo/1pBbnbgC0gJPdHP+1EqqkCtSdSrFIw+TUj50XTrimkIVLDWJiZtlf/cKb6FUkOZ4iVN6QZjeZxzkqwngA==", "customer"=>{"name"=>"daycd", "phone"=>"as"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"0"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 19.3ms | Allocations: 6392)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.0ms | Allocations: 9027)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @remained_lists.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@remained_lists.errors.count, "error") %> prohibited this order from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:59:in `block (2 levels) in create'
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:31:20 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 58.5ms | Allocations: 42077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 107ms (Views: 66.1ms | ActiveRecord: 9.8ms | Allocations: 74026)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:31:21 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"LjaZ5tu6V/Fivzop1ZbiTOPcvRDz/z0HLHwg90yU8yy4VtgR1UvvoaTZ5980bpMy4LWOsnv7AKpbiYLJlsEF2A==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 12.7ms | Allocations: 7304)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms | Allocations: 10880)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @order_details.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@order_details.errors.count, "error") %> prohibited this order from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:59:in `block (2 levels) in create'
app/controllers/orders_controller.rb:43:in `create'
Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:31:39 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"LjaZ5tu6V/Fivzop1ZbiTOPcvRDz/z0HLHwg90yU8yy4VtgR1UvvoaTZ5980bpMy4LWOsnv7AKpbiYLJlsEF2A==", "customer"=>{"name"=>"daycd", "phone"=>"039616210"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"2", "quantity"=>""}, "1"=>{"product_id"=>"1", "quantity"=>"2"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 28.9ms | Allocations: 6316)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 0.0ms | Allocations: 8118)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @order_details.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@order_details.errors.count, "error") %> prohibited this order from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:59:in `block (2 levels) in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:35:23 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 58.5ms | Allocations: 42077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 107ms (Views: 66.5ms | ActiveRecord: 9.7ms | Allocations: 74027)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:35:29 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"a+tvpG4QBjP49jkT9IsDx//2nZJlZU+vZ0D25dyAuzv9iy5TYOG+Yz6Q5OUVc3K5/J+uMO1hcgIQtVTbBtVNzw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 43.1ms | Allocations: 17448)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14861ms (Views: 48.1ms | ActiveRecord: 1.3ms | Allocations: 114951)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:35:51 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 53.5ms | Allocations: 23932)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 57.9ms | ActiveRecord: 0.2ms | Allocations: 28092)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:36:00 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"PV9v1wEQt0JLnhsD0if9RyVvqmewqxpiepJCUqVZHpKrPy4gD+EPEo34xvUz34w5JgaZxTivJ88NZ+BsfwzoZg==", "customer"=>{"name"=>"daycd", "phone"=>"039616210"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 47.2ms | Allocations: 11546)
Completed 500 Internal Server Error in 57ms (ActiveRecord: 0.0ms | Allocations: 13482)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @order_details.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@order_details.errors.count, "error") %> prohibited this order from being saved:</h2>
    35: 
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:60:in `block (2 levels) in create'
app/controllers/orders_controller.rb:43:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:36:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 44.7ms | Allocations: 27378)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 47.2ms | ActiveRecord: 8.9ms | Allocations: 47798)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:36:52 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"IkULf165waDCx3xQO0JCFerjl83ofy57+UIUCuxZRem0JUqIUEh58AShoabaujNr6Yqkb2B7E9aOt7Y0NgyzHQ==", "customer"=>{"name"=>"daycd", "phone"=>"039616210"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 57.4ms | Allocations: 17224)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 62.8ms | ActiveRecord: 0.0ms | Allocations: 22497)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:36:55 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"MglI1GJ05s9p8OhWkH+co+yfDSpwSw7S1JWyYYcuZ+mkaQkjbIVen6+WNaBxh+3d7/Y+iPhPM3+jYBBfXXuRHQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:27:in `block in check_inventory'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 44.9ms | Allocations: 17451)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7442ms (Views: 49.8ms | ActiveRecord: 6.0ms | Allocations: 108158)


Started GET "/" for 127.0.0.1 at 2020-03-05 11:46:24 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 58.1ms | Allocations: 29506)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 58.6ms | ActiveRecord: 9.7ms | Allocations: 39743)


Started GET "/products/new" for 127.0.0.1 at 2020-03-05 11:46:27 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 143.7ms | Allocations: 20148)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 152ms (Views: 150.9ms | ActiveRecord: 0.0ms | Allocations: 24121)


Started POST "/products" for 127.0.0.1 at 2020-03-05 11:46:28 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"scAICJwLazdq/J4XgqLQpz/FcM2zVBa3Cv6dmmE9/B4VPvRx1vIwlkbzQftgU2iNADY2+H/0pLIj6J/Bt4d1sA==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 15.8ms | Allocations: 5882)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 23.4ms | ActiveRecord: 0.0ms | Allocations: 11575)


Started GET "/products/6/edit" for 127.0.0.1 at 2020-03-05 11:46:35 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 72.8ms | Allocations: 10060)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 81ms (Views: 77.1ms | ActiveRecord: 0.5ms | Allocations: 14661)


Started PATCH "/products/6" for 127.0.0.1 at 2020-03-05 11:46:38 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"VrdFrA0+g73Q5JzmlBpG6Z6AwdF8V7yQ3P4/sxL+gUyW5iX8FMK//6pWsKZuIcRp0hwx8AJOU5vwp9ygwUZmqw==", "product"=>{"name"=>"Banh Mi KHONG CO", "price"=>"100000.0", "inventory_attributes"=>{"quantity"=>"0", "id"=>"6"}}, "commit"=>"Save", "id"=>"6"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/?notice=Update+was+successfully+created.
Completed 302 Found in 15ms (ActiveRecord: 1.8ms | Allocations: 3671)


Started GET "/?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:46:38 +0700
Processing by ProductsController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 31.2ms | Allocations: 13088)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 32.8ms | ActiveRecord: 4.1ms | Allocations: 17020)


Started GET "/products/6/edit" for 127.0.0.1 at 2020-03-05 11:46:40 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 20.3ms | Allocations: 9296)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.7ms | ActiveRecord: 0.6ms | Allocations: 13660)


Started PATCH "/products/6" for 127.0.0.1 at 2020-03-05 11:46:42 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"iWj82OszdJaIQDLfHeXNZbOyKbsYsaG3pFy766qf/H1JOZyI8s9I1PLyHp/n3k/l/y7ZmmaoTryIBVj4eScbmg==", "product"=>{"name"=>"Banh Mi KHONG CO", "price"=>"100000.0", "inventory_attributes"=>{"quantity"=>"10", "id"=>"6"}}, "commit"=>"Save", "id"=>"6"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 10], ["updated_at", "2020-03-05 04:46:42.148530"], ["id", 6]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/?notice=Update+was+successfully+created.
Completed 302 Found in 30ms (ActiveRecord: 19.2ms | Allocations: 4818)


Started GET "/?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:46:42 +0700
Processing by ProductsController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 31.1ms | Allocations: 13079)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 32.5ms | ActiveRecord: 3.3ms | Allocations: 17014)


Started GET "/products/6/edit" for 127.0.0.1 at 2020-03-05 11:46:44 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 23.1ms | Allocations: 9304)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 27.8ms | ActiveRecord: 0.6ms | Allocations: 13648)


Started PATCH "/products/6" for 127.0.0.1 at 2020-03-05 11:46:46 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"gU7lJivU3jqU095GpBACHYYN1+vDqXZxlRRTDeVRrFJBH4V2MijieO5h8gZeK4CdypEnyr2wmXq5TbAeNulLtQ==", "product"=>{"name"=>"Banh Mi KHONG CO", "price"=>"100000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"6"}}, "commit"=>"Save", "id"=>"6"}
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 22.8ms | Allocations: 8874)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 27.4ms | ActiveRecord: 2.9ms | Allocations: 17653)


Started PATCH "/products/6" for 127.0.0.1 at 2020-03-05 11:46:51 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"LYyxCFEMnIvEBX2yFk2kF6F4DZPOpw/ThTk3r1j8de677PD/X/0k2wJjoET3tdVpohE+MUajMn7yzJWRgqmDGg==", "product"=>{"name"=>"Banh Mi KHONG CO", "price"=>"-10", "inventory_attributes"=>{"quantity"=>"10", "id"=>"6"}}, "commit"=>"Save", "id"=>"6"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 14.3ms | Allocations: 8662)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 18.5ms | ActiveRecord: 0.7ms | Allocations: 16543)


Started PATCH "/products/6" for 127.0.0.1 at 2020-03-05 11:46:55 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"VBGFkkqVoZgmB7cntyrlG5yF0QWhHjKtNuJ5LABSc/HCccRlRGQZyOBhatFW0pRln+zipykaDwBBF9sS2geFBQ==", "product"=>{"name"=>"Banh Mi KHONG CO", "price"=>"1000", "inventory_attributes"=>{"quantity"=>"10", "id"=>"6"}}, "commit"=>"Save", "id"=>"6"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "price" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["price", 1000.0], ["updated_at", "2020-03-05 04:46:55.651006"], ["id", 6]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (19.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/?notice=Update+was+successfully+created.
Completed 302 Found in 32ms (ActiveRecord: 21.1ms | Allocations: 4296)


Started GET "/?notice=Update+was+successfully+created." for 127.0.0.1 at 2020-03-05 11:46:55 +0700
Processing by ProductsController#index as HTML
  Parameters: {"notice"=>"Update was successfully created."}
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 27.0ms | Allocations: 13076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 28.2ms | ActiveRecord: 3.2ms | Allocations: 17006)


Started GET "/products/import" for 127.0.0.1 at 2020-03-05 11:47:01 +0700
Processing by ProductsController#import as HTML
  Rendering products/import.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/import.html.erb:12
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/import.html.erb:16
  Rendered products/import.html.erb within layouts/application (Duration: 39.7ms | Allocations: 6037)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 43.2ms | ActiveRecord: 1.5ms | Allocations: 10104)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:48:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 44.2ms | Allocations: 28560)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 46.8ms | ActiveRecord: 8.4ms | Allocations: 52327)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:48:32 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"0PpVxid9jlNAWEE0EEcEgpi16i6Yuh5050SUW26loYBGmhQxKYw2A4Y+nMLxv3X8m9zZjBC+I9mQsTZltPBXdA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 38.0ms | Allocations: 17595)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 42.2ms | ActiveRecord: 0.0ms | Allocations: 24385)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:48:48 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"UTs0YoRXpdTqG7YFN0V+Xxga0hy88xuAHRi78jMzX/HHW3WViqYdhCx9a/PWvQ8hG3PhvjT3Ji1q7RnM6WapBQ==", "customer"=>{"name"=>"daycd", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 31.0ms | Allocations: 17460)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 36.0ms | ActiveRecord: 0.0ms | Allocations: 23603)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:48:51 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Gs+Ag4EWCyAhGaWl1nLDHfqlc0XkIRIc9xfbklrJHFGMr8F0j+ezcOd/eFM3irJj+cxA52wlL7GA4nmsgJzqpQ==", "customer"=>{"name"=>"daycd", "phone"=>"039616210"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 28.7ms | Allocations: 17243)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 33.0ms | ActiveRecord: 0.0ms | Allocations: 22372)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:48:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"rd0BcRLbPD6PrN3FxUSmG2kA+lYz97hP93pDf813My47vUCGHCqEbknKADMkvNdlamnJ9LvzheKAj+FBFyLF2g==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 26.5ms | Allocations: 17589)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 31.1ms | ActiveRecord: 0.0ms | Allocations: 25106)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:49:00 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 45.8ms | Allocations: 24003)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 116ms (Views: 113.2ms | ActiveRecord: 0.4ms | Allocations: 28163)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:49:08 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"WhqnRCQMduefPe2ZLBIIBxxPDann6NQ4ZAE5tq7eP4rMeuazKv3Ot1lbMG/N6nl5HyY+C2/s6ZUT9JuIdIvJfg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 29.0ms | Allocations: 17455)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 37.2ms | ActiveRecord: 0.4ms | Allocations: 25021)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:49:12 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 39.1ms | Allocations: 24016)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 43.1ms | ActiveRecord: 0.3ms | Allocations: 28168)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:49:20 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"2csLs4gG2J0QhqzOF0AHF9wnv7vSnp8gNsoOXw2P9atPq0pEhvdgzdbgcTj2uHZp306MGVqaoo1BP6xh19oDXw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 57.2ms | Allocations: 17459)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 83ms (Views: 66.7ms | ActiveRecord: 1.8ms | Allocations: 24861)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:49:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 50.7ms | Allocations: 24004)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 55.0ms | ActiveRecord: 0.3ms | Allocations: 28165)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:49:37 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"wfgFuGundyxToW/2PwXIbAyEZg7MaHDPuV/m5SeAVJdXmERPZVbPfJXHsgDe/bkSD+1VrERsTWLOqkTb/dWiYw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"22"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '22') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 04:49:38.069438"], ["updated_at", "2020-03-05 04:49:38.069438"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 46], ["price", 10000.0], ["quantity", 22], ["created_at", "2020-03-05 04:49:38.071785"], ["updated_at", "2020-03-05 04:49:38.071785"]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 46], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-05 04:49:38.074181"], ["updated_at", "2020-03-05 04:49:38.074181"]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[35m (207.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:47:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:48)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 898], ["updated_at", "2020-03-05 04:49:38.304393"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:47:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:48)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 27], ["updated_at", "2020-03-05 04:49:38.342659"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index
Completed 302 Found in 544ms (ActiveRecord: 261.4ms | Allocations: 131268)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-05 11:49:38 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 80.2ms | Allocations: 16503)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 89ms (Views: 83.6ms | ActiveRecord: 3.0ms | Allocations: 20545)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:50:34 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 46.5ms | Allocations: 27422)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 49.5ms | ActiveRecord: 8.5ms | Allocations: 47926)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:50:44 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"p+JptEq7EFZ+ab6IALlVnvBhQrVzxt4rdxzWR/vBYXsxgihDREqoBrgPY37hQSTg8whxF/vC44YA6XR5IZSXjw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:51:24 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 55.3ms | Allocations: 24166)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 59.2ms | ActiveRecord: 1.0ms | Allocations: 28320)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:51:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"EiK2hPN9olGm1k350P7JLPz1qAmSR1hKlFff9svjNT+EQvdz/YwaAWCwkA8xBrhS/5ybqxpDZefjon3IEbbDyw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"134342"}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '134342') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:51:55 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 49.3ms | Allocations: 24176)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 54.1ms | ActiveRecord: 0.5ms | Allocations: 28335)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:52:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"efeqehZhN7jMXEyjAZ+Xq1N96aRnyAJIIEqRjCyZWEHvl+uNGJCP6Ao6kVXgZ+bVUBTaBu/MP+VXvzOy9syutQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1232314"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1232314') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 04:52:06.566573"], ["updated_at", "2020-03-05 04:52:06.566573"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 47], ["price", 10000.0], ["quantity", 1232314], ["created_at", "2020-03-05 04:52:06.569352"], ["updated_at", "2020-03-05 04:52:06.569352"]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 47], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-05 04:52:06.572522"], ["updated_at", "2020-03-05 04:52:06.572522"]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[35m (28.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:47:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:48)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:47:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:48)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 26], ["updated_at", "2020-03-05 04:52:06.636500"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 11:52:30 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:47
  Rendered orders/new.html.erb within layouts/application (Duration: 49.9ms | Allocations: 24156)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 54.0ms | ActiveRecord: 0.5ms | Allocations: 28313)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 11:52:47 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"BjzjTxUQOuls/oyunmZ5wN1fM6Wmz4ISWX6ZbZxcniGQXKK4G+GCuaqYUVh/ngi+3jYABy7Lv78uiztTRglo1Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"123131"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123131') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mCustomer Load (2.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in merge_params'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mCustomer Load (4.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 04:52:47.178199"], ["updated_at", "2020-03-05 04:52:47.178199"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrderDetail Create (0.9ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 48], ["price", 10000.0], ["quantity", 123131], ["created_at", "2020-03-05 04:52:47.183310"], ["updated_at", "2020-03-05 04:52:47.183310"]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 48], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-05 04:52:47.188223"], ["updated_at", "2020-03-05 04:52:47.188223"]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[35m (15.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:47:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:48)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:47:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:48)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 25], ["updated_at", "2020-03-05 04:52:47.225390"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[35m (17.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
Started GET "/" for 127.0.0.1 at 2020-03-05 11:53:36 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 27.6ms | Allocations: 13855)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 28.2ms | ActiveRecord: 4.5ms | Allocations: 17914)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 13:46:46 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 40.1ms | Allocations: 24792)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 46.2ms | ActiveRecord: 0.6ms | Allocations: 29886)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 13:46:53 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"xm2o1Qb4AKNn5M9Fq6iCcFw4kC91fnjcIBm6DiItqWVQDekiCAm486GCErNKUPMOX1Gjjf16RXFX7Bgw+HhfkQ==", "customer"=>{"name"=>"daycd", "phone"=>"09876543218"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 65.8ms | Allocations: 17279)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 79ms (Views: 71.5ms | ActiveRecord: 0.0ms | Allocations: 22454)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 13:47:06 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 51.4ms | Allocations: 24045)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 56.3ms | ActiveRecord: 0.2ms | Allocations: 28201)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 13:47:12 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ycnusi+RCHVn7suKGadOnT6zYF23E3na50I2mV3eHd1fqa9FIWCwJaGIFnz4Xz/jPdpT/z8XRHeQt5Snh4vrKQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 43.7ms | Allocations: 17491)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 5643ms (Views: 50.1ms | ActiveRecord: 1.4ms | Allocations: 46445)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 13:47:22 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 40.7ms | Allocations: 24045)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 46.5ms | ActiveRecord: 0.3ms | Allocations: 28199)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 13:47:37 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"GWIFhFVq/TMtCrxioQriBGrr+WQyDzcRraXjk1IbUPCPAkRzW5tFY+tsYZRA8pN6aYLKxroLCrzaUEGtiE6mBA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2222"}, "1"=>{"product_id"=>"2", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2222') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in merge_params'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in merge_params'
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 06:47:37.452337"], ["updated_at", "2020-03-05 06:47:37.452337"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 49], ["price", 10000.0], ["quantity", 2222], ["created_at", "2020-03-05 06:47:37.454904"], ["updated_at", "2020-03-05 06:47:37.454904"]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 49], ["price", 5000.0], ["quantity", 3], ["created_at", "2020-03-05 06:47:37.458068"], ["updated_at", "2020-03-05 06:47:37.458068"]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[35m (31.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:47:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:48)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:47:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:48)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 22], ["updated_at", "2020-03-05 06:47:37.505746"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index
Completed 302 Found in 329727ms (ActiveRecord: 53.8ms | Allocations: 53685)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 13:53:19 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 38.1ms | Allocations: 24043)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 42.4ms | ActiveRecord: 0.2ms | Allocations: 28197)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 13:55:13 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"JkBbW4C5L2WTUPNKXhM45oP+ypFZjcY9r2pqq/t0CViwIBqsjkiXNVU2Lry/60mYgJf5M9GJ+5DYn8iVISH/rA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"3333"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3333') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:55:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:39:in `block in merge_params'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 06:55:13.139560"], ["updated_at", "2020-03-05 06:55:13.139560"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 50], ["price", 10000.0], ["quantity", 3333], ["created_at", "2020-03-05 06:55:13.141841"], ["updated_at", "2020-03-05 06:55:13.141841"]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 50], ["price", 5000.0], ["quantity", 2], ["created_at", "2020-03-05 06:55:13.144522"], ["updated_at", "2020-03-05 06:55:13.144522"]]
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[35m (49.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:67:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:47:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:48)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:47:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:48)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 20], ["updated_at", "2020-03-05 06:55:13.229664"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index
Completed 302 Found in 12807ms (ActiveRecord: 80.0ms | Allocations: 46121)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-05 13:55:25 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 47.3ms | Allocations: 19157)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 49.7ms | ActiveRecord: 2.4ms | Allocations: 23205)


Redirected to http://localhost:3000/orders/index
Completed 302 Found in 7375244ms (ActiveRecord: 50.9ms | Allocations: 648958)


Redirected to http://localhost:3000/orders/index
Completed 302 Found in 7418636ms (ActiveRecord: 51.8ms | Allocations: 740150)


  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 44.3ms | Allocations: 17491)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7444358ms (Views: 49.6ms | ActiveRecord: 3.3ms | Allocations: 936797)


  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 41.5ms | Allocations: 17487)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7504515ms (Views: 46.1ms | ActiveRecord: 0.8ms | Allocations: 1046403)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 13:56:06 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:35: Invalid return in class/module body
        return remained_lists
        ^~~~~~
/home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:77: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/services/order_services/create_order_service.rb:35: Invalid return in class/module body
app/services/order_services/create_order_service.rb:77: syntax error, unexpected keyword_end, expecting end-of-input
app/services/order_services/create_order_service.rb:35: Invalid return in class/module body
app/services/order_services/create_order_service.rb:77: syntax error, unexpected keyword_end, expecting end-of-input
app/services/order_services/create_order_service.rb:35: Invalid return in class/module body
app/services/order_services/create_order_service.rb:77: syntax error, unexpected keyword_end, expecting end-of-input
app/controllers/orders_controller.rb:3:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<top (required)>'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 13:56:09 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 19.5ms | Allocations: 13213)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 14516)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 13:56:10 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1209)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1677)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 13:56:26 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:35: Invalid return in class/module body
        return remained_lists
        ^~~~~~
/home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:77: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/services/order_services/create_order_service.rb:35: Invalid return in class/module body
app/services/order_services/create_order_service.rb:77: syntax error, unexpected keyword_end, expecting end-of-input
app/services/order_services/create_order_service.rb:35: Invalid return in class/module body
app/services/order_services/create_order_service.rb:77: syntax error, unexpected keyword_end, expecting end-of-input
app/services/order_services/create_order_service.rb:35: Invalid return in class/module body
app/services/order_services/create_order_service.rb:77: syntax error, unexpected keyword_end, expecting end-of-input
app/controllers/orders_controller.rb:3:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<top (required)>'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 13:56:54 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 62.7ms | Allocations: 42076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 113ms (Views: 71.0ms | ActiveRecord: 9.8ms | Allocations: 74026)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 13:57:03 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"YTAG4slfSVtMBvA11JuCd+nCLWIFMF5ipDbtdfLAFKf3UEcVx67xC4pgLcM1Y/MJ6qsewI00Y8/Tw09LKJXiUw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12334"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12334') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:24:in `block in check_inventory'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:56:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in merge_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:40:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 06:57:03.964990"], ["updated_at", "2020-03-05 06:57:03.964990"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 51], ["price", 10000.0], ["quantity", 12334], ["created_at", "2020-03-05 06:57:03.968346"], ["updated_at", "2020-03-05 06:57:03.968346"]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 51], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-05 06:57:03.971767"], ["updated_at", "2020-03-05 06:57:03.971767"]]
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[35m (368.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:68:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:49)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:49:in `block in update_inventory'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:49:in `block in update_inventory'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:49:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:48:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:49)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:49:in `block in update_inventory'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:49:in `block in update_inventory'
  [1m[36mInventory Update (0.9ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 19], ["updated_at", "2020-03-05 06:57:04.378011"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:49:in `block in update_inventory'
  [1m[35m (19.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:49:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index
Completed 302 Found in 15889ms (ActiveRecord: 400.7ms | Allocations: 66581)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-05 13:57:19 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 46.7ms | Allocations: 19836)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 50.0ms | ActiveRecord: 2.0ms | Allocations: 23885)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 13:58:10 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 57.9ms | Allocations: 42076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 106ms (Views: 65.8ms | ActiveRecord: 9.9ms | Allocations: 74031)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 13:58:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"JmLVOuJRgmXbTU10bMSeoytD59pm8xizMzgwoTCl/++wApTN7KA6NR0rkIKNPO/dKCrUeO73JR5EzZKf6vAJGw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"32132134"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '32132134') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:26:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:26:in `block in check_inventory'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:60:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `block in merge_params'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:44:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 06:59:27.407226"], ["updated_at", "2020-03-05 06:59:27.407226"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 52], ["price", 10000.0], ["quantity", 32132134], ["created_at", "2020-03-05 06:59:27.410033"], ["updated_at", "2020-03-05 06:59:27.410033"]]
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 52], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-05 06:59:27.413438"], ["updated_at", "2020-03-05 06:59:27.413438"]]
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[35m (39.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:72:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:52:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:53)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:52:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:53)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 18], ["updated_at", "2020-03-05 06:59:27.489804"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index
Completed 302 Found in 69783ms (ActiveRecord: 65.8ms | Allocations: 138244)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 13:59:37 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 59.7ms | Allocations: 42076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 109ms (Views: 67.8ms | ActiveRecord: 9.4ms | Allocations: 74030)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 13:59:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"+5W8whCsxkhYK4vEalM1yd+um3Z71G1zOt7ghziW8oVt9f01Hl1+GJ5NVjKLq0S33Meo1PPQUN5NK0K54sMEcQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"14313"}, "1"=>{"product_id"=>"1", "quantity"=>"5"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '14313') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:26:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '5') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:26:in `block in check_inventory'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:61:in `create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:45:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:73:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:73:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:73:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:73:in `create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 07:01:53.565873"], ["updated_at", "2020-03-05 07:01:53.565873"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:73:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 53], ["price", 10000.0], ["quantity", 14313], ["created_at", "2020-03-05 07:01:53.568204"], ["updated_at", "2020-03-05 07:01:53.568204"]]
  ↳ app/services/order_services/create_order_service.rb:73:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 53], ["price", 10000.0], ["quantity", 5], ["created_at", "2020-03-05 07:01:53.570593"], ["updated_at", "2020-03-05 07:01:53.570593"]]
  ↳ app/services/order_services/create_order_service.rb:73:in `create'
  [1m[35m (24.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:73:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:54)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:53:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:54)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 893], ["updated_at", "2020-03-05 07:01:53.625229"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
  [1m[35m (19.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:54:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index
Completed 302 Found in 125050ms (ActiveRecord: 56.6ms | Allocations: 131135)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-05 14:01:54 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 50.7ms | Allocations: 29806)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 49.8ms | ActiveRecord: 5.9ms | Allocations: 35539)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:02:05 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 58.8ms | Allocations: 42076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 108ms (Views: 66.8ms | ActiveRecord: 9.4ms | Allocations: 74033)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:02:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"gr4k0jxU8RPJBIMnlLIWn39Xf9526W0JlmUUGe5DAJsU3mUlMqVJQw9iXtF1SmfhfD5MfP7tUKThkLYnNBb2bw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"123123"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/orders_controller.rb:47:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 36.8ms | Allocations: 11814)
Completed 500 Internal Server Error in 136070ms (ActiveRecord: 5.7ms | Allocations: 93650)


  
ActionView::Template::Error (undefined method `errors' for #<Array:0x00007f299408c8d8>):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @order_details.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@order_details.errors.count, "error") %> prohibited this order from being saved:</h2>
    35:           <ul>
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:52:in `block (2 levels) in create'
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:04:40 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 60.2ms | Allocations: 42076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 110ms (Views: 68.3ms | ActiveRecord: 9.7ms | Allocations: 74030)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:04:48 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"9loCVyNgEaiHHgma2CukRBw0soK6ZAlEf6wTK8u3lZRgOkOgLZGp+EF41Gw509U6H12BIDJgNOkIWbEVEeJjYA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"31233"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '31233') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:50:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/orders_controller.rb:54:in `block (2 levels) in create'
  Rendered orders/new.html.erb within layouts/application (Duration: 26.5ms | Allocations: 8243)
Completed 500 Internal Server Error in 2698ms (ActiveRecord: 7.2ms | Allocations: 50159)


  
ActionView::Template::Error (undefined method `errors' for #<Array:0x00007f19a40909b0>):
    29:         </tr>
    30:       </thead>
    31:       <tbody>
    32:       <% if @order_details.errors.any? %>
    33:         <div id="error_explanation">
    34:           <h2><%= pluralize(@order_details.errors.count, "error") %> prohibited this order from being saved:</h2>
    35:           <ul>
  
app/views/orders/new.html.erb:32
app/views/orders/new.html.erb:2
app/controllers/orders_controller.rb:54:in `block (2 levels) in create'
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:08:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 64.2ms | Allocations: 23997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 68.3ms | ActiveRecord: 0.3ms | Allocations: 28168)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:08:46 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"WQnd46p4hWx4fyWKFiAqb3uliktJrs8w1daiQI3pW9fPaZwUpIk9PL4Z+Hz32FsReMy56cGq8p2iIwB+V7ytIw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
Completed 500 Internal Server Error in 2277ms (ActiveRecord: 0.7ms | Allocations: 28052)


  
NoMethodError (undefined method `take' for nil:NilClass):
  
app/controllers/orders_controller.rb:50:in `block in create'
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:09:25 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 43.6ms | Allocations: 23990)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 48.1ms | ActiveRecord: 0.3ms | Allocations: 28156)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:09:42 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 50.2ms | Allocations: 27372)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 86ms (Views: 52.8ms | ActiveRecord: 9.0ms | Allocations: 47801)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:09:51 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"luMQNl/uU3/5+RydFG6g+Mt7JhZWnkMEYLAy92RxZHMAg1HBUR/rLz+fwWv1ltGGyBIVtN6afqkXRZDJviSShw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"-2"}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '-2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 40.4ms | Allocations: 17456)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50516ms (Views: 45.7ms | ActiveRecord: 3.6ms | Allocations: 66001)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:10:49 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 76.5ms | Allocations: 42076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 135ms (Views: 86.9ms | ActiveRecord: 11.4ms | Allocations: 74032)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:11:01 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"EHUh7kQQ+BTivTrp2ecCic0/Id1k2iTe5raYh/7zT5SGFWAZSuFARCTb5x84H3P3zlYSf+zeGXORQzq5JKa5YA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"132321"}, "1"=>{"product_id"=>"2", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '132321') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/orders_controller.rb:47:in `block in create'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 5)
Completed 406 Not Acceptable in 9545ms (Views: 25.6ms | ActiveRecord: 8.9ms | Allocations: 46792)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:11:54 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 60.0ms | Allocations: 42076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 116ms (Views: 67.7ms | ActiveRecord: 11.6ms | Allocations: 74021)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:12:07 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Yaxhs1z9l2QIG74KwSGinJsw/cmQxbTpavOQ6uTRfqz3zCBEUgwvNM59Y/wg2dPimFnOaxjBiUQdBjLUPoSIWA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"13132"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '13132') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 5)
Completed 406 Not Acceptable in 8094ms (Views: 1.6ms | ActiveRecord: 6.0ms | Allocations: 63986)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:17:09 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:51: syntax error, unexpected ':', expecting '}'
          format.js { render: "alert('Sorry not enough env...
                            ^
/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:51: syntax error, unexpected '}', expecting keyword_end
...Sorry not enough enventory')" }
...                              ^):
  
app/controllers/orders_controller.rb:51: syntax error, unexpected ':', expecting '}'
app/controllers/orders_controller.rb:51: syntax error, unexpected '}', expecting keyword_end
app/controllers/orders_controller.rb:51: syntax error, unexpected ':', expecting '}'
app/controllers/orders_controller.rb:51: syntax error, unexpected '}', expecting keyword_end
app/controllers/orders_controller.rb:51: syntax error, unexpected ':', expecting '}'
app/controllers/orders_controller.rb:51: syntax error, unexpected '}', expecting keyword_end
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:17:47 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 49.5ms | Allocations: 27373)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 79ms (Views: 52.3ms | ActiveRecord: 8.5ms | Allocations: 47787)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:17:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"LeHfoNheIWdJoBMwfBlTIKK/fjgN/6JIXzNN4Ahj4T67gZ5X1q+ZN4/Gzsad4SJeodZNmoX7n+Uoxu/e0jYXyg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"124124"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '124124') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
Completed 406 Not Acceptable in 3389ms (ActiveRecord: 6.8ms | Allocations: 29241)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:20:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 60.1ms | Allocations: 27382)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 92ms (Views: 64.1ms | ActiveRecord: 8.0ms | Allocations: 47807)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:20:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"aexTmdPEUIujQpFDMgfr56DFAm38n+VNcSrjDhJ3EJf/jBJu3TXo22UkTLXT/5qZo6wxz3Sb2OAG30EwyCLmYw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1123"}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 82.8ms | Allocations: 17451)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 2593ms (Views: 101.6ms | ActiveRecord: 3.7ms | Allocations: 50072)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:20:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 42.2ms | Allocations: 23972)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 46.7ms | ActiveRecord: 0.3ms | Allocations: 28135)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:21:05 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"E0xBGJjnDkvQEFbX+CUtHeQyQiNlO+Ln9r0jePTT8aSFLADvlha2GxZ2iyEZ3Vxj51txge0/30qBSIFGLoYHUA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"123123124"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123123124') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
Completed 406 Not Acceptable in 1453ms (ActiveRecord: 7.7ms | Allocations: 28195)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:28:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 46.5ms | Allocations: 27249)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 51.4ms | ActiveRecord: 0.5ms | Allocations: 47092)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:28:40 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"MrvsVx/OEe7PKEb6X2ly60TPyMx3OoyZohczK3SsDsSk262gET+pvglOmwy+kQOVR6b7bv8+sTTV4pEVrvn4MA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2412321"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2412321') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
Completed 406 Not Acceptable in 1588ms (ActiveRecord: 2.3ms | Allocations: 29057)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:28:49 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 58.8ms | Allocations: 42076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 107ms (Views: 66.1ms | ActiveRecord: 10.3ms | Allocations: 74027)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:28:58 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"HQU/JDfv/YrSQU3U6K5hukBNMz+lxKDGLhOK4taBfNmLZX7TOR5F2hQnkCIJVhDEQyQAnS3AnWtZ5ijcDNSKLQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1231321"}, "1"=>{"product_id"=>"1", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1231321') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
Completed 406 Not Acceptable in 1413ms (ActiveRecord: 6.7ms | Allocations: 40765)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new/" for 127.0.0.1 at 2020-03-05 14:35:40 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (4.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 48.9ms | Allocations: 27273)
[Webpacker] Compiling...
[Webpacker] Compilation failed:

Completed 200 OK in 2135ms (Views: 2112.1ms | ActiveRecord: 4.0ms | Allocations: 48420)


Started GET "/orders/new/" for 127.0.0.1 at 2020-03-05 14:35:49 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 67.6ms | Allocations: 42076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 116ms (Views: 75.4ms | ActiveRecord: 10.0ms | Allocations: 74040)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:35:56 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"3BFCDp+5VQu6aeivOOOcu25UgFKairXJLs9P0f6e+9FKcQP5kUjtW3wPNVnZG+3FbT2z8BKOiGRZOu3vJMsNJQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12123"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
Completed 406 Not Acceptable in 5338ms (ActiveRecord: 6.4ms | Allocations: 40785)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:36:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 47.3ms | Allocations: 23997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 52.0ms | ActiveRecord: 0.3ms | Allocations: 28173)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:36:34 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"iELVPomfL/yfxmM3hbWg4U5wQVxHAYVzPsDgsSgYUi0eIpTJh26XrFmgvsFkTdGfTRly/s8FuN5JNUKP8k2k2Q==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 32.8ms | Allocations: 17579)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 37.4ms | ActiveRecord: 0.0ms | Allocations: 24357)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:37:51 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:51: syntax error, unexpected tCONSTANT, expecting '}'
... { render :js => ' alert('Sorry do not enough inventory');'}
...                          ^~~~~
/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:51: syntax error, unexpected '}', expecting keyword_end
...ry do not enough inventory');'}
...                              ^):
  
app/controllers/orders_controller.rb:51: syntax error, unexpected tCONSTANT, expecting '}'
app/controllers/orders_controller.rb:51: syntax error, unexpected '}', expecting keyword_end
app/controllers/orders_controller.rb:51: syntax error, unexpected tCONSTANT, expecting '}'
app/controllers/orders_controller.rb:51: syntax error, unexpected '}', expecting keyword_end
app/controllers/orders_controller.rb:51: syntax error, unexpected tCONSTANT, expecting '}'
app/controllers/orders_controller.rb:51: syntax error, unexpected '}', expecting keyword_end
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:38:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 44.5ms | Allocations: 27373)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 47.5ms | ActiveRecord: 8.5ms | Allocations: 47801)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:38:39 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"HdSj058DALodgdImAZQf0HwBFTlh3VeYJXrQ2ZCGgDeLtOIkkfK46tvnD9DgbG6uf2gmm+nZajVSj3LnStN2ww==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"3241234"}, "1"=>{"product_id"=>"2", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3241234') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
Completed 406 Not Acceptable in 2110ms (ActiveRecord: 9.7ms | Allocations: 29283)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/orders_controller.rb:44:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:39:11 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 42.8ms | Allocations: 27373)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 45.7ms | ActiveRecord: 8.6ms | Allocations: 47810)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:39:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"b3V0ANg2PC2SFEiZ632HQJj2yxUFBzj7fG1Or6OyjBX5FTX31seEfVRylW8KhfY+m5/4t40DBVYLmOyReed64Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"123423"}, "1"=>{"product_id"=>"2", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123423') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 47.8ms | Allocations: 17017)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1071ms (Views: 52.7ms | ActiveRecord: 7.3ms | Allocations: 49970)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:39:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 55.8ms | Allocations: 23962)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 62.5ms | ActiveRecord: 0.5ms | Allocations: 28133)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:39:45 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"BlfX53BzloSPr8Abp5VYQuxKONY/PTI1eQEOPvMuuJ2QN5YQfoIu1EnJHe1GbSk87yMLdLc5D5gO9KwAKXtOaQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"123123"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 34.5ms | Allocations: 17187)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 80ms (Views: 39.1ms | ActiveRecord: 8.9ms | Allocations: 43178)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:40:31 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 57.8ms | Allocations: 27390)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 95ms (Views: 59.9ms | ActiveRecord: 10.5ms | Allocations: 47812)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:40:38 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"5R0DQO4G+4VV8rsG8NO1ylQTWBLGqZX0qLAJp7cueAFzfUK34PdD1ZOUZvARK8S0V3prsE6tqFnfRauZbXuO9Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"41321"}, "1"=>{"product_id"=>"2", "quantity"=>"3"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '41321') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
Redirected to http://localhost:3000/orders/new
Completed 302 Found in 42ms (ActiveRecord: 8.3ms | Allocations: 7434)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:40:38 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:46
  Rendered orders/new.html.erb within layouts/application (Duration: 44.0ms | Allocations: 23966)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 48.9ms | ActiveRecord: 0.3ms | Allocations: 28132)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:43:59 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 51.0ms | Allocations: 28013)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 82ms (Views: 54.7ms | ActiveRecord: 8.3ms | Allocations: 49222)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:44:08 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"PErcKTrclz6QsbOR9WlAF9o41++mzP7CdIME8fZwHEeqKp3eNC0vblbXbmcUkTFp2VHkTS7Iw28DdqbPLCXqsw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"213123"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '213123') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 26.5ms | Allocations: 17090)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 32.6ms | ActiveRecord: 4.0ms | Allocations: 27509)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:44:13 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"m19mqw7MMWLdup9z5B+oTkgoOzgQNgTKFKkILZuJHQMNPydcAD2JMhvcQoUF59kwS0EImpgyOWdjXKoTQdzr9w==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"3"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '3') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 07:44:13.671650"], ["updated_at", "2020-03-05 07:44:13.671650"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 54], ["price", 10000.0], ["quantity", 3], ["created_at", "2020-03-05 07:44:13.675322"], ["updated_at", "2020-03-05 07:44:13.675322"]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 54], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-05 07:44:13.678902"], ["updated_at", "2020-03-05 07:44:13.678902"]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[35m (423.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:50:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:51)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Update (0.7ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 890], ["updated_at", "2020-03-05 07:44:14.124716"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:50:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:51)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 17], ["updated_at", "2020-03-05 07:44:14.158363"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index
Completed 302 Found in 563ms (ActiveRecord: 472.1ms | Allocations: 27456)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-05 14:44:14 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 51.7ms | Allocations: 21829)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 55.0ms | ActiveRecord: 2.2ms | Allocations: 25888)


Started GET "/" for 127.0.0.1 at 2020-03-05 14:45:01 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 31.6ms | Allocations: 15655)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 33.3ms | ActiveRecord: 3.8ms | Allocations: 20144)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:49:35 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 52.1ms | Allocations: 24124)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 57.7ms | ActiveRecord: 0.3ms | Allocations: 28293)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:49:44 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"KV+jiY8Z0m7lHdUgoEgJFCweUjOKzGvRuJ06EUEpccS/P+J+gehqPiN7CNZBsHhqL3dhkQLIVnzPaJgvm3yHMA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 33.0ms | Allocations: 17645)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 38.4ms | ActiveRecord: 0.0ms | Allocations: 24172)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:49:50 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 42.1ms | Allocations: 24083)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.3ms | Allocations: 28248)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:50:02 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"kLD+xEa/SSa2GFgatFznnSOaxgIERffe5lHXmgZsWJUG0L8zSE7xdnB+hexVpJbjIPP1oIxBynORpHWk3DmuYQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 50.2ms | Allocations: 17505)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 57.0ms | ActiveRecord: 0.5ms | Allocations: 25084)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:50:54 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 42.5ms | Allocations: 27496)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 45.2ms | ActiveRecord: 8.3ms | Allocations: 48007)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:51:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"OKX27KPDxj7LqUv7y3JpN3xRFP3T5qKgTqZTccp1PzeuxbcbrTJ+bg3Plg0qihhJfzgnX1vinw05U/FPECDJww==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"12124"}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '12124') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '-2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/orders_controller.rb:51:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 42.5ms | Allocations: 17104)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 183809ms (Views: 47.8ms | ActiveRecord: 3.7ms | Allocations: 76373)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:54:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 48.3ms | Allocations: 24090)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 53.0ms | ActiveRecord: 0.3ms | Allocations: 28257)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:55:08 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"sobF2kXXX336GKk5tKLOJdpgMZDLPN+cAVGaJ9cRwAMk5oQtSybnLTx+dM9VWr9b2QkCMkM44jF2pDgZDUQ29w==", "customer"=>{"name"=>"Cao Dinh Day", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1111111"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1111111') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (1.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 35.0ms | Allocations: 17093)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 2925ms (Views: 41.8ms | ActiveRecord: 1.8ms | Allocations: 46010)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:55:29 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 43.6ms | Allocations: 24085)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 48.0ms | ActiveRecord: 0.3ms | Allocations: 28255)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:55:43 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"dEn7+o4tNcnsNHyJmbFQan8eFpfkzoftVNt1YYVW8bHiKboNgNyNmSpSoX94SSEUfHclNWzKukAjLtdfXwMHRQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 41.1ms | Allocations: 17513)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 46.7ms | ActiveRecord: 0.6ms | Allocations: 25591)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:56:01 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 43.5ms | Allocations: 27502)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 79ms (Views: 46.2ms | ActiveRecord: 12.6ms | Allocations: 48016)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:56:16 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"AfU86FcJ4MQDIYJxL/CI/FiF6tdZvmZmum8Rmvrq3oeXlX0fWfhYlMVHX4fOCPmCW+zZddG6W8vNmrOkIL8ocw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 40.1ms | Allocations: 17512)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48739ms (Views: 44.9ms | ActiveRecord: 0.4ms | Allocations: 57303)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:57:07 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 41.1ms | Allocations: 24724)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 46.7ms | ActiveRecord: 0.3ms | Allocations: 29839)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:57:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"KPzIyckbuB6gqWvGSSSV6bqgIQLIC7fDDrkhLvP2f+S+nIk+x+oATmbPtjCo3OSXuckSoEAPim55TIMQKaOJEA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 07:57:18.326106"], ["updated_at", "2020-03-05 07:57:18.326106"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 55], ["price", 10000.0], ["quantity", 1], ["created_at", "2020-03-05 07:57:18.328462"], ["updated_at", "2020-03-05 07:57:18.328462"]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 55], ["price", 5000.0], ["quantity", 1], ["created_at", "2020-03-05 07:57:18.330513"], ["updated_at", "2020-03-05 07:57:18.330513"]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[35m (15.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:50:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:51)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 889], ["updated_at", "2020-03-05 07:57:18.361155"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[35m (20.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:50:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:51)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 16], ["updated_at", "2020-03-05 07:57:18.398607"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[35m (12.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index
Completed 302 Found in 28696ms (ActiveRecord: 57.5ms | Allocations: 160552)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-05 14:57:46 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 43.6ms | Allocations: 22487)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 46.5ms | ActiveRecord: 1.7ms | Allocations: 26543)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 14:57:52 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 47.0ms | Allocations: 24111)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 52.4ms | ActiveRecord: 0.3ms | Allocations: 28278)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 14:58:05 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"480KhW0LTk+W+G9G1+23HO+gNGxC8tP4iV1dWXJTM6N1rUtyY/r2H1CesrA2FcZi7MkHzsr27lX+qP9nqAbFVw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"132141"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '132141') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/orders_controller.rb:47:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 29.0ms | Allocations: 17092)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 216791ms (Views: 33.4ms | ActiveRecord: 1.5ms | Allocations: 58017)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 15:01:45 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 40.8ms | Allocations: 24087)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 44.8ms | ActiveRecord: 0.3ms | Allocations: 28256)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 15:01:53 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"kPe5Is+AnP8CVmoaDb+NUu1diodPhcfGwJ1ZdE1PADQGl/jVwXEkr8Qwt+zsR/ws7jS5JceB+mu3aPtKlxr2wA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 41.3ms | Allocations: 17507)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24891ms (Views: 45.9ms | ActiveRecord: 0.2ms | Allocations: 54273)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 15:02:21 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 11.1ms | Allocations: 6827)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms | Allocations: 8395)


  
ActionView::Template::Error (undefined method `[]' for nil:NilClass):
    39:           </ul>
    40:         </div>
    41:       <% end %>
    42:       <% if @remained_lists[0].present? %>
    43:       <h5> Sorry do not have enough inventory! </h5>
    44:       <%end%>
    45: 
  
app/views/orders/new.html.erb:42
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 15:02:57 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 46.0ms | Allocations: 24741)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 51.6ms | ActiveRecord: 0.4ms | Allocations: 29848)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 15:03:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"3MflABxbSbkVm3RzQYHZBdy1Za+n7LpvNdSt3Ezxt25Kp6T3Eqrx6dP9qYWgeah739xWDS/oh8JCIQ/ilqRBmg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 34.4ms | Allocations: 17514)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74089ms (Views: 38.6ms | ActiveRecord: 0.7ms | Allocations: 66617)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 15:05:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 58.1ms | Allocations: 24082)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 63.0ms | ActiveRecord: 0.3ms | Allocations: 28250)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 15:05:34 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"jysLxpaBxK6I6nGLCKGge5m9JuU5lglTB6pOyGqn/swZS0oxmHB8/k6MrH3pWdEFmtQVR7GSNP5wX+z2sPIIOA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 40.8ms | Allocations: 17519)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45365ms (Views: 45.3ms | ActiveRecord: 0.9ms | Allocations: 107229)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 15:06:23 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 62.2ms | Allocations: 24086)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 68.2ms | ActiveRecord: 0.3ms | Allocations: 28253)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 15:06:31 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fdvm7s1+1ni06TFxDX7UIkjZRU5YlLHTwLb57FzaMfLru6cZw49uKHKP7IfshqVcS7B27NCQjH63Q1vSho/HBg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"123232134"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '123232134') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/orders_controller.rb:47:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 47.2ms | Allocations: 17092)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 203518ms (Views: 52.6ms | ActiveRecord: 2.7ms | Allocations: 166259)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 15:09:58 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 51.9ms | Allocations: 28144)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 55.2ms | ActiveRecord: 8.9ms | Allocations: 49449)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 15:10:00 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"BpGSjLW+/uHgSQRQ/yo1vtfooaw/QC9ENhivV7CWOfeQ8dN7u09GsSYv2aYe0kTA1IGSDrdEEulB7Q1pasPPAw==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 40.2ms | Allocations: 17658)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 47.5ms | ActiveRecord: 0.0ms | Allocations: 24281)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 15:10:06 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 51.2ms | Allocations: 24083)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 55.3ms | ActiveRecord: 0.3ms | Allocations: 28253)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 15:10:16 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"CpDwl3qVmddF/fNl+BGc3OIWQKSyHK+IZXh6g1C7Kf6c8LFgdGQhh4ObLpMZ6e2i4X9zBjoYkiUSjdi9iu7fCg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1244214121"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '1244214121') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 30.3ms | Allocations: 17148)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 35.6ms | ActiveRecord: 3.6ms | Allocations: 27471)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 15:10:26 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 48.0ms | Allocations: 27514)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 50.6ms | ActiveRecord: 8.2ms | Allocations: 48013)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 15:10:33 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"YUkDGctZhPXH6HJ1kHEI0PQ2M6snaB21H9ItpW4HpXj3KULuxag8pQGOr4NxiXmu918ACa9sIBhoJ4+btFJTjA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"142132"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '142132') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 33.0ms | Allocations: 17101)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 197ms (Views: 37.8ms | ActiveRecord: 2.5ms | Allocations: 129314)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 15:10:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 62.9ms | Allocations: 24082)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 67.7ms | ActiveRecord: 0.3ms | Allocations: 28247)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 15:10:43 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 58.6ms | Allocations: 24096)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 63.4ms | ActiveRecord: 0.3ms | Allocations: 28263)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 15:10:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"cPO/vuI0DTKDsvNpVcXUYY2FC7GUYNC070KNgzB651jmk/5J7MW1YkXULp+0PaUfjuw4Exxk7RmYty+96i8RrA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 39.4ms | Allocations: 17513)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 44.5ms | ActiveRecord: 1.6ms | Allocations: 25596)


Started GET "/" for 127.0.0.1 at 2020-03-05 15:11:04 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 29.1ms | Allocations: 15117)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 30.8ms | ActiveRecord: 3.5ms | Allocations: 19566)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:11:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 23.5ms | Allocations: 12644)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 28.2ms | ActiveRecord: 0.7ms | Allocations: 17256)


Started PATCH "/products/7" for 127.0.0.1 at 2020-03-05 15:11:10 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"j7lSRVsDzBDY1R1Sae+rbDd2ABTSU+ssn2r/n8M+SIMTGduZ/hTwG8hsNezxY5ybGuUQdVBXJoNP/R3xtyVVJw==", "product"=>{"name"=>"Banh mi SG", "price"=>"2000.0", "inventory_attributes"=>{"quantity"=>"0", "id"=>"7"}}, "commit"=>"Save", "id"=>"7"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46:in `update'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 17ms (ActiveRecord: 2.8ms | Allocations: 3597)


Started GET "/" for 127.0.0.1 at 2020-03-05 15:11:11 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 38.6ms | Allocations: 13076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 38.0ms | ActiveRecord: 5.1ms | Allocations: 17025)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:11:13 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 24.8ms | Allocations: 9338)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 29.3ms | ActiveRecord: 0.7ms | Allocations: 13693)


Started GET "/products/8/edit" for 127.0.0.1 at 2020-03-05 15:12:23 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 34.3ms | Allocations: 9345)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 39.3ms | ActiveRecord: 0.4ms | Allocations: 13701)


Started GET "/products/ghfty/edit" for 127.0.0.1 at 2020-03-05 15:12:29 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"ghfty"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1110)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=ghfty):
  
app/controllers/products_controller.rb:34:in `edit'
Started GET "/products" for 127.0.0.1 at 2020-03-05 15:19:20 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 42.7ms | Allocations: 21891)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 42.2ms | ActiveRecord: 4.8ms | Allocations: 29030)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:19:24 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 18.0ms | Allocations: 9554)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9443ms (Views: 23.8ms | ActiveRecord: 0.4ms | Allocations: 18866)


Started GET "/products/qwrqwtg/edit" for 127.0.0.1 at 2020-03-05 15:19:39 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"qwrqwtg"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ (pry):37:in `edit'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (qwrqwtg)[0m
  ↳ app/controllers/products_controller.rb:34:in `edit'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (qwrqwtg) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (qwrqwtg)[0m
  ↳ app/controllers/products_controller.rb:34:in `edit'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (qwrqwtg) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (qwrqwtg)[0m
  ↳ app/controllers/products_controller.rb:34:in `edit'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (qwrqwtg) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (qwrqwtg) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "products"."id" FROM "products" WHERE (qwrqwtg)[0m
  ↳ (pry):43:in `edit'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (qwrqwtg)[0m
  ↳ app/controllers/products_controller.rb:34:in `edit'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (qwrqwtg) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (qwrqwtg)[0m
  ↳ (pry):46:in `edit'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", nil]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Completed 404 Not Found in 394479ms (ActiveRecord: 13.9ms | Allocations: 65680)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=qwrqwtg):
  
app/controllers/products_controller.rb:35:in `edit'
Started GET "/products/qwrqwtg/edit" for 127.0.0.1 at 2020-03-05 15:26:18 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"qwrqwtg"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 6.9ms | Allocations: 4267)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.1ms | Allocations: 8998)


  
ActionView::Template::Error (undefined method `to_key' for #<ActiveRecord::Relation []>
Did you mean?  to_set
               to_ary):
    4: 
    5: <h1>Edit Edtails</h1>
    6: 
    7: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    8: 
    9:   <% if @product.errors.any? %>
   10:     <div id="error_explanation">
  
app/views/products/edit.html.erb:7
Started GET "/products/edit" for 127.0.0.1 at 2020-03-05 15:26:24 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"edit"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:42:in `show'
Completed 404 Not Found in 8ms (ActiveRecord: 4.1ms | Allocations: 1289)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=edit):
  
app/controllers/products_controller.rb:42:in `show'
Started GET "/products/edit" for 127.0.0.1 at 2020-03-05 15:26:41 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"edit"}
Completed 406 Not Acceptable in 7ms (ActiveRecord: 0.9ms | Allocations: 5442)


  
ActionController::MissingExactTemplate (ProductsController#show is missing a template for request formats: text/html):
  
actionpack (6.0.2.1) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.2.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.2.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.2.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.2.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.2.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for 127.0.0.1 at 2020-03-05 15:26:49 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 43.6ms | Allocations: 22413)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 40.7ms | ActiveRecord: 9.1ms | Allocations: 29919)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 15:26:51 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 8.4ms | Allocations: 3887)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.3ms | Allocations: 4418)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007f2cbd274660>
Did you mean?  to_set
               to_ary):
    4: 
    5: <h1>Edit Edtails</h1>
    6: 
    7: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    8: 
    9:   <% if @product.errors.any? %>
   10:     <div id="error_explanation">
  
app/views/products/edit.html.erb:7
Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 15:27:37 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 12.3ms | Allocations: 4223)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.3ms | Allocations: 5501)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x000055f7aebd08e8>
Did you mean?  to_set
               to_ary):
    4: 
    5: <h1>Edit Edtails</h1>
    6: 
    7: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    8: 
    9:   <% if @product.errors.any? %>
   10:     <div id="error_explanation">
  
app/views/products/edit.html.erb:7
Started GET "/products" for 127.0.0.1 at 2020-03-05 15:28:13 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 39.2ms | Allocations: 13387)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 40.3ms | ActiveRecord: 5.3ms | Allocations: 17670)


Started GET "/products/2/edit" for 127.0.0.1 at 2020-03-05 15:28:15 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3802)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 4327)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007f2cb4b1d860>
Did you mean?  to_set
               to_ary):
    4: 
    5: <h1>Edit Edtails</h1>
    6: 
    7: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    8: 
    9:   <% if @product.errors.any? %>
   10:     <div id="error_explanation">
  
app/views/products/edit.html.erb:7
Started GET "/products/2/edit" for 127.0.0.1 at 2020-03-05 15:28:31 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 21.5ms | Allocations: 15163)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 23.6ms | ActiveRecord: 5.0ms | Allocations: 26349)


Started GET "/products/12414/edit" for 127.0.0.1 at 2020-03-05 15:28:34 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"12414"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 12414], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Completed 404 Not Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1109)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=12414):
  
app/controllers/products_controller.rb:34:in `edit'
Started GET "/" for 127.0.0.1 at 2020-03-05 15:31:59 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 45.2ms | Allocations: 22116)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 41.2ms | ActiveRecord: 8.7ms | Allocations: 29321)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:32:02 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (7) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (7) LIMIT $1[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 237ms (ActiveRecord: 0.0ms | Allocations: 110509)


  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (7) LIMIT $1[0m  [["LIMIT", 11]]
  
NameError (undefined local variable or method `bindinng' for #<ProductsController:0x00007f2cbd72e160>
Did you mean?  binding):
  
app/controllers/products_controller.rb:35:in `edit'
Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:32:14 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (7)[0m
  ↳ app/controllers/products_controller.rb:35:in `edit'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (7) LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (7) LIMIT $1[0m  [["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 13.0ms | Allocations: 4736)
Completed 500 Internal Server Error in 17175ms (ActiveRecord: 4.1ms | Allocations: 19074)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007f2cb49416b8>
Did you mean?  to_set
               to_ary):
    4: 
    5: <h1>Edit Edtails</h1>
    6: 
    7: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    8: 
    9:   <% if @product.errors.any? %>
   10:     <div id="error_explanation">
  
app/views/products/edit.html.erb:7
Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:32:34 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 14.6ms | Allocations: 2275)
Completed 500 Internal Server Error in 8001ms (ActiveRecord: 5.2ms | Allocations: 18676)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007f2cbcdde7b8>
Did you mean?  to_set
               to_ary):
    4: 
    5: <h1>Edit Edtails</h1>
    6: 
    7: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    8: 
    9:   <% if @product.errors.any? %>
   10:     <div id="error_explanation">
  
app/views/products/edit.html.erb:7
Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:32:56 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 6.5ms | Allocations: 4139)
Completed 500 Internal Server Error in 1014ms (ActiveRecord: 0.2ms | Allocations: 10217)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007f2cbd790c20>
Did you mean?  to_set
               to_ary):
    2: 
    3: <h1>Edit Edtails</h1>
    4: 
    5: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    6: 
    7:   <% if @product.errors.any? %>
    8:     <div id="error_explanation">
  
app/views/products/edit.html.erb:5
Started GET "/products" for 127.0.0.1 at 2020-03-05 15:33:21 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 49.7ms | Allocations: 29491)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 51.2ms | ActiveRecord: 9.4ms | Allocations: 39738)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:33:23 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 25.9ms | Allocations: 17264)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.3ms | Allocations: 17947)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007faab873a0b8>
Did you mean?  to_set
               to_ary):
    2: 
    3: <h1>Edit Edtails</h1>
    4: 
    5: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    6: 
    7:   <% if @product.errors.any? %>
    8:     <div id="error_explanation">
  
app/views/products/edit.html.erb:5
Started GET "/products" for 127.0.0.1 at 2020-03-05 15:33:42 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 64.9ms | Allocations: 29495)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 84ms (Views: 64.7ms | ActiveRecord: 12.4ms | Allocations: 39749)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:33:44 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 33.2ms | Allocations: 17262)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.2ms | Allocations: 17945)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007f7e4953c798>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products" for 127.0.0.1 at 2020-03-05 15:33:59 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 40.4ms | Allocations: 22111)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 38.6ms | ActiveRecord: 7.9ms | Allocations: 29249)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:34:01 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 28.6ms | Allocations: 11831)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.2ms | ActiveRecord: 0.6ms | Allocations: 16324)


Started GET "/products" for 127.0.0.1 at 2020-03-05 15:36:05 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 48.2ms | Allocations: 22100)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 50.7ms | ActiveRecord: 7.4ms | Allocations: 29242)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:36:07 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 9.9ms | Allocations: 3888)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.4ms | Allocations: 4419)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007f7e493a71f8>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products" for 127.0.0.1 at 2020-03-05 15:40:28 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 41.8ms | Allocations: 22111)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 39.0ms | ActiveRecord: 7.7ms | Allocations: 29277)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:40:30 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 8.9ms | Allocations: 2277)
Completed 500 Internal Server Error in 11012ms (ActiveRecord: 0.4ms | Allocations: 24335)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x000055b347ff7d78>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/12341sad/edit" for 127.0.0.1 at 2020-03-05 15:40:45 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"12341sad"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 12341]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2166)
Completed 500 Internal Server Error in 71432ms (ActiveRecord: 0.5ms | Allocations: 15629)


  
ActionView::Template::Error (undefined method `to_key' for #<ActiveRecord::Relation []>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/12341sad/edit" for 127.0.0.1 at 2020-03-05 15:41:58 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"12341sad"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 12341]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms | Allocations: 4904)


Started GET "/" for 127.0.0.1 at 2020-03-05 15:41:58 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 44.7ms | Allocations: 21398)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 43.0ms | ActiveRecord: 6.8ms | Allocations: 25412)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:42:01 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2367)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.4ms | Allocations: 3481)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007f7e4952c6b8>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/123asd7/edit" for 127.0.0.1 at 2020-03-05 15:42:04 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"123asd7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 123]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 988)


Started GET "/" for 127.0.0.1 at 2020-03-05 15:42:04 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 27.8ms | Allocations: 13076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 28.7ms | ActiveRecord: 3.3ms | Allocations: 17028)


Started GET "/" for 127.0.0.1 at 2020-03-05 15:48:03 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 56.1ms | Allocations: 29495)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 57.7ms | ActiveRecord: 9.2ms | Allocations: 39832)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 15:48:05 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 29.2ms | Allocations: 15726)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.3ms | Allocations: 17011)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007fd0e150f8e8>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/7asdasd/edit" for 127.0.0.1 at 2020-03-05 15:48:17 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7asdasd"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2284)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms | Allocations: 3417)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007fd0e1593328>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/7asdasd/edit" for 127.0.0.1 at 2020-03-05 15:50:11 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7asdasd"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2328)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.7ms | Allocations: 10086)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007fd0e15bddd0>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/7asdasd/edit" for 127.0.0.1 at 2020-03-05 15:50:13 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7asdasd"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 9.0ms | Allocations: 2284)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.3ms | Allocations: 3416)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x000055ec2a511668>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/7asdasd/edit" for 127.0.0.1 at 2020-03-05 15:52:39 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7asdasd"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2326)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.8ms | Allocations: 10100)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007fd0e158de28>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/7asdasd/edit" for 127.0.0.1 at 2020-03-05 15:52:41 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7asdasd"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2284)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms | Allocations: 3416)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x000055ec2940a680>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/7asdasd/edit" for 127.0.0.1 at 2020-03-05 15:52:55 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7asdasd"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 25.0ms | Allocations: 15983)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 5.1ms | Allocations: 25213)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007fbb81712818>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/7asdasd/edit" for 127.0.0.1 at 2020-03-05 15:53:09 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7asdasd"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 24.8ms | Allocations: 15983)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 3.7ms | Allocations: 25213)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007f4ab9719818>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products" for 127.0.0.1 at 2020-03-05 15:53:12 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 55.9ms | Allocations: 24873)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 59.8ms | ActiveRecord: 8.6ms | Allocations: 31577)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 15:53:13 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2284)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms | Allocations: 3421)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007f4ab9695130>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/12312asdqwe/edit" for 127.0.0.1 at 2020-03-05 15:53:17 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"12312asdqwe"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 12312]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1027)


Started GET "/" for 127.0.0.1 at 2020-03-05 15:53:17 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 13084)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 29.8ms | ActiveRecord: 3.5ms | Allocations: 17034)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 15:53:21 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (2.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2284)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.9ms | Allocations: 3418)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007f4ab969d178>
Did you mean?  to_set
               to_ary):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    4: 
    5:   <% if @product.errors.any? %>
    6:     <div id="error_explanation">
  
app/views/products/edit.html.erb:3
Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 15:53:39 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ (pry):2:in `edit'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ (pry):4:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 79.9ms | Allocations: 41446)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61363ms (Views: 83.7ms | ActiveRecord: 7.6ms | Allocations: 88081)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 15:54:45 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:19
  Rendered products/edit.html.erb within layouts/application (Duration: 28.2ms | Allocations: 15137)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 31.3ms | ActiveRecord: 5.8ms | Allocations: 26282)


Started GET "/products/asdads3/edit" for 127.0.0.1 at 2020-03-05 15:54:48 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdads3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1026)


Started GET "/" for 127.0.0.1 at 2020-03-05 15:54:48 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 25.0ms | Allocations: 13082)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.6ms | ActiveRecord: 3.2ms | Allocations: 17024)


Started GET "/" for 127.0.0.1 at 2020-03-05 15:55:45 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (2.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 41.2ms | Allocations: 22412)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 36.8ms | ActiveRecord: 10.2ms | Allocations: 30361)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 15:55:47 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 24.5ms | Allocations: 10029)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 28.9ms | ActiveRecord: 0.7ms | Allocations: 14652)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1029)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1026)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1021)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1028)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1027)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1036)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1029)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1027)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1026)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1026)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1033)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 1023)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1034)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1024)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1024)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1023)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1031)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1027)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1030)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1027)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:55:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/products/asdad3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1027)


Started GET "/products/asdad3/edit" for 127.0.0.1 at 2020-03-05 15:58:02 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdad3"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 1.2ms | Allocations: 4915)


Started GET "/" for 127.0.0.1 at 2020-03-05 15:58:02 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 47.0ms | Allocations: 21398)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 45.2ms | ActiveRecord: 6.8ms | Allocations: 25412)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 15:58:05 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 26.3ms | Allocations: 9597)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 33.7ms | ActiveRecord: 0.7ms | Allocations: 14084)


Started GET "/products/312434414/edit" for 127.0.0.1 at 2020-03-05 15:58:07 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"312434414"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 312434414], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1020)


Started GET "/" for 127.0.0.1 at 2020-03-05 15:58:07 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 32.0ms | Allocations: 13076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 35.6ms | ActiveRecord: 3.2ms | Allocations: 17021)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:07:27 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 30.3ms | Allocations: 9345)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 37.6ms | ActiveRecord: 0.9ms | Allocations: 13967)


Started GET "/products/7asdadad/edit" for 127.0.0.1 at 2020-03-05 16:07:30 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7asdadad"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 30.0ms | Allocations: 9322)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 34.3ms | ActiveRecord: 0.5ms | Allocations: 13817)


Started GET "/products/7asdadad/edit" for 127.0.0.1 at 2020-03-05 16:07:36 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7asdadad"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 28.8ms | Allocations: 9331)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.3ms | ActiveRecord: 0.6ms | Allocations: 13820)


Started GET "/products/7asdadad/edit" for 127.0.0.1 at 2020-03-05 16:07:47 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7asdadad"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 52.3ms | Allocations: 33962)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 79ms (Views: 60.1ms | ActiveRecord: 6.0ms | Allocations: 49264)


Started GET "/products/" for 127.0.0.1 at 2020-03-05 16:07:56 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 52.1ms | Allocations: 15499)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 52.6ms | ActiveRecord: 9.5ms | Allocations: 19609)


Started GET "/products/2/edit" for 127.0.0.1 at 2020-03-05 16:07:58 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 16.9ms | Allocations: 9294)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.4ms | ActiveRecord: 0.4ms | Allocations: 13802)


Started GET "/products/2aaaa/edit" for 127.0.0.1 at 2020-03-05 16:08:01 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2aaaa"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 23.8ms | Allocations: 9294)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 27.9ms | ActiveRecord: 0.5ms | Allocations: 13801)


Started GET "/products/aaaa/edit" for 127.0.0.1 at 2020-03-05 16:08:07 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaaa"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1053)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:08:07 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 25.8ms | Allocations: 13077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 27.0ms | ActiveRecord: 3.3ms | Allocations: 17027)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:08:32 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 42.3ms | Allocations: 22119)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 39.0ms | ActiveRecord: 8.0ms | Allocations: 29251)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:08:35 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Started GET "/products/aaaaaa7/edit" for 127.0.0.1 at 2020-03-05 16:08:51 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaaaaa7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Started GET "/products/7aaaa/edit" for 127.0.0.1 at 2020-03-05 16:09:02 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7aaaa"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ (pry):5:in `edit'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ (pry):6:in `edit'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ (pry):7:in `edit'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ (pry):8:in `edit'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (pry):9:in `edit'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (pry):10:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 28.9ms | Allocations: 9542)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63860ms (Views: 34.1ms | ActiveRecord: 3.9ms | Allocations: 47782)


Started GET "/products/1a0aaa/edit" for 127.0.0.1 at 2020-03-05 16:10:16 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1a0aaa"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 34.9ms | Allocations: 9254)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 2827ms (Views: 39.9ms | ActiveRecord: 1.0ms | Allocations: 20059)


Started GET "/products/00asd/edit" for 127.0.0.1 at 2020-03-05 16:10:57 +0700
Redirected to http://localhost:3000/
Completed 302 Found in 134427ms (ActiveRecord: 0.6ms | Allocations: 84177)


  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 34.8ms | Allocations: 9248)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 150968ms (Views: 40.0ms | ActiveRecord: 0.8ms | Allocations: 123576)


Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"00asd"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 1.8ms | Allocations: 4983)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:11:11 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 55.7ms | Allocations: 29495)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 56.7ms | ActiveRecord: 9.3ms | Allocations: 39743)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:11:13 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 40.7ms | Allocations: 24443)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 45.3ms | ActiveRecord: 0.5ms | Allocations: 29099)


Started GET "/products/asdsa7/edit" for 127.0.0.1 at 2020-03-05 16:11:16 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asdsa7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1053)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:11:16 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:21
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:25
  Rendered products/index.html.erb within layouts/application (Duration: 25.1ms | Allocations: 13077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.4ms | ActiveRecord: 3.1ms | Allocations: 17020)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:11:44 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 36.1ms | Allocations: 13428)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 38.3ms | ActiveRecord: 5.3ms | Allocations: 18327)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:11:48 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 17.5ms | Allocations: 9698)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.0ms | ActiveRecord: 0.6ms | Allocations: 14323)


Started GET "/products/aaaaaaaaaaa7/edit" for 127.0.0.1 at 2020-03-05 16:11:51 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaaaaaaaaaa7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 1014)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:11:51 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 31.1ms | Allocations: 13076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 31.8ms | ActiveRecord: 4.6ms | Allocations: 17020)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:13:05 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 44.4ms | Allocations: 22449)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 41.8ms | ActiveRecord: 8.2ms | Allocations: 30379)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 16:13:07 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 19.8ms | Allocations: 9972)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 25.0ms | ActiveRecord: 0.5ms | Allocations: 14601)


Started GET "/products/aaaa3/edit" for 127.0.0.1 at 2020-03-05 16:13:09 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaaa3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1017)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:13:09 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 25.5ms | Allocations: 13076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 26.5ms | ActiveRecord: 3.2ms | Allocations: 17027)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:13:33 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 43.6ms | Allocations: 22101)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 41.2ms | ActiveRecord: 8.3ms | Allocations: 29248)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:13:35 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 22.0ms | Allocations: 9568)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 31.9ms | ActiveRecord: 0.6ms | Allocations: 14058)


Started GET "/products/aaaa7/edit" for 127.0.0.1 at 2020-03-05 16:13:37 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaaa7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 36.7ms | Allocations: 34429)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 0.2ms | Allocations: 35680)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	
    5: 	<% if @product.errors.any? %>
    6:     	<div id="error_explanation">
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:37:in `edit'
Started GET "/products/aaaa7/edit" for 127.0.0.1 at 2020-03-05 16:14:01 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaaa7"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 4898)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:14:01 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 46.2ms | Allocations: 21397)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 43.5ms | ActiveRecord: 7.9ms | Allocations: 25415)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:15:04 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 40.7ms | Allocations: 22413)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 38.9ms | ActiveRecord: 7.8ms | Allocations: 30359)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 16:15:06 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:23
  Rendered products/edit.html.erb within layouts/application (Duration: 19.5ms | Allocations: 10012)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 25.4ms | ActiveRecord: 0.4ms | Allocations: 14645)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1030)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1026)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1031)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1025)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1031)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1030)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1023)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1023)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1031)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1022)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1027)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1030)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1027)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1029)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1029)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1030)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1034)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1030)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1027)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1023)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:15:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Redirected to http://localhost:3000/products/aaa3/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1026)


Started GET "/products/aaa3/edit" for 127.0.0.1 at 2020-03-05 16:17:15 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaa3"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 1.0ms | Allocations: 4925)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:17:16 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 40.0ms | Allocations: 21753)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 38.6ms | ActiveRecord: 7.0ms | Allocations: 26550)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:17:18 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (1.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 36.3ms | Allocations: 13083)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 34.5ms | ActiveRecord: 6.7ms | Allocations: 17030)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:17:20 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 17.9ms | Allocations: 9996)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.5ms | Allocations: 14623)


Started GET "/products/aaaaa7/edit" for 127.0.0.1 at 2020-03-05 16:17:21 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaaaa7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1023)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:17:21 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 25.0ms | Allocations: 13076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 25.7ms | ActiveRecord: 3.5ms | Allocations: 17026)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:21:22 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 38.5ms | Allocations: 22100)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 35.6ms | ActiveRecord: 7.8ms | Allocations: 29298)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 16:21:24 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Completed 406 Not Acceptable in 7ms (ActiveRecord: 0.2ms | Allocations: 1263)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/products_controller.rb:36:in `edit'
Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 16:21:31 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 21.3ms | Allocations: 15122)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 23.2ms | ActiveRecord: 4.8ms | Allocations: 26331)


Started GET "/products/aa3/edit" for 127.0.0.1 at 2020-03-05 16:21:34 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aa3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1021)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:21:34 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 25.8ms | Allocations: 13082)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.7ms | ActiveRecord: 3.1ms | Allocations: 17022)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:21:50 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 34.6ms | Allocations: 13420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 37.9ms | ActiveRecord: 4.2ms | Allocations: 18306)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:21:52 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 22.2ms | Allocations: 9712)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 28.4ms | ActiveRecord: 1.0ms | Allocations: 14341)


Started GET "/products/aaaaa7/edit" for 127.0.0.1 at 2020-03-05 16:21:54 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaaaa7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1015)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:21:54 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 26.7ms | Allocations: 13076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 27.7ms | ActiveRecord: 3.4ms | Allocations: 17031)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:21:57 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 28.2ms | Allocations: 9311)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 34.2ms | ActiveRecord: 0.5ms | Allocations: 13797)


Started GET "/products" for 127.0.0.1 at 2020-03-05 16:22:00 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:7
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:10
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:25
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:29
  Rendered products/index.html.erb within layouts/application (Duration: 28.0ms | Allocations: 13076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 28.2ms | ActiveRecord: 3.7ms | Allocations: 17019)


Started GET "/produc/ts" for 127.0.0.1 at 2020-03-05 16:22:52 +0700
  
ActionController::RoutingError (No route matches [GET] "/produc/ts"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for 127.0.0.1 at 2020-03-05 16:23:05 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 42.0ms | Allocations: 22407)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 38.5ms | ActiveRecord: 8.9ms | Allocations: 30413)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:23:07 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 20.0ms | Allocations: 9988)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 0.4ms | Allocations: 14618)


Started GET "/products/aaaa7/edit" for 127.0.0.1 at 2020-03-05 16:23:09 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaaa7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 4)
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 1290)


Started GET "/products/aaaa7/edit" for 127.0.0.1 at 2020-03-05 16:23:56 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"aaaa7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.0ms | Allocations: 4713)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:24:00 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 23.6ms | Allocations: 15162)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 25.4ms | ActiveRecord: 5.9ms | Allocations: 22731)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:25:32 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (4.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 37.3ms | Allocations: 13082)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 33.8ms | ActiveRecord: 8.3ms | Allocations: 17024)


Started GET "/products/new" for 127.0.0.1 at 2020-03-05 16:26:10 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 12.4ms | Allocations: 5814)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.0ms | Allocations: 9789)


Started POST "/products" for 127.0.0.1 at 2020-03-05 16:26:11 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"MQHsccYLBqKAJJwBhHH0rDnJ7xDlya1r3xYeJ6VjyMKV/xAIjPJdA6wrQ+1mgEyGBjqpJSlpH272ABx8c9lBbA==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 10.4ms | Allocations: 5910)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.0ms | Allocations: 11560)


Started POST "/products" for 127.0.0.1 at 2020-03-05 16:26:19 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"ldnfcJENT3JL5h/B7wYCnW2HnCk6GTPXSDkb6twWdo8DuZ6Hn/z3Io2AwjcO/nPjbu6vi7IdDno/zLnUBkOAew==", "product"=>{"name"=>"", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 17.7ms | Allocations: 5878)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 24.7ms | ActiveRecord: 0.0ms | Allocations: 11254)


Started POST "/products" for 127.0.0.1 at 2020-03-05 16:26:29 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"N310PeEpH/rp3g5hUWL+R4uP2n1uGQJ5KMSPD893+BahHTXK79inqi+405ewmo85iObp3+YdP9RfMS0xFSIO4g==", "product"=>{"name"=>"Banh kem", "price"=>""}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 31.0ms | Allocations: 5713)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 38.6ms | ActiveRecord: 0.0ms | Allocations: 10759)


Started POST "/products" for 127.0.0.1 at 2020-03-05 16:26:37 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"aZ2lrKyiXcJ/bNXzrt0uYOY9d1DxdiD9mg5cPYHTb7D//eRbolPlkrkKCAVPJV8e5VRE8nlyHVDt+/4DW4aZRA==", "product"=>{"name"=>"Banh kem", "price"=>"-6561"}, "commit"=>"Create"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 27.5ms | Allocations: 5630)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 35.8ms | ActiveRecord: 0.0ms | Allocations: 10055)


Started POST "/products" for 127.0.0.1 at 2020-03-05 16:26:44 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"kHsFRXe+8ZUZyS4wG38zBgd1187jG94HKkIFaqmgZn0GG0SyeU9Jxd+v88b6h0J4BBzkbGsf46pdt6dUc/WQiQ==", "product"=>{"name"=>"Banh kem", "price"=>"1"}, "commit"=>"Create"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[36mProduct Create (41.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Banh kem"], ["price", 1.0], ["created_at", "2020-03-05 09:26:44.504116"], ["updated_at", "2020-03-05 09:26:44.504116"]]
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (51.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:11:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[36mInventory Create (30.4ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 21], ["quantity", 0], ["created_at", "2020-03-05 09:26:44.606228"], ["updated_at", "2020-03-05 09:26:44.606228"]]
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_service.rb:13:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 175ms (ActiveRecord: 156.1ms | Allocations: 5319)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:26:44 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 43.5ms | Allocations: 13924)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 44.9ms | ActiveRecord: 4.4ms | Allocations: 17875)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:26:50 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 20.5ms | Allocations: 9316)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.9ms | ActiveRecord: 0.4ms | Allocations: 13801)


Started PATCH "/products/7" for 127.0.0.1 at 2020-03-05 16:26:51 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"AXmmrA5JW8swaTmUTrBRLCTw+RtuPUFwl2O32eCBXA2d2S9wq15nwCDQESrWPGbbCWPpeuw5jN9H9FW3lJpBqQ==", "product"=>{"name"=>"Banh mi SG", "price"=>"2000.0", "inventory_attributes"=>{"quantity"=>"0", "id"=>"7"}}, "commit"=>"Save", "id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:48:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:51:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.8ms | Allocations: 3650)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:26:51 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 31.4ms | Allocations: 13919)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 33.8ms | ActiveRecord: 3.6ms | Allocations: 17866)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:26:52 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 18.6ms | Allocations: 9309)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.2ms | ActiveRecord: 0.4ms | Allocations: 13794)


Started PATCH "/products/7" for 127.0.0.1 at 2020-03-05 16:26:54 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"B+8YVkKtefkTzabH3kep8mhp4/w28no/NVM1NgtdQm6bT5GK57pF8gN0jnlGy54FRfrznbT2t5DlxNdYf0Zfyg==", "product"=>{"name"=>"Banh mi SG", "price"=>"2000.0", "inventory_attributes"=>{"quantity"=>"", "id"=>"7"}}, "commit"=>"Save", "id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:48:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 20.1ms | Allocations: 8888)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 25.2ms | ActiveRecord: 1.1ms | Allocations: 17678)


Started PATCH "/products/7" for 127.0.0.1 at 2020-03-05 16:26:59 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"wSgoH/XZgmpIqT2A06iileBiWOxT0UH1rIxgCWt/8YJXSGno+yg6Oo7P4HYyUNPr4wtrTtvVfFjbecI3sSoHdg==", "product"=>{"name"=>"Banh mi SG", "price"=>"2000.0", "inventory_attributes"=>{"quantity"=>"-2", "id"=>"7"}}, "commit"=>"Save", "id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:48:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 21.8ms | Allocations: 8697)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 25.9ms | ActiveRecord: 0.9ms | Allocations: 16671)


Started PATCH "/products/7" for 127.0.0.1 at 2020-03-05 16:27:04 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"BWaln3Pvm3ZRzGpEDkM+eRLZjVeItpe7judqe4REF+6TBuRofR4jJpeqt7Lvu08HEbC+9QCyqhb5EshFXhHhGg==", "product"=>{"name"=>"Banh mi SG", "price"=>"2000.0", "inventory_attributes"=>{"quantity"=>"1", "id"=>"7"}}, "commit"=>"Save", "id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:48:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 1], ["updated_at", "2020-03-05 09:27:04.550970"], ["id", 7]]
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:51:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 28ms (ActiveRecord: 19.1ms | Allocations: 4680)


Started GET "/" for 127.0.0.1 at 2020-03-05 16:27:04 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 30.7ms | Allocations: 13918)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 33.6ms | ActiveRecord: 3.9ms | Allocations: 17866)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:27:08 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 27.2ms | Allocations: 9317)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 32.0ms | ActiveRecord: 0.4ms | Allocations: 13801)


Started GET "/products/asaqwqeqr7/edit" for 127.0.0.1 at 2020-03-05 16:27:12 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asaqwqeqr7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1046)


Started GET "/products/7qwqweqeq/edit" for 127.0.0.1 at 2020-03-05 16:27:20 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7qwqweqeq"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 16.5ms | Allocations: 9307)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.4ms | Allocations: 13793)


Started GET "/products/7qwqweqeq/edit" for 127.0.0.1 at 2020-03-05 16:28:50 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7qwqweqeq"}
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 4126)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:28:54 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 441)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:29:40 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.9ms | Allocations: 4138)


Started GET "/products" for 127.0.0.1 at 2020-03-05 16:29:43 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 55.0ms | Allocations: 22698)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 49.8ms | ActiveRecord: 9.6ms | Allocations: 26558)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 16:29:45 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 438)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 16:29:45 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 437)


Started GET "/products" for 127.0.0.1 at 2020-03-05 16:29:56 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (2.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 41.8ms | Allocations: 22942)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 36.4ms | ActiveRecord: 9.6ms | Allocations: 30213)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:29:58 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:36:in `edit'
Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:30:47 +0700
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 3)
Completed 200 OK in 58099ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 143384)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 16:30:56 +0700
Started GET "/products/3/edit" for 127.0.0.1 at 2020-03-05 16:30:56 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 10.9ms | Allocations: 6989)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.8ms | Allocations: 11235)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007fb2815296e0>
Did you mean?  to_set
               to_ary):
    2: 
    3: <h1>Edit Edtails</h1>
    4: 
    5: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    6: 
    7:   <% if @product.errors.any? %>
    8:     <div id="error_explanation">
  
app/views/products/edit.html.erb:5
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 11]]
  Rendering products/edit.html.erb within layouts/application
  Rendered products/edit.html.erb within layouts/application (Duration: 24.6ms | Allocations: 7955)
  [1m[36mProduct Load (18.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 11]]
Completed 500 Internal Server Error in 45ms (ActiveRecord: 8.1ms | Allocations: 15540)


  Rendered products/edit.html.erb within layouts/application (Duration: 30.0ms | Allocations: 8838)
Completed 500 Internal Server Error in 53ms (ActiveRecord: 18.4ms | Allocations: 18532)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x0000564fa5a84120>
Did you mean?  to_set
               to_ary):
    2: 
    3: <h1>Edit Edtails</h1>
    4: 
    5: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    6: 
    7:   <% if @product.errors.any? %>
    8:     <div id="error_explanation">
  
app/views/products/edit.html.erb:5
  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x0000564fa70fb390>
Did you mean?  to_set
               to_ary):
    2: 
    3: <h1>Edit Edtails</h1>
    4: 
    5: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    6: 
    7:   <% if @product.errors.any? %>
    8:     <div id="error_explanation">
  
app/views/products/edit.html.erb:5
Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:31:05 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 33.1ms | Allocations: 21511)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 4.2ms | Allocations: 26154)


  
ActionView::Template::Error (undefined method `to_key' for #<Product::ActiveRecord_Relation:0x00007ff4717142c0>
Did you mean?  to_set
               to_ary):
    2: 
    3: <h1>Edit Edtails</h1>
    4: 
    5: <%= simple_form_for @product, :url => {:action => "update", :id => @product} do |f| %>
    6: 
    7:   <% if @product.errors.any? %>
    8:     <div id="error_explanation">
  
app/views/products/edit.html.erb:5
Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-05 16:31:33 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  Rendering products/edit.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  Rendered products/edit.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4171)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.4ms | Allocations: 5451)


  
ActionView::Template::Error (undefined method `id' for #<Product::ActiveRecord_Relation:0x000055b9778c41d8>
Did you mean?  ids):
    2: 
    3: <h1>Edit Edtails</h1>
    4: 
    5: <%= simple_form_for @product, :url => {:action => "update", :id => @product.id} do |f| %>
    6: 
    7:   <% if @product.errors.any? %>
    8:     <div id="error_explanation">
  
app/views/products/edit.html.erb:5
Started GET "/products/7/edit/" for 127.0.0.1 at 2020-03-05 16:31:55 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 29.8ms | Allocations: 21027)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 35.4ms | ActiveRecord: 5.7ms | Allocations: 35003)


Started GET "/products/7qweqwew/edit/" for 127.0.0.1 at 2020-03-05 16:32:00 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7qweqwew"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 27.9ms | Allocations: 9314)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 31.7ms | ActiveRecord: 0.7ms | Allocations: 13889)


Started GET "/products/asd7/edit/" for 127.0.0.1 at 2020-03-05 16:32:06 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"asd7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 1389)


Started GET "/products/7qeeqweq/edit/" for 127.0.0.1 at 2020-03-05 16:32:26 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7qeeqweq"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 16:33:32 +0700
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 64.2ms | Allocations: 47551)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68719ms (Views: 66.8ms | ActiveRecord: 5.1ms | Allocations: 82011)


Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 42.9ms | Allocations: 28761)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 81ms (Views: 45.3ms | ActiveRecord: 9.6ms | Allocations: 52542)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 16:33:38 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"RxKl7OEVJoOcfXrT8gA0sCZnJD6nSFCVGHRid5kpa0DRcuQb7+Se01obpyUT+EXOJQ4XnC9MbThvgcBJQ3ydtA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 36.7ms | Allocations: 17657)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 41.6ms | ActiveRecord: 0.0ms | Allocations: 24564)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 16:33:46 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"rXuU0BgwVG2gMcJrTQta6+Ign3nRS2h98vp+2Fzxrco7G9UnFsHsPWZXH52s8yuV4Ums21lPVdCFD9zmhqRbPg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 27.4ms | Allocations: 17644)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 33.1ms | ActiveRecord: 0.0ms | Allocations: 25205)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 16:33:53 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 45.0ms | Allocations: 24160)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 50.0ms | ActiveRecord: 0.3ms | Allocations: 28327)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 16:34:03 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"myFSZgzuJd6qFrASF55xJfWNXnMdC3qyFsKRx4Us2wUNQRORAh+djmxwbeT2ZgBb9uRt0ZUPRx9hNzP5X3kt8Q==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"-563"}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '-563') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 62.0ms | Allocations: 17512)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 113ms (Views: 67.3ms | ActiveRecord: 7.2ms | Allocations: 29726)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 16:34:12 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 43.9ms | Allocations: 24164)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 48.4ms | ActiveRecord: 0.3ms | Allocations: 28333)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 16:34:23 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"iyNt25+7EZ1odE97pSW9ApjNZmatLjAzkVMSMXMUsgwdQywskUqpza4Sko1E3cx8m6RVxCUqDZ7mprAPqUFE+A==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"212142412"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '212142412') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 43.1ms | Allocations: 17149)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 48.3ms | ActiveRecord: 1.6ms | Allocations: 23557)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 16:34:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 44.4ms | Allocations: 24168)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 48.4ms | ActiveRecord: 0.3ms | Allocations: 28340)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 16:34:47 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"AjTcfYEJc6VP2Lzazr8w1L7CN4bk1FU6wXxfl3F0AMGUVJ2Kj/jL9Ym+YSwvR0GqvasEJGzQaJe2if2pqyH2NQ==", "customer"=>{"name"=>"qeq", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrder Create (1.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 09:34:47.774603"], ["updated_at", "2020-03-05 09:34:47.774603"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrderDetail Create (1.2ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 56], ["price", 10000.0], ["quantity", 2], ["created_at", "2020-03-05 09:34:47.780562"], ["updated_at", "2020-03-05 09:34:47.780562"]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 56], ["price", 5000.0], ["quantity", 2], ["created_at", "2020-03-05 09:34:47.786581"], ["updated_at", "2020-03-05 09:34:47.786581"]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[35m (26.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:50:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:51)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 887], ["updated_at", "2020-03-05 09:34:47.823254"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[35m (17.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:50:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:51)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 14], ["updated_at", "2020-03-05 09:34:47.853861"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[35m (13.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index
Completed 302 Found in 150ms (ActiveRecord: 69.7ms | Allocations: 25747)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-05 16:34:47 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 79.9ms | Allocations: 23162)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 82.9ms | ActiveRecord: 2.9ms | Allocations: 27218)


Started GET "/orders/find" for 127.0.0.1 at 2020-03-05 16:34:53 +0700
Processing by OrdersController#find as HTML
  Rendering orders/find.html.erb within layouts/application
  Rendered orders/find.html.erb within layouts/application (Duration: 76.1ms | Allocations: 521)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 82ms (Views: 81.4ms | ActiveRecord: 0.0ms | Allocations: 4526)


Started POST "/orders/report" for 127.0.0.1 at 2020-03-05 16:35:00 +0700
Processing by OrdersController#report as HTML
  Parameters: {"authenticity_token"=>"Purtqft42bLK/KrIPIm15zXopuCSoktBSbH1fvqsE+GbMHhYHu4tUGQSsSaDKMv8gMyGyRltZ5NT/yA1HX9JCA==", "start_date"=>"2020-03-03", "end_date"=>"2020-03-05", "commit"=>"Search"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("order_details"."quantity") AS sum_quantity, "order_details"."product_id" AS order_details_product_id FROM "order_details" WHERE "order_details"."created_at" BETWEEN $1 AND $2 GROUP BY "order_details"."product_id" ORDER BY sum_quantity DESC[0m  [["created_at", "2020-03-03 00:00:00"], ["created_at", "2020-03-05 00:00:00"]]
  ↳ app/controllers/orders_controller.rb:66:in `report'
  Rendering orders/report.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/report.html.erb:12
  Rendered orders/report.html.erb within layouts/application (Duration: 16.0ms | Allocations: 1610)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 21.5ms | ActiveRecord: 1.4ms | Allocations: 6602)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 16:38:41 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 60.0ms | Allocations: 27571)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 64.8ms | ActiveRecord: 8.7ms | Allocations: 48073)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 16:38:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"hEgtjT+GnbEfbk6AdtzrByI1dpY6MfKRUUewwje79TcSKGx6MXcl4dkIk3aXJJp5IVxFNLI1zzwmshL87e4Dww==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (pry):3:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ (pry):3:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 39.2ms | Allocations: 17543)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 105171ms (Views: 44.4ms | ActiveRecord: 1.1ms | Allocations: 64171)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 16:40:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 43.2ms | Allocations: 27569)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 45.4ms | ActiveRecord: 8.0ms | Allocations: 48069)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 16:40:49 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"7+3L7VWfUWX4tfIMVigLaN37FogtPFwGXutJvu78vIF5jYoaW27pNT7TL/q30HoW3pIlKqU4YaspHuuANKlKdQ==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"-2"}, "1"=>{"product_id"=>"2", "quantity"=>""}}}, "commit"=>"Save"}
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '-2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:12:in `check_valid'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 35.5ms | Allocations: 17519)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1740ms (Views: 40.8ms | ActiveRecord: 5.8ms | Allocations: 52369)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 16:45:27 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:111: syntax error, unexpected end-of-input, expecting keyword_end
        # end
             ^):
  
app/controllers/orders_controller.rb:111: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:111: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:111: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/orde'rs/new" for 127.0.0.1 at 2020-03-05 16:45:44 +0700
  
ActionController::RoutingError (No route matches [GET] "/orde'rs/new"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 16:45:49 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 58.2ms | Allocations: 41718)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 108ms (Views: 64.8ms | ActiveRecord: 9.6ms | Allocations: 72321)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 16:45:51 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ozCtaYqCgHDkOXZCpr4ca3bPsxA3gjNw5FjgnrCaXdw1UOyehHM4ICJfq7RHRm0VdaaAsr+GDt2TrUKgas+rKA==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 27.1ms | Allocations: 17562)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 31.9ms | ActiveRecord: 0.0ms | Allocations: 24483)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 16:45:56 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"dilixHU3upNrmuJ17XzgIVxzVBEnrQylFkqGbFRR+GjgSSMze8YCw638P4MMhJFfXxpns6+pMQhhvyRSjgQOnA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 37.8ms | Allocations: 17768)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 42.8ms | ActiveRecord: 0.0ms | Allocations: 27129)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 16:46:04 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 51.8ms | Allocations: 24003)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 56.6ms | ActiveRecord: 0.3ms | Allocations: 28173)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 16:46:12 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"6PNyilwTlsJ2VL0vGTC7RyVjyGCpPMYAof8AhSf/EVB+kzN9UuIukrAyYNn4yMo5Jgr7wiE4+63WCqK7/arnpA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>""}, "1"=>{"product_id"=>"2", "quantity"=>"-2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 35.1ms | Allocations: 17717)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 85ms (Views: 39.8ms | ActiveRecord: 1.5ms | Allocations: 32295)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 16:47:02 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 36.9ms | Allocations: 24009)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 40.8ms | ActiveRecord: 0.3ms | Allocations: 28178)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 17:08:23 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 58.0ms | Allocations: 42186)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 104ms (Views: 64.7ms | ActiveRecord: 9.2ms | Allocations: 74148)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 17:08:30 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"uXMrKaJPZe25zK2EFQag79vwlyGw4cTUN6mF6TsOgogvE2rerL7dvX+qcHL0/tGR2Jmkgzjl+XlAXCfX4Vt0fA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 46.3ms | Allocations: 17112)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 52.1ms | ActiveRecord: 1.5ms | Allocations: 26742)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 17:08:50 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 54.2ms | Allocations: 23974)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 58.6ms | ActiveRecord: 0.3ms | Allocations: 28153)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 17:09:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"5gcNEYz4Eqe6y54JTkdH0wHTZabosGGLjzKxjDuns3RwZ0zmggmq93ytQ/+vvzatArpWBGC0XCb4xxOy4fJFgA==", "customer"=>{"name"=>"Đầy", "phone"=>"2345876908"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 36.9ms | Allocations: 17158)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 45.0ms | ActiveRecord: 1.9ms | Allocations: 24683)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 17:13:14 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"wKvJ0o7hv6AER6rBEqVvWATT+mDLTWEW6dyK2DOvPx5Wy4glgBAH8MIhdzfzXR4mB7rJwkNJXLueKSjm6frJ6g==", "customer"=>{"name"=>"Đầy", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"1"}, "1"=>{"product_id"=>"2", "quantity"=>"1"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 34.1ms | Allocations: 17152)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 38.7ms | ActiveRecord: 0.7ms | Allocations: 24654)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 17:14:09 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 60.5ms | Allocations: 42185)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 108ms (Views: 68.4ms | ActiveRecord: 9.0ms | Allocations: 74149)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 17:14:16 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"yR+Nt+lya7qRhjWrctK3QCplaQ2X4HKP96ZiyHeqgGhff8xA54PT6lfg6F2TKsY+KQxarx/kTyKAU8D2rf92nA==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 40.2ms | Allocations: 17148)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 276474ms (Views: 45.8ms | ActiveRecord: 0.7ms | Allocations: 78207)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 17:20:11 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 60.0ms | Allocations: 42185)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 110ms (Views: 69.4ms | ActiveRecord: 9.4ms | Allocations: 74102)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 17:20:16 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"to5+YoIaPeUc4q+ZUCW6D5aCyWIVLXD5QYoQTWM4l64g7j+VjOuFtdqEcm+x3ctxlev6wJ0pTVQ2f7JzuW1hWg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"1", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 10:20:16.953245"], ["updated_at", "2020-03-05 10:20:16.953245"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 57], ["price", 10000.0], ["quantity", 2], ["created_at", "2020-03-05 10:20:16.956486"], ["updated_at", "2020-03-05 10:20:16.956486"]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 57], ["price", 10000.0], ["quantity", 2], ["created_at", "2020-03-05 10:20:16.958404"], ["updated_at", "2020-03-05 10:20:16.958404"]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[35m (283.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:50:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:51)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Update (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 885], ["updated_at", "2020-03-05 10:20:17.260910"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[35m (137.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:50:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:51)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Update (0.8ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 883], ["updated_at", "2020-03-05 10:20:17.415390"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[35m (165.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index
Completed 302 Found in 667ms (ActiveRecord: 596.4ms | Allocations: 31449)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-05 17:20:17 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 64.8ms | Allocations: 24564)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 72ms (Views: 66.9ms | ActiveRecord: 2.6ms | Allocations: 28536)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-05 17:20:47 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 44.6ms | Allocations: 23985)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 49.1ms | ActiveRecord: 0.3ms | Allocations: 28171)


Started POST "/orders" for 127.0.0.1 at 2020-03-05 17:20:54 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"9jP3/teEGQeF35GYwTgJb6jFLgb/usv9i6zg+XUatKpgU7YJ2XWhV0O5TG4gwHgRq6wdpHe+9lD8WULHr09CXg==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"1", "quantity"=>"2"}, "1"=>{"product_id"=>"2", "quantity"=>"2"}}}, "commit"=>"Save"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mInventory Load (3.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2' AND quantity >= '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:25:in `block in check_inventory'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (phone = '0396162108') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:58:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:42:in `block in merge_params'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-05 10:20:54.994508"], ["updated_at", "2020-03-05 10:20:54.994508"], ["customer_id", 1]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["order_id", 58], ["price", 10000.0], ["quantity", 2], ["created_at", "2020-03-05 10:20:54.999824"], ["updated_at", "2020-03-05 10:20:54.999824"]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("product_id", "order_id", "price", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["order_id", 58], ["price", 5000.0], ["quantity", 2], ["created_at", "2020-03-05 10:20:55.003633"], ["updated_at", "2020-03-05 10:20:55.003633"]]
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[35m (26.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:70:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '1') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:50:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:51)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Update (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 881], ["updated_at", "2020-03-05 10:20:55.038812"], ["id", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[35m (27.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE (product_id = '2') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:50:in `block in update_inventory'
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from block in update_inventory at /home/daycd/research ruby/seven-system/app/services/order_services/create_order_service.rb:51)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[36mInventory Update (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 12], ["updated_at", "2020-03-05 10:20:55.073776"], ["id", 2]]
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_services/create_order_service.rb:51:in `block in update_inventory'
Redirected to http://localhost:3000/orders/index
Completed 302 Found in 154ms (ActiveRecord: 84.6ms | Allocations: 23651)


Started GET "/orders/index" for 127.0.0.1 at 2020-03-05 17:20:55 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:13
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/orders/index.html.erb:16
  Rendered orders/index.html.erb within layouts/application (Duration: 50.8ms | Allocations: 24251)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 53.5ms | ActiveRecord: 1.8ms | Allocations: 28158)


Started GET "/orders/order_form" for 127.0.0.1 at 2020-03-05 18:12:00 +0700
Processing by OrdersController#order_form as HTML
  Rendering orders/order_form.html.erb within layouts/application
  Rendered orders/order_form.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2175)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 3396)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this order from being saved:</h2>
  
app/views/orders/order_form.html.erb:2
Started GET "/orders/order_form" for 127.0.0.1 at 2020-03-05 18:13:56 +0700
  
ActionController::RoutingError (No route matches [GET] "/orders/order_form"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-05 18:13:58 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/forms/order_form.rb:4: syntax error, unexpected ':', expecting keyword_end
    attr_accessor: 
                 ^):
  
app/forms/order_form.rb:4: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:4: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:4: syntax error, unexpected ':', expecting keyword_end
app/controllers/orders_controller.rb:4:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<top (required)>'
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-05 18:14:53 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1540)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 2728)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this order from being saved:</h2>
  
app/views/orders/order_form_new.html.erb:2
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-05 18:15:26 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1536)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2719)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @form do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this order from being saved:</h2>
  
app/views/orders/order_form_new.html.erb:2
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-05 18:16:55 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1208)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1673)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @form do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this order from being saved:</h2>
  
app/views/orders/order_form_new.html.erb:2
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-05 18:17:08 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1421)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 2604)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @form do |f| %>  
    3:  
    4: 
    5:   <% f.input :customer_name, label: 'Customer Name: ' %>
  
app/views/orders/order_form_new.html.erb:2
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-05 18:17:27 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/forms/order_form.rb:4: syntax error, unexpected ':', expecting keyword_end
    attr_accessor: customer_name
                 ^
/home/daycd/research ruby/seven-system/app/forms/order_form.rb:5: syntax error, unexpected ':', expecting keyword_end
    attr_accessor: customer_phone
                 ^
/home/daycd/research ruby/seven-system/app/forms/order_form.rb:6: syntax error, unexpected ':', expecting keyword_end
    attr_accessor: product_id
                 ^
/home/daycd/research ruby/seven-system/app/forms/order_form.rb:7: syntax error, unexpected ':', expecting keyword_end
    attr_accessor: quantity
                 ^):
  
app/forms/order_form.rb:4: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:5: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:6: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:7: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:4: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:5: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:6: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:7: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:4: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:5: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:6: syntax error, unexpected ':', expecting keyword_end
app/forms/order_form.rb:7: syntax error, unexpected ':', expecting keyword_end
app/controllers/orders_controller.rb:4:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<top (required)>'
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-05 18:17:49 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1208)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1832)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @form do |f| %>  
    3:  
    4: 
    5:   <% f.input :customer_name, label: 'Customer Name: ' %>
  
app/views/orders/order_form_new.html.erb:2
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-05 18:17:57 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 160.4ms | Allocations: 92732)
Completed 500 Internal Server Error in 4907ms (ActiveRecord: 0.0ms | Allocations: 112138)


  
ActionView::Template::Error (undefined method `order_forms_path' for #<#<Class:0x00007f2b91304328>:0x000055df8b711a68>
Did you mean?  order_path):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @form do |f| %>  
    3:  
    4: 
    5:   <% f.input :customer_name, label: 'Customer Name: ' %>
  
app/views/orders/order_form_new.html.erb:2
Started GET "/orders_form_new" for 127.0.0.1 at 2020-03-06 10:09:39 +0700
  [1m[35m (29.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/orders_form_new"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/orders_form_new" for 127.0.0.1 at 2020-03-06 10:09:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/orders/orders_form_new"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:09:56 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/controllers/orders_controller.rb:111: syntax error, unexpected ')', expecting keyword_end
...er_phone, :product_id, :phone))
...                              ^):
  
app/controllers/orders_controller.rb:111: syntax error, unexpected ')', expecting keyword_end
app/controllers/orders_controller.rb:111: syntax error, unexpected ')', expecting keyword_end
app/controllers/orders_controller.rb:111: syntax error, unexpected ')', expecting keyword_end
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:10:14 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 262.5ms | Allocations: 91633)
Completed 500 Internal Server Error in 266ms (ActiveRecord: 0.0ms | Allocations: 92877)


  
ActionView::Template::Error (undefined method `order_forms_path' for #<#<Class:0x000055980487d060>:0x000055980486d700>
Did you mean?  order_path):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @form do |f| %>  
    3:  
    4: 
    5:   <% f.input :customer_name, label: 'Customer Name: ' %>
  
app/views/orders/order_form_new.html.erb:2
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:15:28 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1066)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2196)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1> Saling </h1>
<%= simple_form_for (@form, url: order_forms_path) do |f| %>  
 

  <% f.input :customer_name, label: 'Customer Name: ' %>
  <% f.input :customer_phone, label: 'Customer Phone: ' %>

  <table>
    <thead>
      <tr>
        <th> Name </th>
        <th> Quantity </th>
      </tr>
    </thead>
    
    <tbody>
      <tr>
        <td>
          <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id, require: true%> </td>
          <td> <%= ff.input :quantity, input_html: { min: 1, step: 'any' }%> </td>
        </td>
      </tr>
    </tbody>
  </table>


    
<%end%>

):
1:    <h1> Saling </h1>
2:    <%= simple_form_for (@form, url: order_forms_path) do |f| %>  
3:     
4:    
5:      <% f.input :customer_name, label: 'Customer Name: ' %>
6:      <% f.input :customer_phone, label: 'Customer Phone: ' %>
7:    
8:      <table>
9:        <thead>
10:          <tr>
11:            <th> Name </th>
12:            <th> Quantity </th>
13:          </tr>
14:        </thead>
15:        
16:        <tbody>
17:          <tr>
18:            <td>
19:              <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id, require: true%> </td>
20:              <td> <%= ff.input :quantity, input_html: { min: 1, step: 'any' }%> </td>
21:            </td>
22:          </tr>
23:        </tbody>
24:      </table>
25:    
26:    
27:        
28:    <%end%>
  
app/views/orders/order_form_new.html.erb:2: syntax error, unexpected tLABEL, expecting '='
app/views/orders/order_form_new.html.erb:30: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/order_form_new.html.erb:2: syntax error, unexpected tLABEL, expecting '='
app/views/orders/order_form_new.html.erb:30: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/order_form_new.html.erb:2: syntax error, unexpected tLABEL, expecting '='
app/views/orders/order_form_new.html.erb:30: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/order_form_new.html.erb:2: syntax error, unexpected tLABEL, expecting '='
app/views/orders/order_form_new.html.erb:30: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/order_form_new.html.erb:2: syntax error, unexpected tLABEL, expecting '='
app/views/orders/order_form_new.html.erb:30: syntax error, unexpected keyword_end, expecting end-of-input
app/views/orders/order_form_new.html.erb:2: syntax error, unexpected tLABEL, expecting '='
app/views/orders/order_form_new.html.erb:30: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:25:50 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 147.1ms | Allocations: 80718)
Completed 500 Internal Server Error in 149ms (ActiveRecord: 0.0ms | Allocations: 81850)


  
ActionView::Template::Error (undefined method `order_forms_path' for #<#<Class:0x000055980486c418>:0x0000559804833ed8>
Did you mean?  order_path):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order_form do |f| %>  
    3:  
    4: 
    5:   <% f.input :customer_name, label: 'Customer Name: ' %>
  
app/views/orders/order_form_new.html.erb:2
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:30:45 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1175)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2299)


  
ActionView::Template::Error (No route matches {:action=>"update", :controller=>"orders"}, missing required keys: [:id]):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order_form, url: order_path do |f| %>  
    3:  
    4: 
    5:   <% f.input :customer_name, label: 'Customer Name: ' %>
  
app/views/orders/order_form_new.html.erb:2
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:38:36 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 1074.2ms | Allocations: 164450)
Completed 500 Internal Server Error in 1076ms (ActiveRecord: 0.0ms | Allocations: 165581)


  
ActionView::Template::Error (undefined local variable or method `ff' for #<#<Class:0x00007fa88d289758>:0x00007fa88d283e20>
Did you mean?  f):
    16:     <tbody>
    17:       <tr>
    18:         <td>
    19:           <td> <%= ff.input :product_id, collection: @products, label_method: :name, value_method: :id, require: true%> </td>
    20:           <td> <%= ff.input :quantity, input_html: { min: 1, step: 'any' }%> </td>
    21:         </td>
    22:       </tr>
  
app/views/orders/order_form_new.html.erb:19
app/views/orders/order_form_new.html.erb:2
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:38:48 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 40.9ms | Allocations: 8104)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 0.0ms | Allocations: 9225)


  
ActionView::Template::Error (No route matches {:action=>"create_order_form", :controller=>"orders"}):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order_form, :url => {:action => "create_order_form"} do |f| %>  
    3:  
    4: 
    5:   <% f.input :customer_name, label: 'Customer Name: ' %>
  
app/views/orders/order_form_new.html.erb:2
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:39:53 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 9.1ms | Allocations: 7121)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 718ms (Views: 717.1ms | ActiveRecord: 0.0ms | Allocations: 13691)


Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:40:26 +0700
Processing by OrdersController#order_form_new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2223)


  
NameError (uninitialized constant OrdersController::Prpduct
Did you mean?  Product):
  
app/controllers/orders_controller.rb:92:in `order_form_new'
Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:40:48 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  [1m[36mProduct Load (52.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/order_form_new.html.erb:19
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 151.0ms | Allocations: 14071)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 197ms (Views: 66.9ms | ActiveRecord: 95.2ms | Allocations: 19338)


Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:45:39 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/order_form_new.html.erb:19
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 34.8ms | Allocations: 9678)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 43.4ms | ActiveRecord: 0.4ms | Allocations: 14451)


Started GET "/orders/order_form_new" for 127.0.0.1 at 2020-03-06 10:45:52 +0700
Processing by OrdersController#order_form_new as HTML
  Rendering orders/order_form_new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/order_form_new.html.erb:19
  Rendered orders/order_form_new.html.erb within layouts/application (Duration: 72.7ms | Allocations: 9661)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 87.2ms | ActiveRecord: 0.4ms | Allocations: 14426)


  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (70.4ms)[0m  [1m[32mINSERT INTO "customers" ("name", "phone", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Pham Hung Phat"], ["phone", "0987123213"], ["created_at", "2020-03-06 04:02:40.299058"], ["updated_at", "2020-03-06 04:02:40.299058"]]
  [1m[35m (48.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrder Create (46.3ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-03-06 04:03:14.820986"], ["updated_at", "2020-03-06 04:03:14.820986"]]
  [1m[35m (37.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-03-06 04:06:40.350994"], ["updated_at", "2020-03-06 04:06:40.350994"]]
  [1m[35m (23.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-06 04:07:08.432164"], ["updated_at", "2020-03-06 04:07:08.432164"], ["customer_id", 6]]
  [1m[35m (19.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("created_at", "updated_at", "customer_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2020-03-06 04:08:07.558405"], ["updated_at", "2020-03-06 04:08:07.558405"], ["customer_id", 6]]
  [1m[35m (39.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:34:06 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/daycd/research ruby/seven-system/app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/controllers/orders_controller.rb:4:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<top (required)>'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:34:55 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 59.9ms | Allocations: 17878)
Completed 500 Internal Server Error in 66ms (ActiveRecord: 0.0ms | Allocations: 19178)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:35:21 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/daycd/research ruby/seven-system/app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/controllers/orders_controller.rb:4:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<top (required)>'
Started GET "/" for 127.0.0.1 at 2020-03-06 11:35:25 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (64.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (2.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 192.5ms | Allocations: 30066)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 209ms (Views: 122.1ms | ActiveRecord: 81.8ms | Allocations: 38824)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:35:31 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 27.2ms | Allocations: 14042)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.0ms | Allocations: 15071)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:35:36 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1209)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 1679)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:35:37 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1208)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1677)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:37:19 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/controllers/orders_controller.rb:4:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<top (required)>'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:37:45 +0700
  
SyntaxError (/home/daycd/research ruby/seven-system/app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/forms/order_form.rb:18: syntax error, unexpected keyword_end, expecting end-of-input
app/controllers/orders_controller.rb:4:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<top (required)>'
Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:38:27 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1208)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 1837)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1> Saling </h1>
    2: <%= simple_form_for @order do |f| %>  
    3:   <% if @customer.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this product from being saved:</h2>
  
app/views/orders/new.html.erb:2
Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:38:30 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 44.4ms | Allocations: 30039)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 46.9ms | ActiveRecord: 8.7ms | Allocations: 53387)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:38:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 41.3ms | Allocations: 24171)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 46.0ms | ActiveRecord: 0.3ms | Allocations: 28350)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:38:32 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 70.9ms | Allocations: 24172)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 79ms (Views: 75.6ms | ActiveRecord: 0.5ms | Allocations: 28344)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:38:33 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 92.4ms | Allocations: 24159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 103ms (Views: 99.1ms | ActiveRecord: 0.5ms | Allocations: 28327)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:38:33 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 48.3ms | Allocations: 24167)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 52.6ms | ActiveRecord: 0.3ms | Allocations: 28344)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:38:33 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 70.5ms | Allocations: 24186)
Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:38:33 +0700
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 81ms (Views: 78.9ms | ActiveRecord: 0.4ms | Allocations: 29892)


Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 45.9ms | Allocations: 24269)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 50.8ms | ActiveRecord: 0.8ms | Allocations: 28437)


Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 11:38:34 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 45.4ms | Allocations: 24163)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 50.2ms | ActiveRecord: 0.3ms | Allocations: 28330)


Started POST "/orders" for 127.0.0.1 at 2020-03-06 11:38:35 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"RfPvPDL4I1gnu9RL824ImjeccT12i+zrxs+LhmgSTOXILKUPxsSTeqGBOU/d4ujckiRU5+NgX6P+yv3c4YSMaQ==", "customer"=>{"name"=>"", "phone"=>""}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 31.6ms | Allocations: 17664)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 36.5ms | ActiveRecord: 0.0ms | Allocations: 24582)


Started POST "/orders" for 127.0.0.1 at 2020-03-06 11:38:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"0BrNkZ8E5Ag3KEseBA/IW/02GOFMZmh13hv05SlqLT9dxYeiazhUKrESphoqgygdWI49O9mN2z3mHoK/oPztsw==", "customer"=>{"name"=>"daycd", "phone"=>"0396162108"}, "order"=>{"order_details_attributes"=>{"0"=>{"product_id"=>"", "quantity"=>""}, "1"=>{"product_id"=>"", "quantity"=>""}}}, "commit"=>"Save"}
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 30.7ms | Allocations: 17725)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 36.1ms | ActiveRecord: 0.0ms | Allocations: 26267)


Started GET "/" for 127.0.0.1 at 2020-03-06 11:48:48 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (3.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 62.8ms | Allocations: 30355)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 80ms (Views: 60.2ms | ActiveRecord: 12.5ms | Allocations: 40613)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-06 11:48:51 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 84.7ms | Allocations: 24397)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 4173ms (Views: 90.4ms | ActiveRecord: 0.5ms | Allocations: 47808)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-06 11:53:55 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 24.9ms | Allocations: 15178)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 27.6ms | ActiveRecord: 5.2ms | Allocations: 26466)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-06 11:54:10 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 19.8ms | Allocations: 9754)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 25.9ms | ActiveRecord: 0.5ms | Allocations: 15288)


Started GET "/" for 127.0.0.1 at 2020-03-06 11:54:11 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 28.7ms | Allocations: 14295)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 29.8ms | ActiveRecord: 3.9ms | Allocations: 18382)


Started GET "/products/edit_product?id=7" for 127.0.0.1 at 2020-03-06 11:54:13 +0700
Processing by ProductsController#edit_product as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:66:in `edit_product'
  Rendering html template
  Rendered html template (Duration: 0.1ms | Allocations: 4)
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.3ms | Allocations: 1388)


Started GET "/products/edit_product?id=7" for 127.0.0.1 at 2020-03-06 11:54:13 +0700
Processing by ProductsController#edit_product as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:66:in `edit_product'
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1138)


Started GET "/products/edit_product?id=7" for 127.0.0.1 at 2020-03-06 11:54:39 +0700
Processing by ProductsController#edit_product as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:66:in `edit_product'
  Rendering products/edit_product.html.erb within layouts/application
  Rendered products/edit_product.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2117)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 2.9ms | Allocations: 10224)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @form, :url => {:action => "update_product", :id => @product.id} do |f| %>
    4: 
    5:   <%= f.input :name, require: true %>
    6:   <%= f.input :price, require: true %>
  
app/views/products/edit_product.html.erb:3
Started GET "/" for 127.0.0.1 at 2020-03-06 11:54:45 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 41.0ms | Allocations: 19716)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 38.9ms | ActiveRecord: 7.2ms | Allocations: 23576)


Started GET "/products/edit_product?id=7" for 127.0.0.1 at 2020-03-06 11:54:47 +0700
Processing by ProductsController#edit_product as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:66:in `edit_product'
  Rendering products/edit_product.html.erb within layouts/application
  Rendered products/edit_product.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1231)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 2470)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @form, :url => {:action => "update_product", :id => @product.id} do |f| %>
    4: 
    5:   <%= f.input :name, require: true %>
    6:   <%= f.input :price, require: true %>
  
app/views/products/edit_product.html.erb:3
Started GET "/" for 127.0.0.1 at 2020-03-06 11:55:26 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 42.6ms | Allocations: 23027)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 39.4ms | ActiveRecord: 8.0ms | Allocations: 30211)


Started GET "/products/edit_product?id=7" for 127.0.0.1 at 2020-03-06 11:55:28 +0700
Processing by ProductsController#edit_product as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:66:in `edit_product'
  Rendering products/edit_product.html.erb within layouts/application
  Rendered products/edit_product.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1223)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 2487)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Edit Edtails</h1>
    2: 
    3: <%= simple_form_for @form, :url => {:action => "update_product", :id => @product.id} do |f| %>
    4: 
    5:   <%= f.input :name, require: true %>
    6:   <%= f.input :price, require: true %>
  
app/views/products/edit_product.html.erb:3
Started GET "/products" for 127.0.0.1 at 2020-03-06 11:55:53 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 43.6ms | Allocations: 23325)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 41.1ms | ActiveRecord: 8.2ms | Allocations: 31288)


Started GET "/products/edit_product?id=7" for 127.0.0.1 at 2020-03-06 11:55:55 +0700
Processing by ProductsController#edit_product as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:66:in `edit_product'
  Rendering products/edit_product.html.erb within layouts/application
  Rendered products/edit_product.html.erb within layouts/application (Duration: 19.3ms | Allocations: 8670)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.2ms | Allocations: 10077)


  
ActionView::Template::Error (undefined method `quantity' for #<Product:0x000055d3ceab12e0>):
    4: 
    5:   <%= f.input :name, require: true %>
    6:   <%= f.input :price, require: true %>
    7:   <%= f.input :quantity, require: true %>
    8:  
    9:   <br>
   10: 	
  
app/views/products/edit_product.html.erb:7
app/views/products/edit_product.html.erb:3
Started GET "/products/edit_product?id=7" for 127.0.0.1 at 2020-03-06 11:58:22 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for ProductsController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for 127.0.0.1 at 2020-03-06 11:58:24 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 49.0ms | Allocations: 23287)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 45.9ms | ActiveRecord: 10.0ms | Allocations: 31262)


Started GET "/products/7/edit" for 127.0.0.1 at 2020-03-06 11:58:26 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:34:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 27.1ms | Allocations: 10032)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 31.6ms | ActiveRecord: 0.4ms | Allocations: 14781)


Started PATCH "/products/7" for 127.0.0.1 at 2020-03-06 11:58:29 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"U5K7JvK1+ZjpHNVtrmgH8LrXN9WGj3/Apd+sIZbAWE/mbIN0sUZqt5PMib+tqXazcKgeDeIXIcW1Eb6heef7pA==", "product"=>{"name"=>"Banh mi SG", "price"=>"2000.0", "inventory_attributes"=>{"quantity"=>"2", "id"=>"7"}}, "commit"=>"Save", "id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:47:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:50:in `block in update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:50:in `block in update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 2], ["updated_at", "2020-03-06 04:58:29.292887"], ["id", 7]]
  ↳ app/controllers/products_controller.rb:50:in `block in update'
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:50:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 26ms (ActiveRecord: 14.2ms | Allocations: 5161)


Started GET "/" for 127.0.0.1 at 2020-03-06 11:58:29 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 35.1ms | Allocations: 13919)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 35.3ms | ActiveRecord: 3.8ms | Allocations: 17865)


Started GET "/products/new" for 127.0.0.1 at 2020-03-06 11:58:43 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 11.7ms | Allocations: 5850)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.0ms | Allocations: 9827)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 12:11:33 +0700
Processing by ProductsController#new_product as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 568)


  
ActionController::ParameterMissing (param is missing or the value is empty: form):
  
app/controllers/products_controller.rb:71:in `new_product_params'
app/controllers/products_controller.rb:65:in `new_product'
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 12:12:08 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 149.9ms | Allocations: 81465)
Completed 500 Internal Server Error in 155ms (ActiveRecord: 0.0ms | Allocations: 86065)


  
ActionView::Template::Error (undefined method `new_product_forms_path' for #<#<Class:0x000055d3cff1f970>:0x000055d3cff17bf8>
Did you mean?  new_product_path):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @form do |f| %>
    4: 	
    5: 	<%= f.input :name, lable: 'Name: '%>
    6: 	
  
app/views/products/new_product.html.erb:3
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 12:13:02 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 6.3ms | Allocations: 5800)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 10167)


  
ActionView::Template::Error (No route matches {:action=>"create_product", :controller=>"products"}):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @form, url: {action: "create_product"} do |f| %>
    4: 	
    5: 	<%= f.input :name, lable: 'Name: '%>
    6: 	
  
app/views/products/new_product.html.erb:3
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 12:13:30 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 6.3ms | Allocations: 4758)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 12.0ms | ActiveRecord: 0.0ms | Allocations: 12088)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 12:14:23 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4758)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 18.5ms | ActiveRecord: 0.0ms | Allocations: 11907)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 12:14:31 +0700
  
ActionController::RoutingError (No route matches [POST] "/products/create_product"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/create_product" for 127.0.0.1 at 2020-03-06 12:15:00 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for ProductsController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/" for 127.0.0.1 at 2020-03-06 12:15:06 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 45.4ms | Allocations: 23595)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 40.1ms | ActiveRecord: 10.5ms | Allocations: 31004)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 12:15:11 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 16.5ms | Allocations: 4328)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.3ms | ActiveRecord: 0.0ms | Allocations: 8867)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 12:15:15 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"3AMZo9gTk6IETZiQ/NEfbIWTHaMCjC9nA0SKVkL9vvJR3FOQLC8jgIJ3dZTSXf8qICs4eZdnnC87QfwMy2t+fg==", "new_product_form"=>{"name"=>"nam mo", "price"=>"124321", "quantity"=>"1"}, "commit"=>"Create"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 637)


  
ActionController::ParameterMissing (param is missing or the value is empty: form):
  
app/controllers/products_controller.rb:74:in `new_product_params'
app/controllers/products_controller.rb:69:in `create_product'
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 12:15:43 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 6.9ms | Allocations: 4758)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 12.2ms | ActiveRecord: 0.0ms | Allocations: 11933)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 12:15:48 +0700
  
ActionController::RoutingError (No route matches [POST] "/products/create_product"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/" for 127.0.0.1 at 2020-03-06 12:16:26 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 43.0ms | Allocations: 23288)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 44.8ms | ActiveRecord: 8.1ms | Allocations: 31368)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 12:16:34 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1092)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2423)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Add New Product</h1>

<%= simple_form_for @form, url: {action: "create_product"} do |f| %>
	
	<%= f.input :name, lable: 'Name: '%>
	
	<%= f.input :price, lable: 'Price: ' %>

    <%= f.input :quantity, label: 'Quantity' %>

	<%= f.submit, class: "btn btn-primary" %>
<% end %>
):
1:    <h1>Add New Product</h1>
2:    
3:    <%= simple_form_for @form, url: {action: "create_product"} do |f| %>
4:    	
5:    	<%= f.input :name, lable: 'Name: '%>
6:    	
7:    	<%= f.input :price, lable: 'Price: ' %>
8:    
9:        <%= f.input :quantity, label: 'Quantity' %>
10:    
11:    	<%= f.submit, class: "btn btn-primary" %>
12:    <% end %>
  
app/views/products/new_product.html.erb:11: syntax error, unexpected tLABEL, expecting '='
app/views/products/new_product.html.erb:11: syntax error, unexpected tLABEL, expecting '='
app/views/products/new_product.html.erb:11: syntax error, unexpected tLABEL, expecting '='
app/views/products/new_product.html.erb:11: syntax error, unexpected tLABEL, expecting '='
app/views/products/new_product.html.erb:11: syntax error, unexpected tLABEL, expecting '='
app/views/products/new_product.html.erb:11: syntax error, unexpected tLABEL, expecting '='
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 12:16:43 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 15.0ms | Allocations: 4537)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 28.3ms | ActiveRecord: 0.0ms | Allocations: 9288)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 12:16:48 +0700
  
ActionController::RoutingError (No route matches [POST] "/products/create_product"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/create_product" for 127.0.0.1 at 2020-03-06 12:16:54 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for ProductsController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 12:16:57 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 6.8ms | Allocations: 4738)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 153ms (Views: 11.5ms | ActiveRecord: 0.0ms | Allocations: 143309)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 12:17:01 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"NRA4Q/iIpaNVYwC3RZiByYugCz87auJ3Dk+s4b4xvBG4z3JwDLQVgdNZ7bNrFGGPLhgu5a6BUT82Stq7N6d8nQ==", "new_product_form"=>{"name"=>"nam mo", "price"=>"124321", "quantity"=>"1"}, "commit"=>"create_product"}
No template found for ProductsController#create_product, rendering head :no_content
Completed 204 No Content in 462233ms (ActiveRecord: 0.0ms | Allocations: 19437)


  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (25.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lavie"], ["price", 10000.0], ["created_at", "2020-03-06 05:25:16.749413"], ["updated_at", "2020-03-06 05:25:16.749413"]]
  [1m[35m (34.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInventory Create (28.2ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 22], ["quantity", 10], ["created_at", "2020-03-06 05:27:26.416017"], ["updated_at", "2020-03-06 05:27:26.416017"]]
  [1m[35m (28.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 13:46:03 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 28.0ms | Allocations: 19476)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 39.2ms | ActiveRecord: 0.0ms | Allocations: 29312)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 13:46:09 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"kKc7EDqyYvD9+8QQIt0bMaVG1n1W+4p3GhXfyUoELrUdeHEjzo7S0nvBKRQMUft3AP7zp8MQOT8iEKmTw5LuOQ==", "new_product_form"=>{"name"=>"nam mo", "price"=>"124321", "quantity"=>"a"}, "commit"=>"create_product"}
No template found for ProductsController#create_product, rendering head :no_content
Completed 204 No Content in 13127ms (ActiveRecord: 0.0ms | Allocations: 24044)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 13:46:26 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 32.2ms | Allocations: 4203)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 41.5ms | ActiveRecord: 0.0ms | Allocations: 8020)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 13:46:35 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"6iUHW5fAaLrJM04cS49ASs0gr4+Qu2DgXNEjqlSJe51n+k1oY/zYmE8JoxhlA6AMaJiKVQVQ06hk1FXw3R+7EQ==", "new_product_form"=>{"name"=>"nam mo", "price"=>"124321", "quantity"=>"1"}, "commit"=>"create_product"}
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 13:46:57 +0700
No template found for ProductsController#create_product, rendering head :no_content
Completed 204 No Content in 26037ms (ActiveRecord: 0.0ms | Allocations: 10819)


Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 6.3ms | Allocations: 4768)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 0.0ms | Allocations: 11797)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 13:47:08 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"CY4v1BuSrfmWmb9L9q8GIqbPUTSnCqWGp+UXvSo8zCWEUWXn764d2xCjUk/YI+ZkA3d07jLhFs6f4GHno6oMqQ==", "new_product_form"=>{"name"=>"", "price"=>"", "quantity"=>""}, "commit"=>"create_product"}
No template found for ProductsController#create_product, rendering head :no_content
Completed 204 No Content in 266984ms (ActiveRecord: 0.0ms | Allocations: 160044)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 13:51:40 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 24.6ms | Allocations: 18477)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 38.8ms | ActiveRecord: 0.0ms | Allocations: 30284)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 13:51:42 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"sLDJxMO6ExrETtD+gbNRLVmH7yBgKAMltaQXSHE6FdM9b4P3N4ajOEJ0PfqvP7Fr/D/K+vXDsG2NoWES+KzVXw==", "new_product_form"=>{"name"=>"", "price"=>"", "quantity"=>""}, "commit"=>"create_product"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2180)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 5342)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <h1>Add New Product</h1>
    2: 
    3: <%= simple_form_for @product do |f| %>
    4: 	
    5: 	<% if @product.errors.any? %>
    6:     	<div id="error_explanation">
  
app/views/products/new.html.erb:3
app/controllers/products_controller.rb:74:in `block (2 levels) in create_product'
app/controllers/products_controller.rb:70:in `create_product'
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 13:52:52 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 10.6ms | Allocations: 4775)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 19.9ms | ActiveRecord: 0.0ms | Allocations: 11819)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 13:52:54 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"rMFSR2XyP4KiFoanvLHmG11dtaywH2b3zl2cSeEYVIwhHhh0kc6PoCQsa6OSPQZd+OWQdiX01b/2WOoTaI6UAA==", "new_product_form"=>{"name"=>"", "price"=>"", "quantity"=>""}, "commit"=>"create_product"}
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 27.7ms | Allocations: 5007)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 39.3ms | ActiveRecord: 0.0ms | Allocations: 11344)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 13:53:06 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"QKWAGGfZup+qlHAyrvpFx4I3fy57UFLnUWHG68j9JCPNesork+UKvSyunTaAdqWBJ49a9O674a9pZLCxQWvkrw==", "new_product_form"=>{"name"=>"OK", "price"=>"", "quantity"=>""}, "commit"=>"create_product"}
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 21.2ms | Allocations: 4784)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 27.8ms | ActiveRecord: 0.0ms | Allocations: 10713)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 13:53:09 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"gp0kT5DFkBFAXVx85kPeaAKXbSb/Mt5a1fPaoWUmKA0PQm58ZPkgM8ZnsXjIzz4upy9I/GrZbRLt9qz77LDogQ==", "new_product_form"=>{"name"=>"OK", "price"=>"a", "quantity"=>""}, "commit"=>"create_product"}
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 10.4ms | Allocations: 4636)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 17.5ms | ActiveRecord: 0.0ms | Allocations: 10247)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 13:53:12 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"AusxXWJCuJQ0Un+g8KsrQZfsxqok4mhsnsQUFRLfOJ2PNHtuln4ItrJokqTeJ8sHMlTjcLEJ2ySmwWJPm0n4EQ==", "new_product_form"=>{"name"=>"OK", "price"=>"-2", "quantity"=>""}, "commit"=>"create_product"}
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 11.0ms | Allocations: 4629)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 15.9ms | ActiveRecord: 0.0ms | Allocations: 10025)


Started GET "/" for 127.0.0.1 at 2020-03-06 13:58:16 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 56.2ms | Allocations: 30876)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 51.8ms | ActiveRecord: 9.3ms | Allocations: 38740)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 13:58:27 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 16.5ms | Allocations: 4330)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 27.1ms | ActiveRecord: 0.0ms | Allocations: 8864)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 13:58:40 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"fliUCbdFOb8ZxskRwGJrJSvSRpKFFgtbUiw/7EVFL9jzh946Q3mJnZ/8JBXu7otjjmpjSBD9uBNqKUm2zNPvVA==", "new_product_form"=>{"name"=>"Kem", "price"=>"16000", "quantity"=>"20"}, "commit"=>"create_product"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1282)


  
NoMethodError (undefined method `save' for #<NewProductForm:0x00007f8f90a45c28>):
  
app/controllers/products_controller.rb:72:in `block in create_product'
app/controllers/products_controller.rb:70:in `create_product'
Started GET "/products" for 127.0.0.1 at 2020-03-06 14:01:13 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 60.7ms | Allocations: 31185)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 79ms (Views: 61.8ms | ActiveRecord: 10.7ms | Allocations: 41442)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 14:01:20 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 39.4ms | Allocations: 18844)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 44.1ms | ActiveRecord: 0.0ms | Allocations: 23767)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 14:01:26 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"mQH8rqJ8Ylkr+Fi8qSrbHEfqQEQ0u1CmOdKyLkjoNGUU3radVkDSe63CtbiHpjta4lJlnqFQ4+4B18R0wX706Q==", "new_product_form"=>{"name"=>"Kem", "price"=>"16000", "quantity"=>"20"}, "commit"=>"create_product"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2570)


  
NameError (uninitialized constant ProductsController::CreateProductForm
Did you mean?  CreateProductService):
  
app/controllers/products_controller.rb:72:in `block in create_product'
app/controllers/products_controller.rb:70:in `create_product'
Started GET "/products" for 127.0.0.1 at 2020-03-06 14:03:07 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 46.9ms | Allocations: 23819)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 44.1ms | ActiveRecord: 7.8ms | Allocations: 28638)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 14:03:10 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 13.2ms | Allocations: 4330)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.0ms | Allocations: 8861)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 14:03:17 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"wJTDl0/MEaJ21bfVv8X3Indx9JJ+58WfDPVnCU/FlONNS4mku/ChgPDvWtGRSRdk0snRSOsMdtc08BFTxlNUbw==", "new_product_form"=>{"name"=>"Kem", "price"=>"16000", "quantity"=>"20"}, "commit"=>"create_product"}
Redirected to http://localhost:3000/
Completed 302 Found in 139780ms (ActiveRecord: 0.0ms | Allocations: 25897)


Started GET "/" for 127.0.0.1 at 2020-03-06 14:05:37 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 44.6ms | Allocations: 23817)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 41.2ms | ActiveRecord: 8.8ms | Allocations: 30977)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 14:05:49 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 28.7ms | Allocations: 19611)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 39.1ms | ActiveRecord: 0.0ms | Allocations: 29449)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 14:06:11 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"vkIA/Fto1kPUbx1MWRa2NXHa1RMs/MPaRXoAFO2jp6wznUrPr1RmYVJV8Eh3mlZz1GLwybkXcJJ9f3ZOZDVnIA==", "new_product_form"=>{"name"=>"Kem", "price"=>"16000", "quantity"=>"20"}, "commit"=>"create_product"}
Completed 500 Internal Server Error in 20ms (ActiveRecord: 8.4ms | Allocations: 6100)


  
ActiveModel::UnknownAttributeError (unknown attribute 'quantity' for Product.):
  
app/services/product_services/create_product_form_service.rb:9:in `create'
app/controllers/products_controller.rb:73:in `block in create_product'
app/controllers/products_controller.rb:71:in `create_product'
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 14:10:07 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 29.5ms | Allocations: 19611)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 40.0ms | ActiveRecord: 0.0ms | Allocations: 29448)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 14:10:15 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"qNA8HMESMCgI6qrp7aYckdiu06gDvNGYNJ+UFX8yno8lD3YvNS6ACo7QR+3DKvzXfRb2cpZXYtAMmuJP9qReAw==", "new_product_form"=>{"name"=>"Kem", "price"=>"16000", "quantity"=>"20"}, "commit"=>"create_product"}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 4849)


  
NoMethodError (undefined method `save' for #<Class:0x00007fcfb15533f8>):
  
app/services/product_services/create_product_form_service.rb:9:in `create'
app/controllers/products_controller.rb:73:in `block in create_product'
app/controllers/products_controller.rb:71:in `create_product'
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 14:10:43 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 28.3ms | Allocations: 19611)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 39.4ms | ActiveRecord: 0.0ms | Allocations: 29444)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 14:10:50 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"ehNne6PlrYavt8IFj5sgfckdOSqHIRIuXgkYNsVTM6L3zC1IV9kdpCmNLwGhF8A7bKUc8BLKoWZmDG5sTMXzLg==", "new_product_form"=>{"name"=>"Kem", "price"=>"16000", "quantity"=>"20"}, "commit"=>"create_product"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ (pry):4:in `create'
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kem"], ["price", 16000.0], ["created_at", "2020-03-06 07:13:07.170075"], ["updated_at", "2020-03-06 07:13:07.170075"]]
  ↳ (pry):4:in `create'
  [1m[35m (110.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ (pry):4:in `create'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ (pry):6:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ (pry):10:in `create'
  [1m[36mInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 23], ["quantity", 20], ["created_at", "2020-03-06 07:17:03.711388"], ["updated_at", "2020-03-06 07:17:03.711388"]]
  ↳ (pry):10:in `create'
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ (pry):10:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 581066ms (ActiveRecord: 134.2ms | Allocations: 392637)


Started GET "/" for 127.0.0.1 at 2020-03-06 14:22:00 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 64.5ms | Allocations: 32022)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 86ms (Views: 65.5ms | ActiveRecord: 10.8ms | Allocations: 42273)


Started GET "/new/product_params" for 127.0.0.1 at 2020-03-06 14:22:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/new/product_params"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 14:22:26 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 24.2ms | Allocations: 18545)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 177ms (Views: 29.1ms | ActiveRecord: 0.0ms | Allocations: 125255)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 14:22:55 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"b5u6ODSYrlUe/SJ3ri0ZNAUd2RPaBMezb9M8TEKyIKPiRPALwKQed5jHz3OAoflyoKX8yU/vdPtX1koWyyTgLw==", "new_product_form"=>{"name"=>"Banh Bao Khoai Mon", "price"=>"6000", "quantity"=>"10"}, "commit"=>"create_product"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_form_service.rb:9:in `create'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Banh Bao Khoai Mon"], ["price", 6000.0], ["created_at", "2020-03-06 07:22:55.430531"], ["updated_at", "2020-03-06 07:22:55.430531"]]
  ↳ app/services/product_services/create_product_form_service.rb:9:in `create'
  [1m[35m (348.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_form_service.rb:9:in `create'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/services/product_services/create_product_form_service.rb:10:in `create'
Completed 500 Internal Server Error in 367ms (ActiveRecord: 350.2ms | Allocations: 6678)


  
NameError (undefined local variable or method `pro' for #<CreateProductFormService:0x00007feff0aa96e0>
Did you mean?  proc
               pry):
  
app/services/product_services/create_product_form_service.rb:10:in `create'
app/controllers/products_controller.rb:73:in `block in create_product'
app/controllers/products_controller.rb:71:in `create_product'
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 14:23:24 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 30.1ms | Allocations: 19611)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 41.6ms | ActiveRecord: 0.0ms | Allocations: 29446)


Started GET "/products" for 127.0.0.1 at 2020-03-06 14:23:28 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 64.5ms | Allocations: 33732)
Completed 500 Internal Server Error in 70ms (ActiveRecord: 10.3ms | Allocations: 35733)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
Started GET "/" for 127.0.0.1 at 2020-03-06 14:23:36 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (1.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 49.4ms | Allocations: 17465)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 7.2ms | Allocations: 17984)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
Started GET "/" for 127.0.0.1 at 2020-03-06 14:23:45 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 64.4ms | Allocations: 34479)
Completed 500 Internal Server Error in 74ms (ActiveRecord: 10.8ms | Allocations: 38687)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
Started GET "/" for 127.0.0.1 at 2020-03-06 14:25:04 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (1.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 46.7ms | Allocations: 17465)
Completed 500 Internal Server Error in 49ms (ActiveRecord: 6.5ms | Allocations: 17984)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
Started GET "/" for 127.0.0.1 at 2020-03-06 14:25:20 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 66.5ms | Allocations: 34479)
Completed 500 Internal Server Error in 76ms (ActiveRecord: 11.4ms | Allocations: 38687)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
Started GET "/orders/new" for 127.0.0.1 at 2020-03-06 14:25:25 +0700
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/orders/new.html.erb:49
  Rendered orders/new.html.erb within layouts/application (Duration: 65.8ms | Allocations: 39932)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 107ms (Views: 74.8ms | ActiveRecord: 6.5ms | Allocations: 65588)


Started GET "/products/new" for 127.0.0.1 at 2020-03-06 14:25:31 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 18.5ms | Allocations: 6091)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 23.4ms | ActiveRecord: 0.0ms | Allocations: 10062)


Started GET "/products/index" for 127.0.0.1 at 2020-03-06 14:25:36 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for ProductsController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for 127.0.0.1 at 2020-03-06 14:25:39 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 41.5ms | Allocations: 17458)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 4.7ms | Allocations: 17970)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
Started GET "/products" for 127.0.0.1 at 2020-03-06 14:25:59 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 46.8ms | Allocations: 26392)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 8.7ms | Allocations: 30187)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
Started GET "/products" for 127.0.0.1 at 2020-03-06 14:26:00 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (3.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 58.9ms | Allocations: 17463)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 11.4ms | Allocations: 17980)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
Started GET "/products" for 127.0.0.1 at 2020-03-06 14:26:01 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 58.0ms | Allocations: 17452)
Completed 500 Internal Server Error in 60ms (ActiveRecord: 8.6ms | Allocations: 17963)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
Started GET "/products" for 127.0.0.1 at 2020-03-06 14:26:02 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (3.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (3.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (5.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 68.9ms | Allocations: 52853)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 20.9ms | Allocations: 55051)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
Started GET "/" for 127.0.0.1 at 2020-03-06 14:26:04 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 44.9ms | Allocations: 17452)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 6.6ms | Allocations: 17963)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
Started GET "/" for 127.0.0.1 at 2020-03-06 14:27:02 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (4.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (1.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 78.2ms | Allocations: 17767)
Completed 500 Internal Server Error in 83ms (ActiveRecord: 13.2ms | Allocations: 19025)


  
ActionView::Template::Error (undefined method `quantity' for nil:NilClass):
    24: 		<tr>
    25: 			<td><%= p.name %></td>
    26: 			<td><%= p.price %></td>
    27: 			<td><%= p.inventory.quantity -%></td>
    28: 			<td><%= link_to 'Edit', {:action => 'edit', :id => p.id} %></td>
    29: 		</tr>
    30: 		<% end %>
  
app/views/products/index.html.erb:27
app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 24]]
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 23]]
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1[0m  [["product_id", 24]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 24], ["quantity", 101], ["created_at", "2020-03-06 07:29:12.122353"], ["updated_at", "2020-03-06 07:29:12.122353"]]
  [1m[35m (24.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2020-03-06 14:29:25 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 61.3ms | Allocations: 32849)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 61.7ms | ActiveRecord: 9.9ms | Allocations: 43100)


Started GET "/products/new" for 127.0.0.1 at 2020-03-06 14:29:35 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 40.3ms | Allocations: 20188)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 44.7ms | ActiveRecord: 0.0ms | Allocations: 24174)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 14:29:40 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 14.5ms | Allocations: 4786)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 20.8ms | ActiveRecord: 0.0ms | Allocations: 9704)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 14:30:02 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"8vaq5eSekSKYzp52VhGUcceBKyHSZufqkihgMIg0bGp/KeDWEKIhAB70c3J4nXQ3YjkO+0eNVKKqLRZqAaKs5g==", "new_product_form"=>{"name"=>"Viên Chiên", "price"=>"5000", "quantity"=>"10110-"}, "commit"=>"create_product"}
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4399)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.0ms | Allocations: 9257)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 14:30:07 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"qoWjiInnqQDV1jXXL7oe8ctkos1Hw+Tjd5tukMXoYgwnWum7fdsZIlPs2NMBNv63btyHF9IoV6tPnhjKTH6igA==", "new_product_form"=>{"name"=>"Viên Chiên", "price"=>"5000", "quantity"=>"101"}, "commit"=>"create_product"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_form_service.rb:9:in `create'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Viên Chiên"], ["price", 5000.0], ["created_at", "2020-03-06 07:30:07.511001"], ["updated_at", "2020-03-06 07:30:07.511001"]]
  ↳ app/services/product_services/create_product_form_service.rb:9:in `create'
  [1m[35m (26.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_form_service.rb:9:in `create'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 25], ["LIMIT", 1]]
  ↳ app/services/product_services/create_product_form_service.rb:10:in `create'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 27.1ms | Allocations: 7579)


  
NoMethodError (undefined method `create' for #<Inventory:0x00007f5b394522e8>
Did you mean?  created_at):
  
app/services/product_services/create_product_form_service.rb:10:in `create'
app/controllers/products_controller.rb:73:in `block in create_product'
app/controllers/products_controller.rb:71:in `create_product'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 25]]
  [1m[35m (19.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 14:31:11 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 29.3ms | Allocations: 19611)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 40.8ms | ActiveRecord: 0.0ms | Allocations: 29444)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-06 14:31:17 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"4J0/AMW975yjHn253nyEd+TNcxaXl9iE8U8exsEoJb1tQnUzMYFfviUkkL3w8GQxQXVWzAJ8a8zJSmicSL7lMQ==", "new_product_form"=>{"name"=>"Viên Chiên", "price"=>"5000", "quantity"=>"101"}, "commit"=>"create_product"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_form_service.rb:9:in `create'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Viên Chiên"], ["price", 5000.0], ["created_at", "2020-03-06 07:31:17.820664"], ["updated_at", "2020-03-06 07:31:17.820664"]]
  ↳ app/services/product_services/create_product_form_service.rb:9:in `create'
  [1m[35m (24.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_form_service.rb:9:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/product_services/create_product_form_service.rb:10:in `create'
  [1m[36mInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "inventories" ("product_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["product_id", 26], ["quantity", 101], ["created_at", "2020-03-06 07:31:17.867947"], ["updated_at", "2020-03-06 07:31:17.867947"]]
  ↳ app/services/product_services/create_product_form_service.rb:10:in `create'
  [1m[35m (29.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/product_services/create_product_form_service.rb:10:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 110ms (ActiveRecord: 66.3ms | Allocations: 19171)


Started GET "/" for 127.0.0.1 at 2020-03-06 14:31:17 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 26], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 80.8ms | Allocations: 20536)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 80.1ms | ActiveRecord: 9.2ms | Allocations: 24638)


Started GET "/products/26/edit" for 127.0.0.1 at 2020-03-06 14:31:23 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"26"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 26], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 21.7ms | Allocations: 10401)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.4ms | ActiveRecord: 0.5ms | Allocations: 15255)


Started PATCH "/products/26" for 127.0.0.1 at 2020-03-06 14:31:27 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"5x9AgEotBlavc01mhDRq/hSLl/aqwhU5OVQYuCs29PpSDuUrZgiIBd9xYW3+1dGay5/q4QASqdDn+nfXhujaOA==", "product"=>{"name"=>"Viên Chiên", "price"=>"5000.0", "inventory_attributes"=>{"quantity"=>"1009", "id"=>"25"}}, "commit"=>"Save", "id"=>"26"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:48:in `update'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 26], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[36mInventory Update (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "quantity" = $1, "updated_at" = $2 WHERE "inventories"."id" = $3[0m  [["quantity", 1009], ["updated_at", "2020-03-06 07:31:27.267946"], ["id", 25]]
  ↳ app/controllers/products_controller.rb:51:in `block in update'
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:51:in `block in update'
Redirected to http://localhost:3000/
Completed 302 Found in 30ms (ActiveRecord: 19.4ms | Allocations: 4888)


Started GET "/" for 127.0.0.1 at 2020-03-06 14:31:27 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 26], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 38.1ms | Allocations: 17248)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 38.2ms | ActiveRecord: 4.3ms | Allocations: 21196)


  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."created_at" DESC[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT 1 AS one FROM "orders" ORDER BY "orders"."created_at" DESC LIMIT $1) subquery_for_count[0m  [["LIMIT", 5]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2)[0m  [["id", 6], ["id", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2)[0m  [["id", 6], ["id", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2)[0m  [["id", 6], ["id", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2, $3)[0m  [["id", 6], ["id", 2], ["id", 1]]
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (id > 58) ORDER BY "orders"."created_at" DESC[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2, $3)[0m  [["id", 6], ["id", 2], ["id", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (orders.id > 58) ORDER BY "orders"."created_at" DESC[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2, $3)[0m  [["id", 6], ["id", 2], ["id", 1]]
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customer.id = 1) ORDER BY "orders"."created_at" DESC[0m
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customer.id = 1) ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customers.id = 1) ORDER BY "orders"."created_at" DESC[0m
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customers.id = 1) ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customer.id = ) ORDER BY "orders"."created_at" DESC[0m
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customer.id = ) ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customer.name LIKE '%Phat%' ) ORDER BY "orders"."created_at" DESC[0m
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customer.name LIKE '%Phat%' ) ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE (customer.id = 1)[0m
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE (customer.id = 1) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customer.name LIKE '%Phat%' ) ORDER BY "orders"."created_at" DESC[0m
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (customer.name LIKE '%Phat%' ) ORDER BY "orders"."created_at" DESC LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "orders"."id" AS t0_r0, "orders"."created_at" AS t0_r1, "orders"."updated_at" AS t0_r2, "orders"."customer_id" AS t0_r3, "customers"."id" AS t1_r0, "customers"."name" AS t1_r1, "customers"."phone" AS t1_r2, "customers"."created_at" AS t1_r3, "customers"."updated_at" AS t1_r4 FROM "orders" LEFT OUTER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customer"."id" = $1 ORDER BY "orders"."created_at" DESC[0m  [["id", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "orders"."id" AS t0_r0, "orders"."created_at" AS t0_r1, "orders"."updated_at" AS t0_r2, "orders"."customer_id" AS t0_r3, "customers"."id" AS t1_r0, "customers"."name" AS t1_r1, "customers"."phone" AS t1_r2, "customers"."created_at" AS t1_r3, "customers"."updated_at" AS t1_r4 FROM "orders" LEFT OUTER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customer"."id" = $1 ORDER BY "orders"."created_at" DESC LIMIT $2[0m  [["id", 1], ["LIMIT", 11]]
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "orders"."id" AS t0_r0, "orders"."created_at" AS t0_r1, "orders"."updated_at" AS t0_r2, "orders"."customer_id" AS t0_r3, "customers"."id" AS t1_r0, "customers"."name" AS t1_r1, "customers"."phone" AS t1_r2, "customers"."created_at" AS t1_r3, "customers"."updated_at" AS t1_r4 FROM "orders" LEFT OUTER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."id" = $1[0m  [["id", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (orders.id > 5)[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2, $3, $4, $5)[0m  [["id", 1], ["id", 4], ["id", 5], ["id", 6], ["id", 2]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (orders.id > 58)[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2, $3)[0m  [["id", 6], ["id", 1], ["id", 2]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (orders.id > 58)[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2, $3)[0m  [["id", 6], ["id", 1], ["id", 2]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "orders"."id" AS t0_r0, "orders"."created_at" AS t0_r1, "orders"."updated_at" AS t0_r2, "orders"."customer_id" AS t0_r3, "customers"."id" AS t1_r0, "customers"."name" AS t1_r1, "customers"."phone" AS t1_r2, "customers"."created_at" AS t1_r3, "customers"."updated_at" AS t1_r4 FROM "orders" LEFT OUTER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (1.5ms)[0m  [1m[34mSELECT "orders"."id" AS t0_r0, "orders"."created_at" AS t0_r1, "orders"."updated_at" AS t0_r2, "orders"."customer_id" AS t0_r3, "customers"."id" AS t1_r0, "customers"."name" AS t1_r1, "customers"."phone" AS t1_r2, "customers"."created_at" AS t1_r3, "customers"."updated_at" AS t1_r4 FROM "orders" LEFT OUTER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."name" = $1[0m  [["name", "Pham Hung Phut"]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "orders"."id" AS t0_r0, "orders"."created_at" AS t0_r1, "orders"."updated_at" AS t0_r2, "orders"."customer_id" AS t0_r3, "customers"."id" AS t1_r0, "customers"."name" AS t1_r1, "customers"."phone" AS t1_r2, "customers"."created_at" AS t1_r3, "customers"."updated_at" AS t1_r4 FROM "orders" LEFT OUTER JOIN "customers" ON "customers"."id" = "orders"."customer_id" WHERE "customers"."name" = $1[0m  [["name", "Pham Hung Phat"]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id > 58)[0m
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id > 58) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id > 58)[0m
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id > 58) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers" WHERE (orders.id > 58)[0m
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (order.id > 58)[0m
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (order.id > 58) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers" WHERE (order.id > 58)[0m
  [1m[36mCustomer Load (5.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id > 58)[0m
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id > 58) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers" WHERE (orders.id > 58)[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat')[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers" WHERE (customers.name = 'Pham Hung Phat')[0m
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat') ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat') ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat')[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat') LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat')[0m
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customer.name = 'Pham Hung Phat')[0m
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customer.name = 'Pham Hung Phat') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers" WHERE (customer.name = 'Pham Hung Phat')[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat')[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers" WHERE (customers.name = 'Pham Hung Phat')[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.name = 'Pham Hung Phat') ORDER BY "customers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" IN ($1, $2, $3, $4, $5, $6)[0m  [["customer_id", 1], ["customer_id", 3], ["customer_id", 5], ["customer_id", 6], ["customer_id", 2], ["customer_id", 4]]
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "customers"."id" AS t0_r0, "customers"."name" AS t0_r1, "customers"."phone" AS t0_r2, "customers"."created_at" AS t0_r3, "customers"."updated_at" AS t0_r4, "orders"."id" AS t1_r0, "orders"."created_at" AS t1_r1, "orders"."updated_at" AS t1_r2, "orders"."customer_id" AS t1_r3 FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE "customer"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT DISTINCT "customers"."id" FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE "customer"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 11]]
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "customers"."id" AS t0_r0, "customers"."name" AS t0_r1, "customers"."phone" AS t0_r2, "customers"."created_at" AS t0_r3, "customers"."updated_at" AS t0_r4, "orders"."id" AS t1_r0, "orders"."created_at" AS t1_r1, "orders"."updated_at" AS t1_r2, "orders"."customer_id" AS t1_r3 FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE "customer"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT DISTINCT "customers"."id" FROM "customers" LEFT OUTER JOIN "orders" ON "orders"."customer_id" = "customers"."id" WHERE "customer"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 11]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (customers.id = 1)[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id = 1)[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id = 1) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id > 58)[0m
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id > 58) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (order.id > 58)[0m
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (order.id > 58) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers" WHERE (order.id > 58)[0m
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id > 58)[0m
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (orders.id > 58) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "customers" WHERE (orders.id > 58)[0m
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-06 17:20:11 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 24.9ms | Allocations: 19611)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 39.1ms | ActiveRecord: 0.0ms | Allocations: 29445)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-09 10:15:12 +0700
  [1m[35m (29.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 192.3ms | Allocations: 19230)
Completed 500 Internal Server Error in 221ms (ActiveRecord: 0.0ms | Allocations: 22903)


  
ActionView::Template::Error (undefined method `name' for #<NewProductForm:0x00007fab94de11a0>):
    13:   	</div>
    14:   <% end %>
    15: 	
    16: 	<%= f.input :name, lable: 'Name: '%>
    17: 	
    18: 	<%= f.input :price, lable: 'Price: ' %>
    19: 
  
app/views/products/new_product.html.erb:16
app/views/products/new_product.html.erb:3
Started GET "/products/" for 127.0.0.1 at 2020-03-09 10:15:21 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (72.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 26], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 227.2ms | Allocations: 33429)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 434ms (Views: 309.7ms | ActiveRecord: 100.7ms | Allocations: 41382)


Started GET "/products/new" for 127.0.0.1 at 2020-03-09 10:15:24 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (Duration: 43.8ms | Allocations: 6203)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 48.0ms | ActiveRecord: 0.0ms | Allocations: 10195)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-09 10:18:48 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4829)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 12.3ms | ActiveRecord: 0.0ms | Allocations: 11868)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-09 10:21:56 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"a/2L9EHWTNrTzkMqL9aPiYHuOo6k9AvuNNwHKAwnyWp7CSAOFQH7bWDAHLIE7p16Wt69c64TRnWsBmA37BCYDw==", "new_product_form"=>{"name"=>"", "price"=>"", "quantity"=>""}, "commit"=>"create_product"}
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 14.5ms | Allocations: 5033)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 24.9ms | ActiveRecord: 0.0ms | Allocations: 11618)


Started GET "/products/create_product" for 127.0.0.1 at 2020-03-09 10:37:34 +0700
  
AbstractController::ActionNotFound (The action 'show' could not be found for ProductsController):
  
actionpack (6.0.2.1) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.2.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.2.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.2.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.2.2) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
actionpack (6.0.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.2) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.2) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.2.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.2.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-09 10:37:42 +0700
Processing by ProductsController#new_product as HTML
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 4562)


  
NameError (uninitialized constant Products
Did you mean?  Product):
  
app/forms/new_product_form.rb:1:in `<top (required)>'
app/controllers/products_controller.rb:66:in `new_product'
Started GET "/products/new_product" for 127.0.0.1 at 2020-03-09 10:37:50 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 28.7ms | Allocations: 7102)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 85ms (Views: 36.8ms | ActiveRecord: 14.4ms | Allocations: 19109)


Started GET "/products/new_product" for 127.0.0.1 at 2020-03-09 10:37:52 +0700
Processing by ProductsController#new_product as HTML
  Rendering products/new_product.html.erb within layouts/application
  Rendered products/new_product.html.erb within layouts/application (Duration: 10.7ms | Allocations: 7030)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 16.6ms | ActiveRecord: 2.3ms | Allocations: 21262)


Started POST "/products/create_product" for 127.0.0.1 at 2020-03-09 10:38:19 +0700
Processing by ProductsController#create_product as HTML
  Parameters: {"authenticity_token"=>"X4GSxAmPurtAEYQP/Zo9/e4Uq2DwRtDiPuBwIuXNWa1PdTk+XVgNDPMf25fWoi8ONSQsnfqhnXmmOhc9BfoIyA==", "new_product_form"=>{"name"=>"4 chu a", "price"=>"2211", "quantity"=>"1905"}, "commit"=>"create_product"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 1101)


  
NoMethodError (undefined method `write_from_user' for nil:NilClass):
  
app/controllers/products_controller.rb:70:in `create_product'
Started GET "/" for 127.0.0.1 at 2020-04-17 15:08:27 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:5
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "inventories" ON "inventories"."product_id" = "products"."id" WHERE (inventories.quantity <= 2)[0m
  ↳ app/views/products/index.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:23
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 26], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 27], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 28], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 29], ["LIMIT", 1]]
  ↳ app/views/products/index.html.erb:27
  Rendered products/index.html.erb within layouts/application (Duration: 97.4ms | Allocations: 36202)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/daycd/research ruby/seven-system/public/packs
[Webpacker] Hash: 2fe58b38cebf49d7124f
Version: webpack 4.41.6
Time: 2380ms
Built at: 17/04/2020 3:08:31 pm
                                     Asset       Size       Chunks                         Chunk Names
    js/application-14edffcceab04b60165d.js   1.51 MiB  application  [emitted] [immutable]  application
js/application-14edffcceab04b60165d.js.map   1.64 MiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-14edffcceab04b60165d.js js/application-14edffcceab04b60165d.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 835 bytes {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 905 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 10 hidden modules

Completed 200 OK in 4168ms (Views: 4139.7ms | ActiveRecord: 19.7ms | Allocations: 48760)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-04-17 15:08:34 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 ORDER BY "products"."id" DESC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35:in `edit'
  Rendering products/edit.html.erb within layouts/application
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/views/products/edit.html.erb:21
  Rendered products/edit.html.erb within layouts/application (Duration: 96.7ms | Allocations: 26628)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 109ms (Views: 103.3ms | ActiveRecord: 0.6ms | Allocations: 31511)


